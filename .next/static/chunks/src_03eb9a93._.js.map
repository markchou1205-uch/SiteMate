{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AACA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,yMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,qKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,oXACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzC,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1032, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toggle-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAGA;AACA;;;AAPA;;;;;AASA,MAAM,mCAAqB,CAAA,GAAA,6JAAA,CAAA,gBAAmB,AAAD,EAE3C;IACA,MAAM;IACN,SAAS;AACX;AAEA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAIjC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACnD,6LAAC,8KAAA,CAAA,OAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;kBAET,cAAA,6LAAC,mBAAmB,QAAQ;YAAC,OAAO;gBAAE;gBAAS;YAAK;sBACjD;;;;;;;;;;;;AAIP,YAAY,WAAW,GAAG,8KAAA,CAAA,OAAyB,CAAC,WAAW;AAE/D,MAAM,gCAAkB,GAAA,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,WAIrC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;;IACnD,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAAE;IAEjC,qBACE,6LAAC,8KAAA,CAAA,OAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;YACb,SAAS,QAAQ,OAAO,IAAI;YAC5B,MAAM,QAAQ,IAAI,IAAI;QACxB,IACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;;AACA,gBAAgB,WAAW,GAAG,8KAAA,CAAA,OAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1108, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1202, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1473, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/menubar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1780, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/edit-pdf/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport { PDFDocument as PDFLibDocument, StandardFonts, rgb, degrees, grayscale, pushGraphicsState, popGraphicsState, setOpacity, layoutMultilineText, PDFFont, BlendMode, drawText, drawPolygon } from 'pdf-lib';\nimport Sortable from 'sortablejs';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription as ShadAlertDialogDescription, AlertDialogFooter, AlertDialogHeader as ShadAlertDialogHeader, AlertDialogTitle as ShadAlertDialogTitle, AlertDialogTrigger } from \"@/components/ui/alert-dialog\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogTrigger, DialogClose } from \"@/components/ui/dialog\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, RotateCcw, RotateCw, X, Trash2, Download, Upload, Info, Shuffle, Search, Edit3, Droplet, LogIn, LogOut, UserCircle, FileText, Lock, MenuSquare, Columns, ShieldCheck, FilePlus, ListOrdered, Move, CheckSquare, Image as ImageIcon, Minimize2, Palette, CaseSensitive, Eye, Scissors, LayoutGrid, PanelLeft, FilePlus2, Combine, Type, ImagePlus, Link as LinkIcon, MessageSquarePlus, ZoomIn, ZoomOut, Expand, Bold, Italic, Underline, AlignLeft, AlignCenter, AlignRight, Highlighter, ArrowRightLeft, Edit, FileUp, FileSpreadsheet, LucidePresentation, Code, FileImage, FileMinus, Droplets, ScanText, Sparkles, XCircle, File, FolderOpen, Save, Wrench, HelpCircle, PanelTop, Redo, Undo, Hand, Square, Circle, Pencil, Printer, SearchIcon, ChevronLeft, ChevronRight, MousePointerSquareDashed, Grid, ShieldAlert, Layers, Brush, History } from 'lucide-react';\nimport { Slider } from \"@/components/ui/slider\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\";\nimport { Toggle } from \"@/components/ui/toggle\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Menubar,\n  MenubarContent,\n  MenubarItem,\n  MenubarMenu,\n  MenubarSeparator,\n  MenubarSub,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarTrigger,\n} from \"@/components/ui/menubar\"\nimport { cn } from '@/lib/utils';\n\n\nif (typeof window !== 'undefined') {\n  pdfjsLib.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\n}\n\ninterface PageObject {\n  id: string;\n  sourceCanvas: HTMLCanvasElement;\n  rotation: number; // 0, 90, 180, 270\n}\n\ninterface LinkAnnotationDef {\n  type: 'url' | 'page';\n  value: string; // URL string or page number as a string\n}\n\ninterface TextSegment {\n  text: string;\n  color: string;\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n}\n\ninterface TextAnnotation {\n  id: string;\n  type: 'text';\n  pageIndex: number;\n  segments: TextSegment[];\n  topRatio: number;\n  leftRatio: number;\n  widthRatio: number;\n  heightRatio: number;\n  fontSize: number;\n  fontFamily: string;\n  textAlign: 'left' | 'center' | 'right';\n  link?: LinkAnnotationDef;\n  isUserAction?: boolean;\n}\n\n\ninterface ImageAnnotation {\n    id: string;\n    type: 'image';\n    pageIndex: number;\n    dataUrl: string;\n    topRatio: number;\n    leftRatio: number;\n    widthRatio: number;\n    heightRatio: number;\n    aspectRatio: number;\n    link?: LinkAnnotationDef;\n    isUserAction?: boolean;\n}\n\ninterface HighlightAnnotation {\n  id: string;\n  type: 'highlight';\n  pageIndex: number;\n  topRatio: number;\n  leftRatio: number;\n  widthRatio: number;\n  heightRatio: number;\n  color: string;\n  isUserAction?: boolean;\n}\n\ninterface ShapeAnnotation {\n  id: string;\n  pageIndex: number;\n  type: 'rect' | 'ellipse' | 'triangle';\n  topRatio: number;\n  leftRatio: number;\n  widthRatio: number;\n  heightRatio: number;\n  fillColor: string;\n  strokeColor: string;\n  strokeWidth: number;\n  isUserAction?: boolean;\n}\n\ninterface ScribbleAnnotation {\n    id: string;\n    type: 'scribble';\n    pageIndex: number;\n    points: {xRatio: number, yRatio: number}[];\n    color: string;\n    strokeWidth: number;\n    isUserAction?: boolean;\n}\n\ninterface MosaicAnnotation {\n    id: string;\n    type: 'mosaic';\n    pageIndex: number;\n    topRatio: number;\n    leftRatio: number;\n    widthRatio: number;\n    heightRatio: number;\n    isUserAction?: boolean;\n}\n\ntype Annotation = TextAnnotation | ImageAnnotation | HighlightAnnotation | ShapeAnnotation | ScribbleAnnotation | MosaicAnnotation;\n\ninterface EditorState {\n    pageObjects: PageObject[];\n    annotations: Annotation[];\n}\n\ninterface PageTextContent {\n  pageIndex: number;\n  items: any[]; // pdfjs.TextItem[]\n}\n\ninterface SearchResult {\n  pageIndex: number;\n  text: string;\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\ntype Tool = 'select' | 'pan' | 'text' | 'image' | 'highlight' | 'shape' | 'signature' | 'scribble' | 'mosaic' | 'extract-text';\ntype InteractionMode = 'idle' | 'selected' | 'editing' | 'drawing-mosaic' | 'drawing-scribble' | 'drawing-shape';\n\nconst translations = {\n    en: {\n        pageTitle: 'PDF Editor (Pro Mode)',\n        uploadLabel: 'Select PDF file to edit:',\n        deletePages: 'Delete Selected Pages',\n        splitPages: 'Split Selected',\n        downloadPdf: 'Save as PDF',\n        downloadTxt: 'Download as TXT',\n        convertToWord: 'Convert to Word',\n        convertingToWord: 'Converting to Word...',\n        insertAreaTitle: 'Select PDF to Insert',\n        insertOptionsTitle: 'Insertion Options',\n        insertBeforeLabel: 'Insert before selected page',\n        insertAfterLabel: 'Insert after selected page',\n        instSelect: 'Click page to select/deselect.',\n        instDrag: 'Drag pages to reorder.',\n        instZoom: 'Use mouse wheel to zoom.',\n        modalCloseButton: 'Close',\n        rotateLeft: 'Rotate Left 90',\n        rotateRight: 'Rotate Right 90',\n        resetRotation: 'Reset Rotation & Zoom',\n        generatingFile: 'Generating file, please wait',\n        extractingText: 'Extracting text, please wait...',\n        loadError: 'Failed to load PDF',\n        downloadError: 'Failed to download PDF',\n        splitPdfSuccess: 'Split PDF downloaded successfully!',\n        splitPdfError: 'Failed to split PDF',\n        txtDownloadError: 'Failed to download TXT',\n        wordConvertError: 'Failed to convert to Word',\n        pdfCoMethodNotFoundError: 'PDF.co Error: \"Method Not Found\" or API key issue. Please verify your PDF.co API Key is correct and the API endpoint in the Cloud Function is valid. Check PDF.co documentation.',\n        wordConvertLimitTitle: 'Conversion Limit Reached',\n        wordConvertLimitDescription: 'Guests can convert one PDF to Word per day. Please log in for unlimited conversions.',\n        wordConvertSuccess: 'Conversion successful!',\n        downloadWordFile: 'Click here to download Word file',\n        insertError: 'Failed to insert PDF',\n        insertConfirmTitle: 'Confirm Insert Position',\n        insertConfirmDescription: 'No page is selected. The new PDF will be inserted at the end of the current document. Continue?',\n        confirm: 'Confirm',\n        cancel: 'Cancel',\n        noteInputPlaceholder: 'Add a temporary note (not saved in PDF)',\n        pageManagement: 'Page Management',\n        fileOperations: 'File Operations',\n        pageNumberingSectionTitle: 'Page Numbering',\n        enablePageNumbering: 'Enable Page Numbering',\n        pageNumberPosition: 'Position',\n        pageNumberStart: 'Start Number',\n        pageNumberMargin: 'Margin (pt)',\n        pageNumberFormat: 'Format ({page}, {total})',\n        pageNumberFormatPlaceholder: '{page} / {total}',\n        protectPdfSectionTitle: 'Protect PDF',\n        enablePdfProtection: 'Enable PDF Protection',\n        pdfPassword: 'Password',\n        pdfPasswordPlaceholder: 'Enter password',\n        page: 'Page',\n        uploadPdfFirstShort: 'Upload a PDF to start editing.',\n        uploadPdfFirst: 'Please upload a PDF first to enable editing features.',\n        noPagesToDownload: 'No pages to download.',\n        noPdfToExtractText: 'No PDF loaded to extract text from.',\n        noPdfToConvert: 'No PDF loaded to convert.',\n        noPageSelected: 'No page selected.',\n        loadingPdf: 'Loading PDF...',\n        insertingPdf: 'Inserting PDF...',\n        previewOf: 'Preview of Page',\n        dropFileHere: 'Drop PDF file here or click to upload',\n        dropInsertFileHere: 'Drop PDF here or click to select for insertion',\n        loggedInAs: 'Logged in as User',\n        login: 'Login',\n        logout: 'Logout',\n        guest: 'Guest',\n        firebaseNotConfigured: `Firebase Frontend SDK is not fully configured. Please ensure all Firebase environment variables (%MISSING_KEYS%) are correctly set and propagated to the client. This might require checking build logs or App Hosting settings.`,\n        firebaseSdkInitError: \"Firebase SDK could not be initialized properly (services like Storage or Functions might be unavailable). 'Convert to Word' and other Firebase features might be disabled. Check browser console for details from firebase.ts.\",\n        zoomDialogDescription: 'View a larger preview of the selected page. You can rotate the page here. Use mouse wheel to zoom.',\n        bottomLeft: 'Bottom Left',\n        bottomCenter: 'Bottom Center',\n        bottomRight: 'Bottom Right',\n        middleLeft: 'Middle Left',\n        middleRight: 'Middle Right',\n        topLeft: 'Top Left',\n        topCenter: 'Top Center',\n        topRight: 'Top Right',\n        pdfEditingTools: 'PDF Tools',\n        downloadAndConvertTitle: 'Download & Convert',\n        startEditingYourPdf: 'Start Editing Your PDF',\n        pagesLoaded: 'page(s) loaded',\n        pageSelectedSuffix: 'selected',\n        featureEdit: 'Edit',\n        featureMerge: 'Merge',\n        featurePageNum: 'Page #',\n        featureProtect: 'Protect',\n        featureConvert: 'Convert',\n        accordionDocEnhanceProtect: 'Document Enhancements & Protection',\n        imageToPdfTitle: 'Image to PDF',\n        selectImagesLabel: 'Select image(s):',\n        dropImagesHere: 'Drop image(s) here or click to upload',\n        convertToPdfButton: 'Convert to PDF',\n        generatingPdfFromImages: 'Generating PDF from images...',\n        imageToPdfSuccess: 'PDF generated from images successfully!',\n        imageToPdfError: 'Error generating PDF from images',\n        noImagesSelected: 'No images selected to convert.',\n        pdfCompressionTitle: 'PDF Compression',\n        selectPdfToCompressLabel: 'Select PDF to compress:',\n        dropPdfToCompressHere: 'Drop PDF here or click to select for compression',\n        compressPdfButton: 'Compress PDF',\n        compressingPdf: 'Compressing PDF...',\n        pdfCompressionSuccess: 'PDF processed successfully!',\n        pdfCompressionError: 'Error processing PDF',\n        pdfCompressionNote: 'Note: This uses pdf-lib to re-save the PDF. File size reduction varies. useObjectStreams:false is applied.',\n        comingSoon: 'Coming Soon!',\n        featureNotImplemented: 'feature is not yet implemented.',\n        editorMode: 'Editor Mode',\n        gridMode: 'Grid Mode',\n        deletePageConfirmTitle: 'Delete Page?',\n        deletePageConfirmDescription: 'Are you sure you want to delete this page? This action cannot be undone.',\n        toolRotate: 'Rotate',\n        toolDelete: 'Delete',\n        toolAddBlank: 'Add Blank',\n        toolMerge: 'Merge',\n        toolSplit: 'Split',\n        toolWatermark: 'Watermark',\n        toolInsertText: 'Text',\n        toolInsertImage: 'Image',\n        toolHighlight: 'Highlight',\n        toolInsertLink: 'Link',\n        toolInsertComment: 'Comment',\n        zoomIn: 'Zoom In',\n        zoomOut: 'Zoom Out',\n        fitToWidth: 'Fit Width',\n        fitToPage: 'Fit Page',\n        textAnnotationSample: 'Sample Text',\n        noImageForInsertion: 'No image selected for insertion.',\n        imageInsertSuccess: 'Image inserted successfully.',\n        imageInsertError: 'Error inserting image.',\n        imagePasteSuccess: 'Image pasted successfully.',\n        linkSetUrl: 'Link to URL',\n        linkSetPage: 'Link to Page',\n        linkEnterUrl: 'Enter URL',\n        linkEnterPage: 'Enter Page Number',\n        linkSave: 'Save Link',\n        linkRemove: 'Remove Link',\n        linkEditTitle: 'Edit Link',\n        linkAttached: 'Link attached',\n        linkRemoved: 'Link removed',\n        pdfEditMenu: 'PDF Edit',\n        pdfConvertMenu: 'PDF Convert',\n        mergePdf: 'Merge PDF',\n        splitPdf: 'Split PDF',\n        deletePdfPages: 'Delete Pages',\n        extractPdfPages: 'Extract Pages',\n        reorderPdfPages: 'Reorder Pages',\n        addWatermark: 'Add Watermark',\n        convertToPdf: 'Convert to PDF',\n        convertFromPdf: 'Convert from PDF',\n        wordToPdf: 'WORD to PDF',\n        excelToPdf: 'EXCEL to PDF',\n        pptToPdf: 'PPT to PDF',\n        htmlToPdf: 'HTML to PDF',\n        jpgToPdf: 'JPG to Image',\n        pdfToWord: 'PDF to WORD',\n        pdfToExcel: 'PDF to EXCEL',\n        pdfToPpt: 'PDF to PPT',\n        pdfToHtml: 'PDF to HTML',\n        pdfToJpg: 'PDF to Image',\n        pdfToOcr: 'PDF with OCR',\n        proMode: 'Professional Mode',\n        appTitle: 'Pdf Solution',\n        batchConvert: 'Batch Conversion',\n        selectFormat: 'Select Target Format',\n        uploadAreaTitle: 'Upload PDF Files for Batch Conversion',\n        uploadButton: 'Click or drag up to 10 files here',\n        convertButton: 'Convert All Files',\n        convertingMessage: 'Converting...',\n        noFilesSelected: 'Please select files to convert.',\n        tooManyFiles: 'You can only select up to 10 files at a time.',\n        totalSizeExceeded: (size: number) => `Total file size cannot exceed ${size}MB.`,\n        status_waiting: 'Waiting',\n        status_uploading: 'Uploading...',\n        status_converting: 'Converting...',\n        status_done: 'Done!',\n        status_error: 'Error',\n        dailyLimitTitle: 'Daily Limit Reached',\n        dailyLimitDescription: 'Your free uses for today have been exhausted. Please register or come back tomorrow.',\n        convertLimitTitle: 'Conversion Limit Reached',\n        convertLimitDescription: 'Your free conversion for today has been used. Register to get 3 conversions daily.',\n        conversionError: 'Conversion failed',\n        conversionSuccess: 'Conversion successful!',\n        conversionSuccessDesc: (filename: string) => `${filename} has been downloaded successfully.`,\n        menuFile: \"File\",\n        menuEdit: \"Edit\",\n        menuPage: \"Page\",\n        menuConvert: \"Convert\",\n        menuTools: \"Tools\",\n        menuHelp: \"Help\",\n        menuFileOpen: \"Open PDF Document\",\n        menuFileNew: \"Open PDF Document\",\n        insertPdf: \"Insert PDF\",\n        menuFileSaveAs: \"Save As\",\n        menuFileBatchConvert: \"Batch Conversion\",\n        menuEditUndo: \"Undo\",\n        menuEditRedo: \"Redo\",\n        menuEditInsertText: \"Insert Text\",\n        menuEditInsertImage: \"Insert Image\",\n        menuEditHighlight: \"Highlight Area\",\n        menuEditInsertLink: \"Add/Edit Link\",\n        menuPageRotateCW: \"Rotate Clockwise\",\n        menuPageRotateCCW: \"Rotate Counter-Clockwise\",\n        menuPageAddBlank: \"Add Blank Page\",\n        menuPageDelete: \"Delete Current Page\",\n        planInfo: (files: number, size: number) => `Your current plan allows you to upload ${files} files at once, with a total size of up to ${size}MB.`,\n        usageInfo: (files: number, size: string, remainingFiles: number, remainingSize: string) => `You have selected ${files} file(s), with a total size of ${size}MB. (You can still upload ${remainingFiles} more files or ${remainingSize}MB).`,\n        toolSelect: 'Select',\n        toolPan: 'Pan',\n        toolImage: 'Image',\n        toolShape: 'Sign',\n        toolSignature: 'Shape',\n        toolHand: 'Pan',\n        toolShapeShort: 'Shape',\n        toolSignatureShort: 'Sign',\n        toolPrint: 'Print',\n        toolSearch: 'Search',\n        toolSearchDoc: 'Search Document',\n        shapeRect: 'Rectangle',\n        shapeCircle: 'Circle',\n        shapeTriangle: 'Triangle',\n        addSignature: 'Add Signature',\n        signaturePadTitle: 'Create Signature',\n        signaturePadDescription: 'Draw your signature below. Click save when done.',\n        signatureColor: 'Color',\n        signatureStrokeWidth: 'Thickness',\n        signatureClear: 'Clear',\n        signatureSave: 'Save Signature',\n        searchPlaceholder: 'Search document...',\n        searchNext: 'Next',\n        searchPrevious: 'Previous',\n        searchCaseSensitive: 'Case Sensitive',\n        searchResults: (count: number) => `${count} results found.`,\n        searchNoResults: 'No results found.',\n        noTextInPdf: 'This PDF has no text layer. OCR may be needed to enable search.',\n        toolScribble: 'Scribble',\n        toolMosaic: 'Mosaic',\n        convertConfirmTitle: \"Convert File\",\n        convertConfirmDescription: (filename: string) => `\"${filename}\" will be converted to PDF. Do you want to download it or open it in the editor?`,\n        convertConfirmDownload: 'Download',\n        convertConfirmEdit: 'Open in Editor',\n        convertingToPdf: 'Converting to PDF...',\n        toolInsertFile: 'Insert PDF',\n        insertAtStart: 'Insert at Beginning',\n        insertAtEnd: 'Insert at End',\n        insertBeforeSelection: 'Insert Before Selection',\n        insertAfterSelection: 'Insert After Selection',\n        newDocConfirmTitle: 'Confirm Open New Document',\n        newDocConfirmDescription: 'This will close the current document without saving changes. Are you sure you want to continue?',\n        downloadEditedFile: 'Download',\n        toolDownload: 'Download',\n        actionHistory: 'Action History',\n    },\n    zh: {\n        pageTitle: 'PDF  ()',\n        uploadLabel: ' PDF ',\n        deletePages: '',\n        splitPages: '',\n        downloadPdf: 'PDF',\n        downloadTxt: ' TXT ',\n        convertToWord: ' Word',\n        convertingToWord: ' Word...',\n        insertAreaTitle: ' PDF',\n        insertOptionsTitle: '',\n        insertBeforeLabel: '',\n        insertAfterLabel: '',\n        instSelect: '/',\n        instDrag: '',\n        instZoom: '',\n        modalCloseButton: '',\n        rotateLeft: '90',\n        rotateRight: '90',\n        resetRotation: '',\n        generatingFile: '',\n        extractingText: '...',\n        loadError: ' PDF ',\n        downloadError: ' PDF ',\n        splitPdfSuccess: 'PDF ',\n        splitPdfError: ' PDF ',\n        txtDownloadError: ' TXT ',\n        wordConvertError: ' Word ',\n        pdfCoMethodNotFoundError: 'PDF.co  API  PDF.co API  Cloud Function  API  PDF.co ',\n        wordConvertLimitTitle: '',\n        wordConvertLimitDescription: ' PDF  Word',\n        wordConvertSuccess: '',\n        downloadWordFile: ' Word ',\n        insertError: ' PDF ',\n        insertConfirmTitle: '',\n        insertConfirmDescription: ' PDF ',\n        confirm: '',\n        cancel: '',\n        noteInputPlaceholder: ' PDF',\n        pageManagement: '',\n        fileOperations: '',\n        pageNumberingSectionTitle: '',\n        enablePageNumbering: '',\n        pageNumberPosition: '',\n        pageNumberStart: '',\n        pageNumberMargin: ' (pt)',\n        pageNumberFormat: ' ({page}, {total})',\n        pageNumberFormatPlaceholder: '{page} / {total}',\n        protectPdfSectionTitle: ' PDF',\n        enablePdfProtection: ' PDF ',\n        pdfPassword: '',\n        pdfPasswordPlaceholder: '',\n        page: '',\n        uploadPdfFirstShort: ' PDF ',\n        uploadPdfFirst: ' PDF ',\n        noPagesToDownload: '',\n        noPdfToExtractText: ' PDF ',\n        noPdfToConvert: ' PDF ',\n        noPageSelected: '',\n        loadingPdf: ' PDF...',\n        insertingPdf: ' PDF...',\n        previewOf: '',\n        dropFileHere: ' PDF ',\n        dropInsertFileHere: ' PDF ',\n        loggedInAs: '',\n        login: '',\n        logout: '',\n        guest: '',\n        firebaseNotConfigured: `Firebase  SDK  Firebase  (NEXT_PUBLIC_FIREBASE_API_KEY )  .env %MISSING_KEYS%`,\n        firebaseSdkInitError: \"Firebase SDK  (Storage  Functions )' Word'  Firebase  firebase.ts \",\n        zoomDialogDescription: '',\n        bottomLeft: '',\n        bottomCenter: '',\n        bottomRight: '',\n        middleLeft: '',\n        middleRight: '',\n        topLeft: '',\n        topCenter: '',\n        topRight: '',\n        pdfEditingTools: 'PDF ',\n        downloadAndConvertTitle: '',\n        startEditingYourPdf: ' PDF',\n        pagesLoaded: '',\n        pageSelectedSuffix: '',\n        featureEdit: '',\n        featureMerge: '',\n        featurePageNum: '',\n        featureProtect: '',\n        featureConvert: '',\n        accordionDocEnhanceProtect: '',\n        imageToPdfTitle: ' PDF',\n        selectImagesLabel: '',\n        dropImagesHere: '',\n        convertToPdfButton: ' PDF',\n        generatingPdfFromImages: ' PDF...',\n        imageToPdfSuccess: ' PDF ',\n        imageToPdfError: ' PDF ',\n        noImagesSelected: '',\n        pdfCompressionTitle: 'PDF ',\n        selectPdfToCompressLabel: ' PDF',\n        dropPdfToCompressHere: ' PDF ',\n        compressPdfButton: ' PDF',\n        compressingPdf: ' PDF...',\n        pdfCompressionSuccess: 'PDF ',\n        pdfCompressionError: ' PDF ',\n        pdfCompressionNote: ' pdf-lib  PDF useObjectStreams:false',\n        comingSoon: '',\n        featureNotImplemented: '',\n        editorMode: '',\n        gridMode: '',\n        deletePageConfirmTitle: '',\n        deletePageConfirmDescription: '',\n        toolRotate: '',\n        toolDelete: '',\n        toolAddBlank: '',\n        toolMerge: '',\n        toolSplit: '',\n        toolWatermark: '',\n        toolInsertText: '',\n        toolInsertImage: '',\n        toolHighlight: '',\n        toolInsertLink: '',\n        toolInsertComment: '',\n        zoomIn: '',\n        zoomOut: '',\n        fitToWidth: '',\n        fitToPage: '',\n        textAnnotationSample: '',\n        noImageForInsertion: '',\n        imageInsertSuccess: '',\n        imageInsertError: '',\n        imagePasteSuccess: '',\n        linkSetUrl: '',\n        linkSetPage: '',\n        linkEnterUrl: '',\n        linkEnterPage: '',\n        linkSave: '',\n        linkRemove: '',\n        linkEditTitle: '',\n        linkAttached: '',\n        linkRemoved: '',\n        pdfEditMenu: 'PDF',\n        pdfConvertMenu: 'PDF',\n        mergePdf: 'PDF',\n        splitPdf: 'PDF',\n        deletePdfPages: '',\n        extractPdfPages: '',\n        reorderPdfPages: '',\n        addWatermark: '',\n        convertToPdf: 'PDF',\n        convertFromPdf: 'PDF',\n        wordToPdf: 'WORDPDF',\n        excelToPdf: 'EXCELPDF',\n        pptToPdf: 'PPTPDF',\n        htmlToPdf: 'HTMLPDF',\n        jpgToPdf: 'JPGPDF',\n        pdfToWord: 'PDFWORD',\n        pdfToExcel: 'PDFEXCEL',\n        pdfToPpt: 'PDFPPT',\n        pdfToHtml: 'PDFHTML',\n        pdfToJpg: 'PDF',\n        pdfToOcr: 'PDF(OCR)',\n        proMode: '',\n        appTitle: 'Pdf Solution',\n        batchConvert: '',\n        selectFormat: '',\n        uploadAreaTitle: ' PDF ',\n        uploadButton: ' 10 ',\n        convertButton: '',\n        convertingMessage: '...',\n        noFilesSelected: '',\n        tooManyFiles: ' 10 ',\n        totalSizeExceeded: (size: number) => ` ${size}MB`,\n        status_waiting: '',\n        status_uploading: '...',\n        status_converting: '...',\n        status_done: '',\n        status_error: '',\n        dailyLimitTitle: '',\n        dailyLimitDescription: '',\n        convertLimitTitle: '',\n        convertLimitDescription: ' 3 ',\n        conversionError: '',\n        conversionSuccess: '',\n        conversionSuccessDesc: (filename: string) => `${filename} `,\n        menuFile: \"\",\n        menuEdit: \"\",\n        menuPage: \"\",\n        menuConvert: \"\",\n        menuTools: \"\",\n        menuHelp: \"\",\n        menuFileOpen: \"PDF\",\n        menuFileNew: \"PDF\",\n        insertPdf: \"PDF\",\n        menuFileSaveAs: \"PDF\",\n        menuFileBatchConvert: \"\",\n        menuEditUndo: \"\",\n        menuEditRedo: \"\",\n        menuEditInsertText: \"\",\n        menuEditInsertImage: \"\",\n        menuEditHighlight: \"\",\n        menuEditInsertLink: \"/\",\n        menuPageRotateCW: \"\",\n        menuPageRotateCCW: \"\",\n        menuPageAddBlank: \"\",\n        menuPageDelete: \"\",\n        planInfo: (files: number, size: number) => ` ${files}  ${size}MB`,\n        usageInfo: (files: number, size: string, remainingFiles: number, remainingSize: string) => ` ${files}  ${size}MB ( ${remainingFiles}  ${remainingSize}MB)`,\n        toolSelect: '',\n        toolPan: '',\n        toolImage: '',\n        toolShape: '',\n        toolSignature: '',\n        toolHand: '',\n        toolShapeShort: '',\n        toolSignatureShort: '',\n        toolPrint: '',\n        toolSearch: '',\n        toolSearchDoc: '',\n        shapeRect: '',\n        shapeCircle: '',\n        shapeTriangle: '',\n        addSignature: '',\n        signaturePadTitle: '',\n        signaturePadDescription: '',\n        signatureColor: '',\n        signatureStrokeWidth: '',\n        signatureClear: '',\n        signatureSave: '',\n        searchPlaceholder: '...',\n        searchNext: '',\n        searchPrevious: '',\n        searchCaseSensitive: '',\n        searchResults: (count: number) => ` ${count} `,\n        searchNoResults: '',\n        noTextInPdf: ' PDF  OCR ',\n        toolScribble: '',\n        toolMosaic: '',\n        toolTable: '',\n        drawTable: '',\n        tableConfigTitle: '',\n        tableConfigDescription: '',\n        tableRows: '',\n        tableCols: '',\n        createTable: '',\n        applyToAllPages: '',\n        convertConfirmTitle: \"\",\n        convertConfirmDescription: (filename: string) => ` \"${filename}\"  PDF`,\n        convertConfirmDownload: '',\n        convertConfirmEdit: '',\n        toolInsertFile: 'PDF',\n        insertAtStart: '',\n        insertAtEnd: '',\n        insertBeforeSelection: '',\n        insertAfterSelection: '',\n        newDocConfirmTitle: '',\n        newDocConfirmDescription: '',\n        downloadEditedFile: '',\n        toolDownload: '',\n        actionHistory: '',\n    }\n};\n\ntype PageNumberPosition = 'bottom-left' | 'bottom-center' | 'bottom-right' | 'top-left' | 'top-center' | 'top-right';\n\nconst pageNumberPositions: {value: PageNumberPosition, labelKey: keyof typeof translations.en}[] = [\n  { value: 'bottom-center', labelKey: 'bottomCenter'},\n  { value: 'bottom-left', labelKey: 'bottomLeft'},\n  { value: 'bottom-right', labelKey: 'bottomRight'},\n  { value: 'top-center', labelKey: 'topCenter'},\n  { value: 'top-left', labelKey: 'topLeft'},\n  { value: 'top-right', labelKey: 'topRight'},\n];\n\nconst saveAsFormatOptions = [\n  { value: 'pdf', labelKey: 'downloadPdf', extension: 'pdf' },\n  { value: 'word', labelKey: 'pdfToWord', extension: 'docx' },\n  { value: 'excel', labelKey: 'pdfToExcel', extension: 'xlsx' },\n  { value: 'ppt', labelKey: 'pdfToPpt', extension: 'pptx' },\n  { value: 'html', labelKey: 'pdfToHtml', extension: 'html' },\n  { value: 'jpg', labelKey: 'pdfToJpg', extension: 'zip' },\n  { value: 'ocr', labelKey: 'pdfToOcr', extension: 'pdf' },\n] as const;\n\ntype UploadStatus = {\n    status: 'waiting' | 'uploading' | 'converting' | 'done' | 'error';\n    progress: number;\n    error?: string;\n};\n\nconst MAX_BATCH_FILES = 10;\nconst MAX_TOTAL_SIZE_MB = 50;\nconst MAX_TOTAL_SIZE_BYTES = MAX_TOTAL_SIZE_MB * 1024 * 1024;\n\n\nconst PagePreviewItem = React.memo(({ pageObj, index, isSelected, onClick, onDoubleClick, texts }: {\n  pageObj: PageObject;\n  index: number;\n  isSelected: boolean;\n  onClick: (event: React.MouseEvent) => void;\n  onDoubleClick: () => void;\n  texts: typeof translations.en;\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (canvasRef.current) {\n      const previewDisplayCanvas = canvasRef.current;\n      const previewCtx = previewDisplayCanvas.getContext('2d');\n      if (!previewCtx) return;\n\n      const sourceCanvas = pageObj.sourceCanvas;\n      const rotation = pageObj.rotation;\n      const rad = rotation * Math.PI / 180;\n\n      let rotatedSourceWidth, rotatedSourceHeight;\n      if (rotation % 180 !== 0) {\n        rotatedSourceWidth = sourceCanvas.height;\n        rotatedSourceHeight = sourceCanvas.width;\n      } else {\n        rotatedSourceWidth = sourceCanvas.width;\n        rotatedSourceHeight = sourceCanvas.height;\n      }\n\n      const targetAspectRatio = rotatedSourceWidth / rotatedSourceHeight;\n      const cssDisplayWidth = 120;\n      const cssDisplayHeight = cssDisplayWidth / targetAspectRatio;\n\n      previewDisplayCanvas.width = rotatedSourceWidth;\n      previewDisplayCanvas.height = rotatedSourceHeight;\n\n      previewCtx.save();\n      previewCtx.translate(previewDisplayCanvas.width / 2, previewDisplayCanvas.height / 2);\n      previewCtx.rotate(rad);\n      previewCtx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2, sourceCanvas.width, sourceCanvas.height);\n      previewCtx.restore();\n\n      previewDisplayCanvas.style.width = `${cssDisplayWidth}px`;\n      previewDisplayCanvas.style.height = `${cssDisplayHeight}px`;\n    }\n  }, [pageObj.sourceCanvas, pageObj.rotation]);\n\n  return (\n    <div\n      ref={wrapperRef}\n      className={`page-preview-wrapper p-2 border-2 rounded-lg cursor-pointer transition-all bg-card hover:border-primary ${isSelected ? 'border-primary ring-2 ring-primary' : 'border-transparent'}`}\n      data-id={pageObj.id}\n      data-index={index}\n      onClick={onClick}\n      onDoubleClick={onDoubleClick}\n      style={{ position: 'relative' }}\n    >\n      <canvas ref={canvasRef} className=\"rounded-md shadow-md\" style={{ willReadFrequently: true } as any}></canvas>\n      <div className=\"text-xs text-muted-foreground mt-1 text-center\">\n        {texts.page} {index + 1}\n      </div>\n    </div>\n  );\n});\nPagePreviewItem.displayName = 'PagePreviewItem';\n\nconst fonts = [\n  { name: 'Arial', value: 'Helvetica' },\n  { name: 'Times New Roman', value: 'Times-Roman' },\n  { name: 'Courier', value: 'Courier' },\n];\n\nconst fontSizes = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n\nconst TextAnnotationToolbar = ({ annotation, onAnnotationChange, onDelete, onImageInsert }: { annotation: TextAnnotation; onAnnotationChange: (id: string, annotation: Partial<TextAnnotation>) => void; onDelete: (id: string) => void; onImageInsert: () => void; }) => {\n    const handleStyleChange = (style: Partial<TextSegment>) => {\n      onAnnotationChange(annotation.id, {\n        segments: annotation.segments.map(s => ({ ...s, ...style })),\n      });\n    };\n    \n    return (\n        <div className=\"text-toolbar bg-card p-2 rounded-lg shadow-lg border flex items-center gap-2 animate-in slide-in-from-top-4 duration-300\">\n            <Select value={annotation.fontFamily} onValueChange={(value) => onAnnotationChange(annotation.id, { fontFamily: value })}>\n                <SelectTrigger className=\"w-[120px] h-8 text-xs\">\n                    <SelectValue placeholder=\"Font\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {fonts.map(font => <SelectItem key={font.value} value={font.value} className=\"text-xs\">{font.name}</SelectItem>)}\n                </SelectContent>\n            </Select>\n            <Select value={String(annotation.fontSize)} onValueChange={(value) => onAnnotationChange(annotation.id, { fontSize: Number(value) })}>\n                <SelectTrigger className=\"w-[60px] h-8 text-xs\">\n                    <SelectValue placeholder=\"Size\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {fontSizes.map(size => <SelectItem key={size} value={String(size)} className=\"text-xs\">{size}</SelectItem>)}\n                </SelectContent>\n            </Select>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Toggle pressed={annotation.segments[0]?.bold} onPressedChange={(pressed) => handleStyleChange({ bold: pressed })}>\n                <Bold className=\"h-4 w-4\" />\n            </Toggle>\n            <Toggle pressed={annotation.segments[0]?.italic} onPressedChange={(pressed) => handleStyleChange({ italic: pressed })}>\n                <Italic className=\"h-4 w-4\" />\n            </Toggle>\n            <Toggle pressed={annotation.segments[0]?.underline} onPressedChange={(pressed) => handleStyleChange({ underline: pressed })}>\n                <Underline className=\"h-4 w-4\" />\n            </Toggle>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Popover>\n                <PopoverTrigger asChild>\n                    <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\">\n                        <div className=\"w-4 h-4 rounded-full\" style={{ backgroundColor: annotation.segments[0]?.color }} />\n                    </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0 border-0\">\n                    <Input type=\"color\" value={annotation.segments[0]?.color} onChange={(e) => handleStyleChange({ color: e.target.value })} className=\"w-14 h-10 p-1 border-0 cursor-pointer\"/>\n                </PopoverContent>\n            </Popover>\n             <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={onImageInsert}>\n                <ImagePlus className=\"h-4 w-4\" />\n            </Button>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <ToggleGroup type=\"single\" value={annotation.textAlign} onValueChange={(value: TextAnnotation['textAlign']) => value && onAnnotationChange(annotation.id, { textAlign: value })}>\n                <ToggleGroupItem value=\"left\"><AlignLeft className=\"h-4 w-4\" /></ToggleGroupItem>\n                <ToggleGroupItem value=\"center\"><AlignCenter className=\"h-4 w-4\" /></ToggleGroupItem>\n                <ToggleGroupItem value=\"right\"><AlignRight className=\"h-4 w-4\" /></ToggleGroupItem>\n            </ToggleGroup>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => onDelete(annotation.id)}>\n                <Trash2 className=\"h-4 w-4\" />\n            </Button>\n        </div>\n    );\n};\n\nconst ShapeToolbar = ({ annotation, onAnnotationChange, onDelete }: { annotation: ShapeAnnotation | ScribbleAnnotation; onAnnotationChange: (id: string, annotation: Partial<ShapeAnnotation | ScribbleAnnotation>) => void; onDelete: (id: string) => void; }) => {\n    const isShape = annotation.type !== 'scribble';\n\n    return (\n        <div className=\"shape-toolbar bg-card p-2 rounded-lg shadow-lg border flex items-center gap-2 animate-in slide-in-from-top-4 duration-300\">\n             {isShape && <Label>Fill</Label>}\n             {isShape && <Input type=\"color\" value={(annotation as ShapeAnnotation).fillColor} onChange={(e) => onAnnotationChange(annotation.id, { fillColor: e.target.value })} className=\"w-10 h-8 p-1 cursor-pointer\"/>}\n             \n             <Label>Stroke</Label>\n             <Input type=\"color\" value={(annotation as any).strokeColor || annotation.color} onChange={(e) => onAnnotationChange(annotation.id, { [isShape ? 'strokeColor' : 'color']: e.target.value })} className=\"w-10 h-8 p-1 cursor-pointer\"/>\n             \n             <Separator orientation=\"vertical\" className=\"h-6\" />\n             <Label>Width</Label>\n             <Slider min={1} max={20} step={1} value={[annotation.strokeWidth]} onValueChange={val => onAnnotationChange(annotation.id, { strokeWidth: val[0] })} className=\"w-24\"/>\n             <Separator orientation=\"vertical\" className=\"h-6\" />\n\n             <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => onDelete(annotation.id)}>\n                <Trash2 className=\"h-4 w-4\" />\n            </Button>\n        </div>\n    );\n}\n\nconst TextAnnotationComponent = ({\n    annotation,\n    mainCanvasZoom,\n    isSelected,\n    isEditing,\n    isHovered,\n    onAnnotationChange,\n    onSelect,\n    onEdit,\n    onDragStart,\n    onResizeStart,\n    onHover,\n}: {\n    annotation: TextAnnotation,\n    mainCanvasZoom: number,\n    isSelected: boolean,\n    isEditing: boolean,\n    isHovered: boolean,\n    onAnnotationChange: (id: string, annotation: Partial<TextAnnotation>) => void,\n    onSelect: (e: React.MouseEvent, id: string) => void,\n    onEdit: (e: React.MouseEvent, id: string) => void,\n    onDragStart: (e: React.MouseEvent, id: string) => void,\n    onResizeStart: (e: React.MouseEvent, id: string) => void,\n    onHover: (id: string | null) => void,\n}) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n    useEffect(() => {\n        const textarea = textareaRef.current;\n        if (isEditing && textarea) {\n            textarea.focus();\n            textarea.style.height = 'auto';\n            textarea.style.height = `${textarea.scrollHeight}px`;\n        }\n    }, [isEditing, annotation.segments, annotation.fontSize, mainCanvasZoom, annotation.fontFamily]);\n\n    return (\n        <div\n            onMouseDown={(e) => {\n                if (!isEditing) onDragStart(e, annotation.id)\n            }}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSelect(e, annotation.id);\n            }}\n            onDoubleClick={(e) => {\n              e.stopPropagation();\n              onEdit(e, annotation.id);\n            }}\n            onMouseEnter={() => onHover(annotation.id)}\n            onMouseLeave={() => onHover(null)}\n            className={cn(\n                \"absolute group/text-annotation\",\n                !isEditing && \"cursor-grab\",\n                (isSelected || isHovered) && !isEditing && \"border-2 border-dashed border-primary\",\n                isEditing && \"border-2 border-solid border-primary\",\n                annotation.link && !isEditing && \"border-blue-500\"\n            )}\n            style={{\n                left: `${annotation.leftRatio * 100}%`,\n                top: `${annotation.topRatio * 100}%`,\n                width: `${annotation.widthRatio * 100}%`,\n                height: 'auto',\n                zIndex: 20,\n            }}\n        >\n           {isEditing ? (\n             <Textarea\n                ref={textareaRef}\n                value={annotation.segments.map(s => s.text).join('')}\n                onChange={(e) => {\n                    // This is a simplified handler. A real rich text editor would be much more complex.\n                    onAnnotationChange(annotation.id, {\n                      segments: [{ ...annotation.segments[0], text: e.target.value }],\n                    });\n                }}\n                onClick={(e) => {\n                    if (isEditing) e.stopPropagation();\n                }}\n                disabled={!isEditing}\n                className={cn(\n                    \"w-full p-0 bg-transparent border-0 resize-none focus:ring-0 overflow-hidden\",\n                    isEditing ? \"cursor-text pointer-events-auto\" : \"pointer-events-none\"\n                )}\n                style={{\n                    fontFamily: annotation.fontFamily.includes('Times') ? '\"Times New Roman\", Times, serif' : annotation.fontFamily,\n                    fontSize: `${annotation.fontSize * mainCanvasZoom}px`,\n                    textAlign: annotation.textAlign,\n                    lineHeight: 1.3,\n                }}\n            />\n           ) : (\n             <div\n                className=\"w-full p-0 bg-transparent pointer-events-none\"\n                style={{\n                    fontFamily: annotation.fontFamily.includes('Times') ? '\"Times New Roman\", Times, serif' : annotation.fontFamily,\n                    fontSize: `${annotation.fontSize * mainCanvasZoom}px`,\n                    textAlign: annotation.textAlign,\n                    lineHeight: 1.3,\n                    wordBreak: 'break-word'\n                }}\n              >\n               {annotation.segments.map((segment, index) => (\n                  <span\n                    key={index}\n                    style={{\n                      fontWeight: segment.bold ? 'bold' : 'normal',\n                      fontStyle: segment.italic ? 'italic' : 'normal',\n                      textDecoration: segment.underline ? 'underline' : 'none',\n                      color: segment.color,\n                    }}\n                  >\n                    {segment.text}\n                  </span>\n               ))}\n              </div>\n           )}\n            {annotation.link && !isEditing && <LinkIcon className=\"absolute -top-1.5 -right-1.5 h-4 w-4 text-white bg-blue-500 p-0.5 rounded-full\" />}\n            {(isSelected || isHovered) && !isEditing && (\n                <div\n                    className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                    onMouseDown={(e) => onResizeStart(e, annotation.id)}\n                />\n            )}\n        </div>\n    );\n}\n\nconst TriangleIcon = () => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\">\n        <path d=\"M12 2L2 22H22L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinejoin=\"round\"/>\n    </svg>\n)\n\nconst ScribbleIcon = () => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\">\n        <path d=\"M2 12C2 12 4.08333 7.66667 12 8C19.9167 8.33333 22 12 22 12C22 12 19.9167 16.3333 12 16C4.08333 15.6667 2 12 2 12Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    </svg>\n)\n\n\nconst ShapeAnnotationComponent = ({ annotation, onDragStart, onResizeStart, onSelect, isSelected, isHovered, onHover }: {\n    annotation: ShapeAnnotation;\n    onDragStart: (e: React.MouseEvent, id: string) => void;\n    onResizeStart: (e: React.MouseEvent, id: string) => void;\n    onSelect: (e: React.MouseEvent, id: string) => void;\n    isSelected: boolean;\n    isHovered: boolean;\n    onHover: (id: string | null) => void;\n}) => {\n    const shapeStyle = {\n        fill: annotation.fillColor,\n        stroke: annotation.strokeColor,\n        strokeWidth: annotation.strokeWidth,\n    };\n\n    const wrapperStyle = {\n        left: `${annotation.leftRatio * 100}%`,\n        top: `${annotation.topRatio * 100}%`,\n        width: `${annotation.widthRatio * 100}%`,\n        height: `${annotation.heightRatio * 100}%`,\n        zIndex: 18,\n    };\n\n    return (\n        <div\n            onMouseDown={(e) => onDragStart(e, annotation.id)}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSelect(e, annotation.id);\n            }}\n            onMouseEnter={() => onHover(annotation.id)}\n            onMouseLeave={() => onHover(null)}\n            className={cn(\"absolute cursor-grab\", (isSelected || isHovered) && \"border-2 border-dashed border-primary\")}\n            style={wrapperStyle}\n        >\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n                {annotation.type === 'rect' && <rect x={0} y={0} width=\"100\" height=\"100\" {...shapeStyle} />}\n                {annotation.type === 'ellipse' && <ellipse cx=\"50\" cy=\"50\" rx=\"50\" ry=\"50\" {...shapeStyle} />}\n                {annotation.type === 'triangle' && <polygon points=\"50,0 100,100 0,100\" {...shapeStyle} />}\n            </svg>\n            {(isSelected || isHovered) && (\n                <div\n                    className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                    onMouseDown={(e) => onResizeStart(e, annotation.id)}\n                />\n            )}\n        </div>\n    );\n};\n\nconst ScribbleAnnotationComponent = ({ annotation, pageDimensions, onSelect, isSelected, isHovered, onHover }: {\n    annotation: ScribbleAnnotation;\n    pageDimensions: { width: number, height: number};\n    onSelect: (e: React.MouseEvent, id: string) => void;\n    isSelected: boolean;\n    isHovered: boolean;\n    onHover: (id: string | null) => void;\n}) => {\n    if (!annotation.points || annotation.points.length < 2) return null;\n    \n    const pathData = annotation.points.map((p, i) => {\n        const command = i === 0 ? 'M' : 'L';\n        return `${command} ${p.xRatio * pageDimensions.width} ${p.yRatio * pageDimensions.height}`;\n    }).join(' ');\n    \n    return (\n      <svg\n          onClick={(e) => { e.stopPropagation(); onSelect(e, annotation.id); }}\n          onMouseEnter={() => onHover(annotation.id)}\n          onMouseLeave={() => onHover(null)}\n          className={cn(\"absolute top-0 left-0 w-full h-full pointer-events-auto\", (isSelected || isHovered) && \"ring-2 ring-primary ring-dashed\")}\n          style={{ zIndex: 19 }}\n      >\n          <path\n              d={pathData}\n              stroke={annotation.color}\n              strokeWidth={annotation.strokeWidth}\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"pointer-events-none\"\n          />\n      </svg>\n    )\n}\n\nconst TableAnnotationComponent = ({ annotation, onDragStart, onResizeStart, onSelect, isSelected, isHovered, onHover, onDoubleClick }: {\n    annotation: TableAnnotation;\n    onDragStart: (e: React.MouseEvent, id: string) => void;\n    onResizeStart: (e: React.MouseEvent, id: string) => void;\n    onSelect: (e: React.MouseEvent, id: string) => void;\n    onDoubleClick: (e: React.MouseEvent, annotation: TableAnnotation) => void;\n    isSelected: boolean;\n    isHovered: boolean;\n    onHover: (id: string | null) => void;\n}) => {\n    const cellWidth = 100 / annotation.cols;\n    const cellHeight = 100 / annotation.rows;\n\n    return (\n        <div\n            onMouseDown={(e) => onDragStart(e, annotation.id)}\n            onClick={(e) => { e.stopPropagation(); onSelect(e, annotation.id); }}\n            onDoubleClick={(e) => onDoubleClick(e, annotation)}\n            onMouseEnter={() => onHover(annotation.id)}\n            onMouseLeave={() => onHover(null)}\n            className={cn(\"absolute cursor-grab\", (isSelected || isHovered) && \"border-2 border-dashed border-primary\")}\n            style={{\n                left: `${annotation.leftRatio * 100}%`,\n                top: `${annotation.topRatio * 100}%`,\n                width: `${annotation.widthRatio * 100}%`,\n                height: `${annotation.heightRatio * 100}%`,\n                zIndex: 18,\n            }}\n        >\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n                {Array.from({ length: annotation.rows + 1 }, (_, i) => (\n                    <line\n                        key={`h-${i}`}\n                        x1=\"0\"\n                        y1={i * cellHeight}\n                        x2=\"100\"\n                        y2={i * cellHeight}\n                        stroke={annotation.strokeColor}\n                        strokeWidth={annotation.strokeWidth / 10}\n                    />\n                ))}\n                {Array.from({ length: annotation.cols + 1 }, (_, i) => (\n                    <line\n                        key={`v-${i}`}\n                        x1={i * cellWidth}\n                        y1=\"0\"\n                        x2={i * cellWidth}\n                        y2=\"100\"\n                        stroke={annotation.strokeColor}\n                        strokeWidth={annotation.strokeWidth / 10}\n                    />\n                ))}\n            </svg>\n            {(isSelected || isHovered) && (\n                <div\n                    className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                    onMouseDown={(e) => onResizeStart(e, annotation.id)}\n                />\n            )}\n        </div>\n    );\n};\n\nconst SignaturePad = ({ onSave, texts }: { onSave: (dataUrl: string) => void, texts: typeof translations.en }) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [isDrawing, setIsDrawing] = useState(false);\n    const [color, setColor] = useState('#000000');\n    const [strokeWidth, setStrokeWidth] = useState(2);\n    const lastPos = useRef({ x: 0, y: 0 });\n\n    const getMousePos = (canvas: HTMLCanvasElement, evt: React.MouseEvent | MouseEvent) => {\n        const rect = canvas.getBoundingClientRect();\n        return {\n            x: evt.clientX - rect.left,\n            y: evt.clientY - rect.top\n        };\n    };\n\n    const draw = (e: React.MouseEvent | MouseEvent) => {\n        if (!isDrawing || !canvasRef.current) return;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        const pos = getMousePos(canvas, e);\n        if (ctx) {\n            ctx.beginPath();\n            ctx.moveTo(lastPos.current.x, lastPos.current.y);\n            ctx.lineTo(pos.x, pos.y);\n            ctx.strokeStyle = color;\n            ctx.lineWidth = strokeWidth;\n            ctx.lineCap = 'round';\n            ctx.stroke();\n        }\n        lastPos.current = pos;\n    };\n\n    const startDrawing = (e: React.MouseEvent) => {\n        if (!canvasRef.current) return;\n        setIsDrawing(true);\n        lastPos.current = getMousePos(canvasRef.current, e);\n    };\n\n    const stopDrawing = () => {\n        setIsDrawing(false);\n    };\n\n    const clearPad = () => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        if(ctx) ctx.clearRect(0, 0, canvas.width, canvas.height);\n    };\n    \n    const handleSave = () => {\n        if (!canvasRef.current) return;\n        onSave(canvasRef.current.toDataURL('image/png'));\n    };\n    \n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if(canvas) {\n            const parent = canvas.parentElement;\n            if(parent) {\n                canvas.width = parent.clientWidth;\n                canvas.height = 300;\n            }\n        }\n    }, [])\n\n    return (\n        <div className=\"flex flex-col gap-4\">\n            <canvas\n                ref={canvasRef}\n                className=\"w-full bg-muted/50 rounded-md border cursor-crosshair\"\n                onMouseDown={startDrawing}\n                onMouseMove={draw}\n                onMouseUp={stopDrawing}\n                onMouseLeave={stopDrawing}\n            />\n            <div className=\"flex justify-between items-center gap-4\">\n                <div className='flex items-center gap-2'>\n                  <Label htmlFor=\"sig-color\">{texts.signatureColor}</Label>\n                  <Input id=\"sig-color\" type=\"color\" value={color} onChange={e => setColor(e.target.value)} className=\"w-12 h-8 p-1\"/>\n                </div>\n                <div className='flex items-center gap-2'>\n                  <Label htmlFor=\"sig-stroke\">{texts.signatureStrokeWidth}</Label>\n                  <Slider id=\"sig-stroke\" min={1} max={10} step={1} value={[strokeWidth]} onValueChange={val => setStrokeWidth(val[0])} className=\"w-32\"/>\n                </div>\n                <Button variant=\"outline\" onClick={clearPad}>{texts.signatureClear}</Button>\n                <Button onClick={handleSave}>{texts.signatureSave}</Button>\n            </div>\n        </div>\n    )\n}\n\nconst initialEditorState: EditorState = {\n  pageObjects: [],\n  annotations: [],\n};\n\n\nexport default function PdfEditorPage() {\n  const router = useRouter();\n  const { toast } = useToast();\n  \n  const [editorState, setEditorState] = useState<EditorState>(initialEditorState);\n  const [history, setHistory] = useState<EditorState[]>([initialEditorState]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n\n  const [selectedPageIds, setSelectedPageIds] = useState<Set<string>>(new Set());\n\n  const [activePageIndex, setActivePageIndex] = useState<number | null>(null);\n  const [viewMode, setViewMode] = useState<'editor' | 'grid'>('editor');\n  \n  const [interactionMode, setInteractionMode] = useState<InteractionMode>('idle');\n  const [activeTool, setActiveTool] = useState<Tool>('select');\n  const [selectedAnnotationId, setSelectedAnnotationId] = useState<string | null>(null);\n  const [hoveredAnnotationId, setHoveredAnnotationId] = useState<string | null>(null);\n  const [drawingShapeType, setDrawingShapeType] = useState<ShapeAnnotation['type'] | null>(null);\n\n\n  const mainViewContainerRef = useRef<HTMLDivElement>(null);\n  const pageRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const [mainCanvasZoom, setMainCanvasZoom] = useState(1);\n\n  const [isDeleteConfirmOpen, setIsDeleteConfirmOpen] = useState(false);\n  const [isNewDocConfirmOpen, setIsNewDocConfirmOpen] = useState(false);\n  const [pageToDelete, setPageToDelete] = useState<number | null>(null);\n\n  const [currentLanguage, setCurrentLanguage] = useState<'en' | 'zh'>('zh');\n  const [texts, setTexts] = useState(translations.zh);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('');\n  \n  const [isDownloading, setIsDownloading] = useState(false);\n  const [downloadProgress, setDownloadProgress] = useState(0);\n  const [showDownloadOptions, setShowDownloadOptions] = useState(false);\n  const downloadButtonRef = useRef<HTMLDivElement>(null);\n  const toolbarContainerRef = useRef<HTMLDivElement>(null);\n\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  \n  const [isLinkPopoverOpen, setIsLinkPopoverOpen] = useState(false);\n  const [currentLink, setCurrentLink] = useState<LinkAnnotationDef>({ type: 'url', value: '' });\n\n  const [isSignatureDialogOpen, setIsSignatureDialogOpen] = useState(false);\n  \n  const [pageTextContents, setPageTextContents] = useState<PageTextContent[]>([]);\n  const [hasTextLayer, setHasTextLayer] = useState(false);\n  const [searchResults, setSearchResults] = useState<SearchResult[]>([]);\n  const [currentSearchResultIndex, setCurrentSearchResultIndex] = useState(-1);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isSearchCaseSensitive, setIsSearchCaseSensitive] = useState(false);\n\n  const dragStartRef = useRef({ x: 0, y: 0, initialLeft: 0, initialTop: 0, initialWidth: 0, initialHeight: 0 });\n  const drawingStartRef = useRef<{ pageIndex: number; startX: number; startY: number; id: string } | null>(null);\n\n  const [isGuestLimitModalOpen, setIsGuestLimitModalOpen] = useState(false);\n  const [guestLimitModalContent, setGuestLimitModalContent] = useState({ title: '', description: '' });\n  const [isConvertConfirmOpen, setIsConvertConfirmOpen] = useState(false);\n  const [pendingFileToConvert, setPendingFileToConvert] = useState<File | null>(null);\n  \n  const [isTextExtractionMode, setIsTextExtractionMode] = useState(false);\n  const [originalAnnotations, setOriginalAnnotations] = useState<Annotation[]>([]);\n\n  const thumbnailContainerRef = useRef<HTMLDivElement>(null);\n  const thumbnailRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n  const pdfUploadRef = useRef<HTMLInputElement>(null);\n  const imageUploadRef = useRef<HTMLInputElement>(null);\n  const insertPdfRef = useRef<HTMLInputElement>(null);\n  const convertUploadRef = useRef<HTMLInputElement>(null);\n  const sortableInstanceRef = useRef<Sortable | null>(null);\n  \n  const observerRef = useRef<IntersectionObserver | null>(null);\n  const insertionTargetRef = useRef<'start' | 'end' | 'before' | 'after'>('end');\n\n  const recordNextStateRef = useRef(false);\n\n  // Destructure state for easier access in JSX\n  const { pageObjects, annotations } = editorState;\n  \n  const textAnnotations = annotations.filter(a => a.type === 'text') as TextAnnotation[];\n  const imageAnnotations = annotations.filter(a => a.type === 'image') as ImageAnnotation[];\n  const highlightAnnotations = annotations.filter(a => a.type === 'highlight') as HighlightAnnotation[];\n  const shapeAnnotations = annotations.filter(a => a.type === 'rect' || a.type === 'ellipse' || a.type === 'triangle') as ShapeAnnotation[];\n  const mosaicAnnotations = annotations.filter(a => a.type === 'mosaic') as MosaicAnnotation[];\n  const scribbleAnnotations = annotations.filter(a => a.type === 'scribble') as ScribbleAnnotation[];\n\n  const updateState = useCallback((newPartialState: Partial<EditorState>, isHistoryEvent: boolean = true) => {\n    setEditorState(prevState => {\n      const newState = { ...prevState, ...newPartialState };\n      if (isHistoryEvent) {\n          const newHistory = history.slice(0, historyIndex + 1);\n          setHistory([...newHistory, newState]);\n          setHistoryIndex(newHistory.length);\n      }\n      return newState;\n    });\n  }, [history, historyIndex]);\n\n  const addAnnotation = (annotation: Annotation) => {\n    updateState({ annotations: [...annotations, annotation] });\n  };\n  \n  const updateAnnotation = useCallback((id: string, updates: Partial<Annotation>) => {\n      const newAnnotations = annotations.map(ann => {\n          if (ann.id === id) {\n              return { ...ann, ...updates };\n          }\n          return ann;\n      });\n      updateState({ annotations: newAnnotations });\n  }, [annotations, updateState]);\n\n\n  const handleUndo = () => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setHistoryIndex(newIndex);\n      setEditorState(history[newIndex]);\n    }\n  };\n\n  const handleRedo = () => {\n    if (historyIndex < history.length - 1) {\n      const newIndex = historyIndex + 1;\n      setHistoryIndex(newIndex);\n      setEditorState(history[newIndex]);\n    }\n  };\n\n\n  useEffect(() => {\n    setTexts(translations[currentLanguage] || translations.en);\n  }, [currentLanguage]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const loggedInStatus = localStorage.getItem('isLoggedIn') === 'true';\n      setIsLoggedIn(loggedInStatus);\n    }\n  }, []);\n\n  const createSortableInstance = useCallback((containerRef: React.RefObject<HTMLDivElement>) => {\n    if (containerRef.current && !sortableInstanceRef.current) {\n        sortableInstanceRef.current = Sortable.create(containerRef.current, {\n            animation: 150,\n            ghostClass: 'opacity-50',\n            chosenClass: 'shadow-2xl',\n            dragClass: 'opacity-75',\n            onEnd: (evt) => {\n                if (evt.oldIndex === undefined || evt.newIndex === undefined || evt.oldIndex === evt.newIndex) return;\n                \n                const reorderedPageObjects = Array.from(pageObjects);\n                const [movedItem] = reorderedPageObjects.splice(evt.oldIndex!, 1);\n                reorderedPageObjects.splice(evt.newIndex!, 0, movedItem);\n                updateState({ pageObjects: reorderedPageObjects });\n            }\n        });\n    }\n  }, [pageObjects, updateState]);\n\n  useEffect(() => {\n    if (pageObjects.length > 0 && viewMode === 'editor' && thumbnailContainerRef.current) {\n        createSortableInstance(thumbnailContainerRef);\n    } else if (pageObjects.length > 0 && viewMode === 'grid' && mainViewContainerRef.current) {\n        createSortableInstance(mainViewContainerRef);\n    } else if (sortableInstanceRef.current) {\n        sortableInstanceRef.current.destroy();\n        sortableInstanceRef.current = null;\n    }\n\n    return () => {\n        if (sortableInstanceRef.current) {\n            sortableInstanceRef.current.destroy();\n            sortableInstanceRef.current = null;\n        }\n    };\n  }, [pageObjects.length, viewMode, createSortableInstance]);\n\n  useEffect(() => {\n    if (observerRef.current) observerRef.current.disconnect();\n  \n    const options = {\n      root: mainViewContainerRef.current,\n      rootMargin: '0px',\n      threshold: 0.5\n    };\n  \n    observerRef.current = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const index = parseInt(entry.target.getAttribute('data-page-index') || '0', 10);\n          setActivePageIndex(index);\n        }\n      });\n    }, options);\n  \n    const { current: observer } = observerRef;\n    const { current: pageElements } = pageRefs;\n  \n    pageElements.forEach(el => {\n      if (el) observer.observe(el);\n    });\n  \n    return () => {\n      if (observer) {\n        pageElements.forEach(el => {\n          if (el) observer.unobserve(el);\n        });\n      }\n    };\n  }, [pageObjects, mainCanvasZoom]);\n  \n  useEffect(() => {\n    if (activePageIndex !== null && thumbnailRefs.current[activePageIndex]) {\n      thumbnailRefs.current[activePageIndex]?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n      });\n    }\n  }, [activePageIndex]);\n\n\n  const handleFitToPage = useCallback(() => {\n      if (!mainViewContainerRef.current || pageObjects.length === 0 || activePageIndex === null) return;\n      const container = mainViewContainerRef.current;\n      const containerWidth = container.clientWidth - 40;\n      const containerHeight = container.clientHeight - 40;\n\n      const activePage = pageObjects[activePageIndex];\n      if (!activePage) return;\n\n      const pageCanvas = activePage.sourceCanvas;\n      const rotation = activePage.rotation;\n\n      let pageRenderWidth = (rotation % 180 !== 0) ? pageCanvas.height : pageCanvas.width;\n      let pageRenderHeight = (rotation % 180 !== 0) ? pageCanvas.width : pageCanvas.height;\n\n      const widthRatio = containerWidth / pageRenderWidth;\n      const heightRatio = containerHeight / pageRenderHeight;\n\n      const newZoom = Math.min(widthRatio, heightRatio);\n      setMainCanvasZoom(newZoom);\n  }, [activePageIndex, pageObjects]);\n\n  const handleFitToWidth = useCallback(() => {\n      if (!mainViewContainerRef.current || pageObjects.length === 0 || activePageIndex === null) return;\n      const containerWidth = mainViewContainerRef.current.clientWidth - 40;\n      const activePage = pageObjects[activePageIndex];\n      if (!activePage) return;\n\n      const pageCanvas = activePage.sourceCanvas;\n      const rotation = activePage.rotation;\n      let pageRenderWidth = (rotation % 180 !== 0) ? pageCanvas.height : pageCanvas.width;\n\n      const newZoom = containerWidth / pageRenderWidth;\n      setMainCanvasZoom(newZoom);\n  }, [activePageIndex, pageObjects]);\n\n  // Pan Tool Logic\n    const panState = useRef({ isPanning: false, startX: 0, startY: 0, scrollLeft: 0, scrollTop: 0 });\n\n    const handlePanMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (activeTool !== 'pan' || !mainViewContainerRef.current) return;\n        e.preventDefault();\n        panState.current = {\n            isPanning: true,\n            startX: e.pageX - mainViewContainerRef.current.offsetLeft,\n            startY: e.pageY - mainViewContainerRef.current.offsetTop,\n            scrollLeft: mainViewContainerRef.current.scrollLeft,\n            scrollTop: mainViewContainerRef.current.scrollTop,\n        };\n        mainViewContainerRef.current.style.cursor = 'grabbing';\n    };\n\n    const handlePanMouseUpAndLeave = () => {\n        panState.current.isPanning = false;\n        if(mainViewContainerRef.current) mainViewContainerRef.current.style.cursor = activeTool === 'pan' ? 'grab' : 'default';\n    };\n    \n    const handlePanMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (!panState.current.isPanning || !mainViewContainerRef.current) return;\n        e.preventDefault();\n        const x = e.pageX - mainViewContainerRef.current.offsetLeft;\n        const y = e.pageY - mainViewContainerRef.current.offsetTop;\n        const walkX = (x - panState.current.startX);\n        const walkY = (y - panState.current.startY);\n        mainViewContainerRef.current.scrollLeft = panState.current.scrollLeft - walkX;\n        mainViewContainerRef.current.scrollTop = panState.current.scrollTop - walkY;\n    };\n\n\n  const updateLanguage = (lang: 'en' | 'zh') => {\n    setCurrentLanguage(lang);\n  };\n  \n  const handleLogout = () => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('isLoggedIn');\n    }\n    setIsLoggedIn(false);\n    toast({ title: texts.logout, description: currentLanguage === 'zh' ? \"\" : \"You have been logged out successfully.\" });\n  };\n\n  const checkAndDecrementQuota = useCallback((quotaType: 'daily' | 'convert'): boolean => {\n      if (isLoggedIn) {\n        return true; \n      }\n\n      const today = new Date().toISOString().split('T')[0];\n      const lastUsed = localStorage.getItem('pdfLastUsed');\n\n      if (lastUsed !== today) {\n        localStorage.setItem('pdfDailyCount', '5');\n        localStorage.setItem('pdfConvertCount', '1');\n        localStorage.setItem('pdfLastUsed', today);\n      }\n      \n      const key = quotaType === 'daily' ? 'pdfDailyCount' : 'pdfConvertCount';\n      const limit = quotaType === 'daily' ? 5 : 1;\n      let currentCount = parseInt(localStorage.getItem(key) || String(limit), 10);\n\n      if (isNaN(currentCount)) {\n          currentCount = limit;\n      }\n\n      if (currentCount <= 0) {\n        setGuestLimitModalContent({\n          title: quotaType === 'daily' ? texts.dailyLimitTitle : texts.convertLimitTitle,\n          description: quotaType === 'daily' ? texts.dailyLimitDescription : texts.convertLimitDescription\n        });\n        setIsGuestLimitModalOpen(true);\n        return false;\n      }\n\n      localStorage.setItem(key, String(currentCount - 1));\n      return true;\n  }, [isLoggedIn, texts]);\n\n\n  const processPdfFile = async (file: File): Promise<{ loadedPageObjects: PageObject[] }> => {\n    const arrayBuffer = await file.arrayBuffer();\n    const pdfDocProxy = await pdfjsLib.getDocument({\n      data: arrayBuffer,\n      cMapUrl: `//cdn.jsdelivr.net/npm/pdfjs-dist@${pdfjsLib.version}/cmaps/`,\n      cMapPacked: true,\n    }).promise;\n\n    const numPages = pdfDocProxy.numPages;\n    const loadedPageObjects: PageObject[] = [];\n    const textContents: PageTextContent[] = [];\n\n    for (let i = 1; i <= numPages; i++) {\n      const page = await pdfDocProxy.getPage(i);\n      const viewport = page.getViewport({ scale: 3.0 });\n      const canvas = document.createElement('canvas');\n      canvas.width = viewport.width;\n      canvas.height = viewport.height;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) continue;\n      await page.render({ canvasContext: ctx, viewport }).promise;\n      loadedPageObjects.push({ id: uuidv4(), sourceCanvas: canvas, rotation: 0 });\n    }\n    \n    return { loadedPageObjects };\n  };\n\n  const loadPdfIntoEditor = async (file: File) => {\n    setIsLoading(true);\n    setLoadingMessage(texts.loadingPdf);\n    try {\n      const { loadedPageObjects } = await processPdfFile(file);\n      const newState: EditorState = { pageObjects: loadedPageObjects, annotations: [] };\n      setEditorState(newState);\n      setHistory([newState]);\n      setHistoryIndex(0);\n      setOriginalAnnotations([]);\n      setIsTextExtractionMode(false);\n      \n      setSelectedPageIds(new Set());\n      setActivePageIndex(0);\n      setViewMode('editor');\n      \n      setTimeout(() => handleFitToWidth(), 100);\n\n    } catch (err: any)\n    {\n      toast({ title: texts.loadError, description: err.message, variant: \"destructive\" });\n      setEditorState(initialEditorState);\n      setHistory([initialEditorState]);\n      setHistoryIndex(0);\n      setActivePageIndex(null);\n    } finally {\n      setIsLoading(false);\n      setLoadingMessage('');\n      if (pdfUploadRef.current) pdfUploadRef.current.value = '';\n    }\n  }\n\n  const handlePdfUpload = async (event: React.ChangeEvent<HTMLInputElement> | React.DragEvent<HTMLDivElement>) => {\n    let file: File | null = null;\n    if ('dataTransfer' in event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (event.dataTransfer.files && event.dataTransfer.files.length > 0) {\n            file = event.dataTransfer.files[0];\n            event.dataTransfer.clearData();\n        }\n    } else {\n        file = event.target.files?.[0] || null;\n    }\n\n    if (!file || !file.type.includes('pdf')) {\n        if (file) toast({ title: texts.loadError, description: currentLanguage === 'zh' ? \" PDF\" : \"Invalid file type. Please upload a PDF.\", variant: \"destructive\" });\n        return;\n    }\n    loadPdfIntoEditor(file);\n  };\n  \n  const handleExtractText = async () => {\n    if (pageObjects.length === 0) return;\n    setIsLoading(true);\n    setLoadingMessage(texts.extractingText);\n    try {\n        const arrayBuffer = await (await fetch(pageObjects[0].sourceCanvas.toDataURL())).arrayBuffer(); // This is a trick to get the file data back. In a real app, you'd keep the file object.\n        const pdfDocProxy = await pdfjsLib.getDocument({ data: arrayBuffer, cMapUrl: `//cdn.jsdelivr.net/npm/pdfjs-dist@${pdfjsLib.version}/cmaps/`, cMapPacked: true }).promise;\n\n        const extractedAnnotations: TextAnnotation[] = [];\n        for (let i = 1; i <= pdfDocProxy.numPages; i++) {\n            const page = await pdfDocProxy.getPage(i);\n            const viewport = page.getViewport({ scale: 3.0 });\n            const textContent = await page.getTextContent();\n            \n            textContent.items.forEach((item: any) => {\n                if (item.str.trim().length === 0) return;\n                const tx = pdfjsLib.Util.transform(viewport.transform, item.transform);\n                const fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n                extractedAnnotations.push({\n                    id: uuidv4(),\n                    type: 'text',\n                    pageIndex: i - 1,\n                    segments: [{ text: item.str, color: '#000000', bold: item.fontName.toLowerCase().includes('bold'), italic: item.fontName.toLowerCase().includes('italic'), underline: false }],\n                    leftRatio: item.transform[4] / viewport.width,\n                    topRatio: (viewport.height - item.transform[5] - item.height) / viewport.height,\n                    widthRatio: item.width / viewport.width,\n                    heightRatio: item.height / viewport.height,\n                    fontSize: fontHeight,\n                    fontFamily: item.fontName,\n                    textAlign: 'left',\n                    isUserAction: false,\n                });\n            });\n        }\n        setOriginalAnnotations(extractedAnnotations);\n        setEditorState(prev => ({...prev, annotations: [...prev.annotations.filter(a => a.isUserAction), ...extractedAnnotations]}));\n        setIsTextExtractionMode(true);\n        toast({ title: \"Text Extracted\", description: `Found ${extractedAnnotations.length} text blocks.` });\n    } catch (err: any) {\n        toast({ title: \"Extraction Failed\", description: err.message, variant: \"destructive\" });\n    } finally {\n        setIsLoading(false);\n    }\n  };\n  \n  const handleModeToggle = (mode: 'edit' | 'extract') => {\n      if (mode === 'extract') {\n          if (originalAnnotations.length === 0) {\n              handleExtractText();\n          } else {\n              setEditorState(prev => ({ ...prev, annotations: [...prev.annotations.filter(a => a.isUserAction), ...originalAnnotations] }));\n              setIsTextExtractionMode(true);\n          }\n      } else { // 'edit' mode\n          setEditorState(prev => ({ ...prev, annotations: prev.annotations.filter(a => a.isUserAction) }));\n          setIsTextExtractionMode(false);\n      }\n  }\n\n\n  const handleConfirmOpenNew = () => {\n    setEditorState(initialEditorState);\n    updateState(initialEditorState);\n    setHasTextLayer(false);\n    setSelectedPageIds(new Set());\n    setActivePageIndex(null);\n    setIsTextExtractionMode(false);\n    setOriginalAnnotations([]);\n    \n    if (pdfUploadRef.current) {\n        pdfUploadRef.current.value = ''; \n        pdfUploadRef.current.click();\n    }\n    \n    setIsNewDocConfirmOpen(false);\n  };\n\n  const handleDeletePages = () => {\n      if (selectedPageIds.size === 0) {\n          toast({ title: texts.pageManagement, description: texts.noPageSelected, variant: \"destructive\" });\n          return;\n      }\n      \n      const newPageObjects = pageObjects.filter(p => !selectedPageIds.has(p.id));\n      const oldIndexMap = new Map(pageObjects.map((p, i) => [p.id, i]));\n      const newIndexMap = new Map(newPageObjects.map((p, i) => [p.id, i]));\n      \n      const newAnnotations = annotations\n          .filter(ann => {\n              const oldPageIndex = oldIndexMap.get(pageObjects[ann.pageIndex]?.id);\n              return oldPageIndex !== undefined && !selectedPageIds.has(pageObjects[oldPageIndex].id);\n          })\n          .map(ann => {\n              const newIndex = newIndexMap.get(pageObjects[ann.pageIndex].id);\n              return { ...ann, pageIndex: newIndex ?? -1 };\n          })\n          .filter(ann => ann.pageIndex !== -1);\n      \n      updateState({ pageObjects: newPageObjects, annotations: newAnnotations });\n      \n      setSelectedPageIds(new Set());\n      setActivePageIndex(pageObjects.length > 0 ? 0 : null);\n      toast({ title: texts.pageManagement, description: currentLanguage === 'zh' ? \"\" : \"Selected pages have been deleted.\" });\n  };\n\n\n  const hexToRgb = (hex: string): { r: number; g: number; b: number } => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16) / 255,\n      g: parseInt(result[2], 16) / 255,\n      b: parseInt(result[3], 16) / 255\n    } : { r: 0, g: 0, b: 0 };\n  };\n\n  const parseRgba = (rgba: string) => {\n    const result = rgba.match(/(\\d+(\\.\\d+)?)/g);\n    if (!result || result.length < 4) return { r: 0, g: 0, b: 0, a: 1 };\n    return {\n        r: parseInt(result[0]) / 255,\n        g: parseInt(result[1]) / 255,\n        b: parseInt(result[2]) / 255,\n        a: parseFloat(result[3]),\n    };\n  };\n\n  const getPdfFont = async (pdfDoc: PDFLibDocument, annotation: TextAnnotation): Promise<PDFFont> => {\n    // This is a simplification. A real implementation would need to handle font embedding better.\n    const { fontFamily } = annotation;\n    if (fontFamily.includes('Times')) return pdfDoc.embedFont(StandardFonts.TimesRoman);\n    if (fontFamily.includes('Courier')) return pdfDoc.embedFont(StandardFonts.Courier);\n    return pdfDoc.embedFont(StandardFonts.Helvetica);\n  };\n\n  const generatePdfBytes = async (): Promise<Uint8Array> => {\n    const pdfDocOut = await PDFLibDocument.create();\n\n    for (const [index, pageObj] of pageObjects.entries()) {\n      const { sourceCanvas, rotation } = pageObj;\n\n      const tempRenderCanvas = document.createElement('canvas');\n      const tempCtx = tempRenderCanvas.getContext('2d');\n      if (!tempCtx) continue;\n\n      const rad = rotation * Math.PI / 180;\n\n      if (rotation % 180 !== 0) {\n        tempRenderCanvas.width = sourceCanvas.height;\n        tempRenderCanvas.height = sourceCanvas.width;\n      } else {\n        tempRenderCanvas.width = sourceCanvas.width;\n        tempRenderCanvas.height = sourceCanvas.height;\n      }\n\n      tempCtx.translate(tempRenderCanvas.width / 2, tempRenderCanvas.height / 2);\n      tempCtx.rotate(rad);\n      tempCtx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2, sourceCanvas.width, sourceCanvas.height);\n\n      const imgDataUrl = tempRenderCanvas.toDataURL('image/png');\n      const pngImage = await pdfDocOut.embedPng(imgDataUrl);\n\n      const pdfLibPage = pdfDocOut.addPage([tempRenderCanvas.width, tempRenderCanvas.height]);\n      pdfLibPage.drawImage(pngImage, { x: 0, y: 0, width: tempRenderCanvas.width, height: tempRenderCanvas.height });\n\n      const { width: pageWidth, height: pageHeight } = pdfLibPage.getSize();\n      \n      const pageAnnotations = annotations.filter(a => a.pageIndex === index);\n\n      for (const annotation of pageAnnotations.filter(a => a.type === 'highlight') as HighlightAnnotation[]) {\n          const { r, g, b, a } = parseRgba(annotation.color);\n          pdfLibPage.drawRectangle({\n              x: annotation.leftRatio * pageWidth,\n              y: pageHeight - (annotation.topRatio * pageHeight) - (annotation.heightRatio * pageHeight),\n              width: annotation.widthRatio * pageWidth,\n              height: annotation.heightRatio * pageHeight,\n              color: rgb(r, g, b),\n              opacity: a,\n              blendMode: BlendMode.Multiply,\n          });\n      }\n      \n      for (const annotation of pageAnnotations.filter(a => a.type === 'rect' || a.type === 'ellipse' || a.type === 'triangle') as ShapeAnnotation[]) {\n          const x = annotation.leftRatio * pageWidth;\n          const y = pageHeight - (annotation.topRatio * pageHeight) - (annotation.heightRatio * pageHeight);\n          const width = annotation.widthRatio * pageWidth;\n          const height = annotation.heightRatio * pageHeight;\n          const { r: fillR, g: fillG, b: fillB } = hexToRgb(annotation.fillColor);\n          const { r: strokeR, g: strokeG, b: strokeB } = hexToRgb(annotation.strokeColor);\n\n          if (annotation.type === 'rect') {\n              pdfLibPage.drawRectangle({ x, y, width, height, color: rgb(fillR, fillG, fillB), borderColor: rgb(strokeR, strokeG, strokeB), borderWidth: annotation.strokeWidth });\n          } else if (annotation.type === 'ellipse') {\n              pdfLibPage.drawEllipse({ x: x + width/2, y: y + height/2, xScale: width/2, yScale: height/2, color: rgb(fillR, fillG, fillB), borderColor: rgb(strokeR, strokeG, strokeB), borderWidth: annotation.strokeWidth });\n          } else if (annotation.type === 'triangle') {\n               const points = [ {x: x + width / 2, y: y + height}, {x: x, y}, {x: x + width, y} ];\n               pdfLibPage.drawPolygon({ points, color: rgb(fillR, fillG, fillB), borderColor: rgb(strokeR, strokeG, strokeB), borderWidth: annotation.strokeWidth });\n          }\n      }\n      \n      for (const annotation of pageAnnotations.filter(a => a.type === 'scribble') as ScribbleAnnotation[]) {\n          if (!annotation.points || annotation.points.length < 2) continue;\n          const pathData = annotation.points.map((p, i) => {\n              const command = i === 0 ? 'M' : 'L';\n              return `${command} ${p.xRatio * pageWidth} ${pageHeight - (p.yRatio * pageHeight)}`;\n          }).join(' ');\n\n          const { r, g, b } = hexToRgb(annotation.color);\n          pdfLibPage.drawSvgPath(pathData, {\n              borderColor: rgb(r, g, b),\n              borderWidth: annotation.strokeWidth,\n          });\n      }\n\n      for (const annotation of pageAnnotations.filter(a => a.type === 'mosaic') as MosaicAnnotation[]) {\n          const mosaicX = annotation.leftRatio * pageWidth;\n          const mosaicY = pageHeight - (annotation.topRatio * pageHeight) - (annotation.heightRatio * pageHeight);\n          const mosaicWidth = annotation.widthRatio * pageWidth;\n          const mosaicHeight = annotation.heightRatio * pageHeight;\n\n          const sourcePageCanvas = pageObjects[index].sourceCanvas;\n          const tempMosaicCanvas = document.createElement('canvas');\n          const tempMosaicCtx = tempMosaicCanvas.getContext('2d', { willReadFrequently: true });\n          if (!tempMosaicCtx) continue;\n\n          tempMosaicCanvas.width = mosaicWidth;\n          tempMosaicCanvas.height = mosaicHeight;\n\n          tempMosaicCtx.drawImage(\n            sourcePageCanvas,\n            annotation.leftRatio * sourcePageCanvas.width,\n            annotation.topRatio * sourcePageCanvas.height,\n            annotation.widthRatio * sourcePageCanvas.width,\n            annotation.heightRatio * sourcePageCanvas.height,\n            0, 0, mosaicWidth, mosaicHeight\n          );\n\n          const PIXELATION_LEVEL = 10;\n          const w = tempMosaicCanvas.width / PIXELATION_LEVEL;\n          const h = tempMosaicCanvas.height / PIXELATION_LEVEL;\n          \n          tempMosaicCtx.imageSmoothingEnabled = false;\n          tempMosaicCtx.drawImage(tempMosaicCanvas, 0, 0, w, h);\n          tempMosaicCtx.drawImage(tempMosaicCanvas, 0, 0, w, h, 0, 0, tempMosaicCanvas.width, tempMosaicCanvas.height);\n          \n          const pixelatedImage = await pdfDocOut.embedPng(tempMosaicCanvas.toDataURL());\n          pdfLibPage.drawImage(pixelatedImage, { x: mosaicX, y: mosaicY, width: mosaicWidth, height: mosaicHeight });\n      }\n\n      for (const annotation of pageAnnotations.filter(a => a.type === 'image') as ImageAnnotation[]) {\n          let embeddedImage;\n          if (annotation.dataUrl.startsWith('data:image/png')) {\n              embeddedImage = await pdfDocOut.embedPng(annotation.dataUrl);\n          } else if (annotation.dataUrl.startsWith('data:image/jpeg')) {\n              embeddedImage = await pdfDocOut.embedJpg(annotation.dataUrl);\n          } else {\n              continue;\n          }\n\n          const imgX = annotation.leftRatio * pageWidth;\n          const imgHeight = annotation.heightRatio * pageHeight;\n          const imgY = pageHeight - (annotation.topRatio * pageHeight) - imgHeight;\n          const imgWidth = annotation.widthRatio * pageWidth;\n          \n          pdfLibPage.drawImage(embeddedImage, { x: imgX, y: imgY, width: imgWidth, height: imgHeight });\n\n          if (annotation.link) {\n              const linkRect = { x: imgX, y: imgY, width: imgWidth, height: imgHeight };\n              if(annotation.link.type === 'url') {\n                  pdfLibPage.addURIAnnotation(linkRect, annotation.link.value);\n              } else if (annotation.link.type === 'page') {\n                  const targetPageNum = parseInt(annotation.link.value, 10);\n                  if (!isNaN(targetPageNum) && targetPageNum > 0 && targetPageNum <= pdfDocOut.getPageCount()) {\n                     const targetPage = pdfDocOut.getPages()[targetPageNum - 1];\n                     pdfLibPage.addLinkAnnotation(linkRect, targetPage);\n                  }\n              }\n          }\n      }\n      \n      for (const annotation of pageAnnotations.filter(a => a.type === 'text') as TextAnnotation[]) {\n        if (!annotation.isUserAction) continue; // Only draw user-added text\n        const font = await getPdfFont(pdfDocOut, annotation);\n        const { r, g, b } = hexToRgb(annotation.segments[0].color);\n        const boxWidth = annotation.widthRatio * pageWidth;\n        const textToDraw = annotation.segments.map(s => s.text).join('');\n\n        const textLayout = layoutMultilineText(textToDraw, {\n            font,\n            bounds: { width: boxWidth, height: Infinity },\n            fontSize: annotation.fontSize,\n            lineHeight: annotation.fontSize * 1.2,\n        });\n\n        const textHeight = textLayout.lines.length * annotation.fontSize * 1.2;\n        const x = annotation.leftRatio * pageWidth;\n        const y = pageHeight - (annotation.topRatio * pageHeight);\n\n        pdfLibPage.pushGraphicsState();\n        pdfLibPage.drawText(textLayout.lines.map(l => l.text).join('\\n'), {\n            x,\n            y: y - font.ascent * (annotation.fontSize / font.unitsPerEm),\n            font,\n            size: annotation.fontSize,\n            color: rgb(r, g, b),\n            lineHeight: annotation.fontSize * 1.2,\n            maxWidth: boxWidth,\n        });\n        pdfLibPage.popGraphicsState();\n      }\n    }\n    \n    return await pdfDocOut.save();\n  };\n\n  const handleDownloadOption = async (format: string) => {\n    setShowDownloadOptions(false);\n    if (pageObjects.length === 0) {\n      toast({ title: 'Error', description: 'No document to save.' });\n      return;\n    }\n\n    if (!checkAndDecrementQuota('convert')) return;\n\n    setIsDownloading(true);\n    setDownloadProgress(0);\n\n    const progressInterval = setInterval(() => {\n        setDownloadProgress(prev => {\n            if (prev >= 95) {\n                clearInterval(progressInterval);\n                return prev;\n            }\n            return prev + 5;\n        });\n    }, 200);\n\n    try {\n        const pdfBytes = await generatePdfBytes();\n        \n        if (format === 'pdf') {\n            const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = \"edited_document.pdf\";\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n            toast({ title: 'Download Successful', description: 'PDF has been saved.' });\n        } else {\n            const pdfFile = new File([pdfBytes], \"edited_document.pdf\", { type: \"application/pdf\" });\n            const formData = new FormData();\n            formData.append(\"file\", pdfFile);\n            formData.append(\"format\", format);\n\n            const controller = new AbortController();\n            const timeoutId = setTimeout(() => controller.abort(), 120000); \n\n            const response = await fetch(\"https://pdfsolution.dpdns.org/upload\", {\n                method: 'POST',\n                body: formData,\n                signal: controller.signal\n            });\n            clearTimeout(timeoutId);\n\n            if (!response.ok) {\n                throw new Error(`Conversion failed with status: ${response.status}`);\n            }\n            \n            const resBlob = await response.blob();\n            const contentDisposition = response.headers.get('Content-Disposition');\n            const formatOption = saveAsFormatOptions.find(opt => opt.value === format);\n            let downloadFilename = `result.${formatOption?.extension || 'bin'}`;\n\n            if (contentDisposition) {\n                const match = contentDisposition.match(/filename=\"?([^\"]+)\"?/);\n                if (match && match[1]) downloadFilename = match[1];\n            }\n\n            const url = window.URL.createObjectURL(resBlob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = downloadFilename;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n            \n            toast({ title: 'Download Successful', description: `${downloadFilename} has been saved.` });\n        }\n        setDownloadProgress(100);\n        setTimeout(() => setIsDownloading(false), 500);\n\n    } catch (err: any) {\n        toast({ title: `Error processing file`, description: err.message, variant: \"destructive\" });\n        setIsDownloading(false);\n    } finally {\n        clearInterval(progressInterval);\n    }\n  };\n\n\n  const commonDragEvents = {\n    onDragOver: (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.add('border-primary', 'bg-primary/10');\n    },\n    onDragLeave: (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.remove('border-primary', 'bg-primary/10');\n    },\n    onDrop: (e: React.DragEvent<HTMLDivElement>, handler: (event: React.DragEvent<HTMLDivElement>) => void) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.remove('border-primary', 'bg-primary/10');\n        handler(e as any);\n    }\n  };\n  \n  const handleDragMouseDown = (\n      event: React.MouseEvent<HTMLElement>,\n      id: string\n  ) => {\n      event.stopPropagation();\n      const annotation = annotations.find(a => a.id === id);\n      if (!annotation) return;\n\n      const isResize = (event.target as HTMLElement).classList.contains('cursor-se-resize');\n      \n      const containerElement = (event.currentTarget.closest('.main-page-container')) as HTMLElement;\n      if (!containerElement) return;\n\n      const containerRect = containerElement.getBoundingClientRect();\n      \n      dragStartRef.current = {\n          x: event.clientX,\n          y: event.clientY,\n          initialLeft: annotation.leftRatio * containerRect.width,\n          initialTop: annotation.topRatio * containerRect.height,\n          initialWidth: ('widthRatio' in annotation) ? annotation.widthRatio * containerRect.width : 0,\n          initialHeight: ('heightRatio' in annotation) ? annotation.heightRatio * containerRect.height : 0\n      };\n      \n      const handleMouseMove = (moveEvent: MouseEvent) => {\n          moveEvent.preventDefault();\n\n          const deltaX = moveEvent.clientX - dragStartRef.current.x;\n          const deltaY = moveEvent.clientY - dragStartRef.current.y;\n          \n          let updatedAnnotation: Partial<Annotation> = {};\n\n          if (isResize) {\n              const newWidthPx = dragStartRef.current.initialWidth + deltaX;\n              let newHeightPx;\n              \n              if (annotation.type === 'image') {\n                  const newWidthRatio = Math.max(0.05, newWidthPx / containerRect.width);\n                  updatedAnnotation = { \n                      widthRatio: newWidthRatio, \n                      heightRatio: newWidthRatio / annotation.aspectRatio * (containerRect.width / containerRect.height)\n                  };\n              } else if ('heightRatio' in annotation) {\n                 newHeightPx = dragStartRef.current.initialHeight + deltaY;\n                 updatedAnnotation = { \n                    widthRatio: Math.max(0.01, newWidthPx / containerRect.width),\n                    heightRatio: Math.max(0.01, newHeightPx / containerRect.height)\n                 };\n              }\n          }\n          else { // Drag operation\n              const newLeftPx = dragStartRef.current.initialLeft + deltaX;\n              const newTopPx = dragStartRef.current.initialTop + deltaY;\n              \n              const currentWidthRatio = 'widthRatio' in annotation ? annotation.widthRatio : 0;\n              const currentHeightRatio = 'heightRatio' in annotation ? annotation.heightRatio : 0;\n\n              const newLeftRatio = Math.max(0, Math.min(1 - currentWidthRatio, newLeftPx / containerRect.width));\n              const newTopRatio = Math.max(0, Math.min(1 - currentHeightRatio, newTopPx / containerRect.height));\n              updatedAnnotation = { leftRatio: newLeftRatio, topRatio: newTopRatio };\n          }\n          updateAnnotation(id, updatedAnnotation);\n      };\n\n      const handleMouseUp = () => {\n          document.removeEventListener('mousemove', handleMouseMove);\n          document.removeEventListener('mouseup', handleMouseUp);\n          recordNextStateRef.current = true;\n          setEditorState(prev => ({...prev})); // Trigger history recording\n      };\n\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n  };\n\n\n  const handleThumbnailClick = (index: number, event: React.MouseEvent) => {\n      if (viewMode === 'editor') {\n          setActivePageIndex(index);\n          const targetPage = pageRefs.current[index];\n          if (targetPage) {\n              targetPage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }\n      } else {\n          const clickedId = pageObjects[index].id;\n          const newSelectedPageIds = new Set(selectedPageIds);\n          if (newSelectedPageIds.has(clickedId)) {\n              newSelectedPageIds.delete(clickedId);\n          } else {\n              newSelectedPageIds.add(clickedId);\n          }\n          setSelectedPageIds(newSelectedPageIds);\n      }\n  };\n\n    const handleRotatePage = (direction: 'cw' | 'ccw') => {\n        if (activePageIndex === null) return;\n        \n        const newPageObjects = pageObjects.map((page, index) => {\n            if (index === activePageIndex) {\n                const newRotation = (page.rotation + (direction === 'cw' ? 90 : -90) + 360) % 360;\n                return { ...page, rotation: newRotation };\n            }\n            return page;\n        });\n        updateState({ pageObjects: newPageObjects });\n    };\n\n    const handleAddBlankPage = () => {\n        const blankCanvas = document.createElement('canvas');\n        \n        if (pageObjects.length > 0 && pageObjects[0].sourceCanvas) {\n            blankCanvas.width = pageObjects[0].sourceCanvas.width;\n            blankCanvas.height = pageObjects[0].sourceCanvas.height;\n        } else {\n            blankCanvas.width = 2480; \n            blankCanvas.height = 3508;\n        }\n\n        const ctx = blankCanvas.getContext('2d');\n        if (ctx) {\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, blankCanvas.width, blankCanvas.height);\n        }\n        const newPageObject: PageObject = { id: uuidv4(), sourceCanvas: blankCanvas, rotation: 0 };\n\n        const insertAt = (activePageIndex === null ? pageObjects.length - 1 : activePageIndex) + 1;\n\n        const newPages = [...pageObjects];\n        newPages.splice(insertAt, 0, newPageObject);\n        updateState({ pageObjects: newPages });\n        \n        setActivePageIndex(insertAt);\n        setSelectedPageIds(new Set([newPageObject.id]));\n        \n        setTimeout(() => {\n            const newPageElement = pageRefs.current[insertAt];\n            if (newPageElement) {\n                newPageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            }\n        }, 100);\n    };\n\n    const handleAddTextAnnotation = () => {\n        if (activePageIndex === null || !mainViewContainerRef.current) {\n            toast({ title: texts.toolInsertText, description: texts.noPageSelected, variant: \"destructive\" });\n            return;\n        }\n\n        const container = mainViewContainerRef.current;\n        const pageRect = pageRefs.current[activePageIndex]?.getBoundingClientRect();\n        if (!pageRect) return;\n\n        const top = (container.scrollTop + container.clientHeight / 2) - pageRect.top;\n        const left = (container.scrollLeft + container.clientWidth / 2) - pageRect.left;\n        \n        const newAnnotation: TextAnnotation = {\n            id: uuidv4(),\n            type: 'text',\n            pageIndex: activePageIndex,\n            segments: [{ text: texts.textAnnotationSample, color: '#000000', bold: false, italic: false, underline: false }],\n            topRatio: Math.max(0, Math.min(0.9, top / pageRect.height)),\n            leftRatio: Math.max(0, Math.min(0.8, left / pageRect.width)),\n            widthRatio: 0.2,\n            heightRatio: 0.1,\n            fontSize: 36,\n            fontFamily: 'Helvetica',\n            textAlign: 'left',\n            isUserAction: true,\n        };\n        \n        addAnnotation(newAnnotation);\n        setSelectedAnnotationId(newAnnotation.id);\n        setActiveTool('select');\n        setInteractionMode('selected');\n    };\n    \n    const handleDeleteAnnotation = (id: string) => {\n        updateState({ annotations: annotations.filter(a => a.id !== id) });\n        if (selectedAnnotationId === id) {\n            setSelectedAnnotationId(null);\n            setInteractionMode('idle');\n        }\n    }\n    \n    const addImageAnnotation = useCallback((dataUrl: string, pageIndex: number) => {\n        const img = new window.Image();\n        img.onload = () => {\n            const container = pageRefs.current[pageIndex];\n            if (!container) return;\n            const containerWidth = container.offsetWidth;\n            const containerHeight = container.offsetHeight;\n\n            const aspectRatio = img.width / img.height;\n            let widthRatio = 0.25;\n            let heightRatio = widthRatio / aspectRatio * (containerWidth / containerHeight);\n\n            const newAnnotation: ImageAnnotation = {\n                id: uuidv4(),\n                type: 'image',\n                pageIndex,\n                dataUrl,\n                topRatio: 0.5,\n                leftRatio: 0.5,\n                widthRatio,\n                heightRatio,\n                aspectRatio,\n                isUserAction: true,\n            };\n            \n            addAnnotation(newAnnotation);\n            setSelectedAnnotationId(newAnnotation.id);\n        };\n        img.src = dataUrl;\n    }, [addAnnotation]);\n\n    const handleImageFileSelected = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n        if (activePageIndex === null) return;\n        const file = event.target.files?.[0];\n        if (!file) return;\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const dataUrl = e.target?.result as string;\n            if (dataUrl) {\n                addImageAnnotation(dataUrl, activePageIndex);\n                toast({ title: texts.imageInsertSuccess });\n            }\n        };\n        reader.readAsDataURL(file);\n        if(imageUploadRef.current) imageUploadRef.current.value = '';\n    }, [activePageIndex, addImageAnnotation, texts.imageInsertSuccess]);\n\n    const handlePaste = useCallback((event: ClipboardEvent) => {\n        if (activePageIndex === null) return;\n        const items = event.clipboardData?.items;\n        if (!items) return;\n\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].type.indexOf(\"image\") !== -1) {\n                const file = items[i].getAsFile();\n                if (!file) continue;\n\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    const dataUrl = e.target?.result as string;\n                    if (dataUrl) {\n                        addImageAnnotation(dataUrl, activePageIndex);\n                        toast({ title: texts.imagePasteSuccess });\n                    }\n                };\n                reader.readAsDataURL(file);\n                event.preventDefault();\n                return;\n            }\n        }\n    }, [activePageIndex, addImageAnnotation, texts.imagePasteSuccess]);\n    \n    const handleAddHighlightAnnotation = () => {\n      if (activePageIndex === null) return;\n      const newAnnotation: HighlightAnnotation = {\n        id: uuidv4(),\n        type: 'highlight',\n        pageIndex: activePageIndex,\n        topRatio: 0.4,\n        leftRatio: 0.4,\n        widthRatio: 0.2,\n        heightRatio: 0.05,\n        color: 'rgba(255, 255, 0, 0.4)',\n        isUserAction: true,\n      };\n      addAnnotation(newAnnotation);\n      setSelectedAnnotationId(newAnnotation.id);\n    };\n\n    const handleAddShapeAnnotation = (type: ShapeAnnotation['type']) => {\n        if(activePageIndex === null) return;\n        const newShape: ShapeAnnotation = {\n            id: uuidv4(),\n            pageIndex: activePageIndex,\n            type,\n            topRatio: 0.4,\n            leftRatio: 0.4,\n            widthRatio: 0.2,\n            heightRatio: 0.2,\n            fillColor: '#3b82f6',\n            strokeColor: '#000000',\n            strokeWidth: 2,\n            isUserAction: true,\n        };\n        addAnnotation(newShape);\n        setSelectedAnnotationId(newShape.id);\n        setActiveTool('select');\n    }\n    \n    const handleSaveSignature = (dataUrl: string) => {\n        if(activePageIndex === null) return;\n        addImageAnnotation(dataUrl, activePageIndex);\n        setIsSignatureDialogOpen(false);\n    }\n    \n    const handleApplyImageToAllPages = () => {\n        if(!selectedAnnotationId) return;\n        const baseAnnotation = annotations.find(a => a.id === selectedAnnotationId);\n        if (!baseAnnotation || baseAnnotation.type !== 'image') return;\n\n        const newAnnotations: ImageAnnotation[] = [];\n        for (let i=0; i < pageObjects.length; i++) {\n            if (i === baseAnnotation.pageIndex) continue; \n            \n            const existingAnnotationOnPage = imageAnnotations.find(a => a.pageIndex === i && a.dataUrl === baseAnnotation.dataUrl);\n            if (!existingAnnotationOnPage) {\n                newAnnotations.push({\n                    ...(baseAnnotation as ImageAnnotation),\n                    id: uuidv4(),\n                    pageIndex: i,\n                    isUserAction: true,\n                });\n            }\n        }\n        \n        updateState({ annotations: [...annotations, ...newAnnotations] });\n        toast({ title: 'Success', description: 'Signature applied to all pages.' });\n    };\n\n    const handleDeselectAll = useCallback(() => {\n        if (interactionMode === 'editing') {\n          setInteractionMode('selected');\n        } else {\n          setInteractionMode('idle');\n          setSelectedAnnotationId(null);\n        }\n        setShowDownloadOptions(false);\n    }, [interactionMode]);\n\n    const handleCanvasClick = useCallback((e: React.MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (\n          !mainViewContainerRef.current?.contains(target) &&\n          !toolbarContainerRef.current?.contains(target) &&\n          !downloadButtonRef.current?.contains(target)\n      ) {\n        handleDeselectAll();\n      } else if (interactionMode === 'editing' && !target.closest('.group\\\\/text-annotation') && !target.closest('.text-toolbar')) {\n        setInteractionMode('selected'); \n      } else if (interactionMode !== 'editing' && target === mainViewContainerRef.current) {\n        handleDeselectAll();\n      }\n    }, [interactionMode, handleDeselectAll]);\n    \n    const handleAnnotationSelect = useCallback((e: React.MouseEvent, id: string) => {\n        e.stopPropagation();\n        if (interactionMode !== 'editing') {\n            setInteractionMode('selected');\n            setSelectedAnnotationId(id);\n        }\n    }, [interactionMode]);\n    \n    const handleTextAnnotationDoubleClick = useCallback((e: React.MouseEvent, id: string) => {\n        e.stopPropagation();\n        setInteractionMode('editing');\n        setSelectedAnnotationId(id);\n    }, []);\n    \n    useEffect(() => {\n        const handleGlobalClick = (e: MouseEvent) => {\n            const target = e.target as Node;\n            if (\n                !mainViewContainerRef.current?.contains(target) &&\n                !toolbarContainerRef.current?.contains(target) &&\n                !downloadButtonRef.current?.contains(target)\n            ) {\n              handleDeselectAll();\n            }\n        };\n\n        document.addEventListener('mousedown', handleGlobalClick);\n        return () => document.removeEventListener('mousedown', handleGlobalClick);\n    }, [handleDeselectAll]);\n    \n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if ((e.key === 'Delete' || e.key === 'Backspace') && selectedAnnotationId !== null && interactionMode !== 'editing') {\n                handleDeleteAnnotation(selectedAnnotationId);\n            }\n            if ((e.ctrlKey || e.metaKey) && e.key === 'z') {\n                e.preventDefault();\n                handleUndo();\n            }\n            if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.shiftKey && e.key === 'z'))) {\n                e.preventDefault();\n                handleRedo();\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n        window.addEventListener('paste', handlePaste);\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n            window.removeEventListener('paste', handlePaste);\n        };\n    }, [selectedAnnotationId, interactionMode, handlePaste, handleUndo, handleRedo]);\n\n\n    const handleOpenLinkPopover = () => {\n        if (!selectedAnnotationId) return;\n        const annotation = annotations.find(a => a.id === selectedAnnotationId);\n        if (!annotation || (annotation.type !== 'text' && annotation.type !== 'image')) return;\n\n        if (annotation.link) {\n            setCurrentLink(annotation.link);\n        } else {\n            setCurrentLink({ type: 'url', value: '' });\n        }\n    };\n\n    const handleSaveLink = () => {\n        if (!selectedAnnotationId) return;\n        updateAnnotation(selectedAnnotationId, { link: currentLink });\n        setIsLinkPopoverOpen(false);\n        toast({ title: texts.linkAttached });\n    };\n\n    const handleRemoveLink = () => {\n        if (!selectedAnnotationId) return;\n        const annotation = annotations.find(a => a.id === selectedAnnotationId);\n        if (!annotation || (annotation.type !== 'text' && annotation.type !== 'image')) return;\n        const { link, ...rest } = annotation;\n        updateState({ annotations: annotations.map(a => a.id === selectedAnnotationId ? rest : a) });\n        setIsLinkPopoverOpen(false);\n        toast({ title: texts.linkRemoved, variant: \"destructive\" });\n    };\n\n\n    const linkPopoverContent = (\n      <div className=\"grid gap-4\">\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium leading-none\">{texts.linkEditTitle}</h4>\n        </div>\n        <div className=\"grid gap-2\">\n          <RadioGroup value={currentLink.type} onValueChange={(type: 'url' | 'page') => setCurrentLink({ ...currentLink, type })}>\n              <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"url\" id=\"r-url\" />\n                  <Label htmlFor=\"r-url\">{texts.linkSetUrl}</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"page\" id=\"r-page\" />\n                  <Label htmlFor=\"r-page\">{texts.linkSetPage}</Label>\n              </div>\n          </RadioGroup>\n          <div className=\"mt-2\">\n            {currentLink.type === 'url' ? (\n                <Input\n                    id=\"link-url\"\n                    placeholder=\"https://example.com\"\n                    value={currentLink.value}\n                    onChange={(e) => setCurrentLink({ ...currentLink, value: e.target.value })}\n                />\n            ) : (\n                <Input\n                    id=\"link-page\"\n                    type=\"number\"\n                    placeholder=\"e.g., 5\"\n                    min=\"1\"\n                    max={pageObjects.length}\n                    value={currentLink.value}\n                    onChange={(e) => setCurrentLink({ ...currentLink, value: e.target.value })}\n                />\n            )}\n          </div>\n        </div>\n        <div className=\"flex justify-between\">\n            <Button variant=\"destructive\" size=\"sm\" onClick={handleRemoveLink}>{texts.linkRemove}</Button>\n            <Button size=\"sm\" onClick={handleSaveLink}>{texts.linkSave}</Button>\n        </div>\n      </div>\n    );\n    \n    const activeTextAnnotation = (interactionMode === 'editing' || interactionMode === 'selected') && selectedAnnotationId\n        ? annotations.find(a => a.id === selectedAnnotationId && a.type === 'text') as TextAnnotation | undefined\n        : undefined;\n\n    const activeShapeAnnotation = (interactionMode === 'editing' || interactionMode === 'selected') && selectedAnnotationId\n        ? annotations.find(a => a.id === selectedAnnotationId && (a.type === 'rect' || a.type === 'ellipse' || a.type === 'triangle' || a.type === 'scribble')) as ShapeAnnotation | ScribbleAnnotation | undefined\n        : undefined;\n\n\n    const handleZoom = (direction: 'in' | 'out') => {\n      const ZOOM_STEP = 0.1;\n      setMainCanvasZoom(prev => {\n        let newZoom = direction === 'in' ? prev + ZOOM_STEP : prev - ZOOM_STEP;\n        return Math.max(0.1, Math.min(newZoom, 5));\n      });\n    };\n    \n    const handleInitiateInsert = (target: 'start' | 'end' | 'before' | 'after') => {\n      if (pageObjects.length === 0 && (target === 'before' || target === 'after')) {\n          toast({ title: texts.noPageSelected, variant: \"destructive\" });\n          return;\n      }\n      insertionTargetRef.current = target;\n      if (insertPdfRef.current) {\n        insertPdfRef.current.value = '';\n        insertPdfRef.current.click();\n      }\n    };\n\n    const handleInsertFileSelected = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const file = event.target.files?.[0] || null;\n        if (!file || !file.type.includes('pdf')) {\n            if(file) toast({ title: 'Invalid file', description: currentLanguage === 'zh' ? ' PDF ' : 'Please select a valid PDF file.', variant: \"destructive\" });\n            return;\n        }\n        proceedWithInsert(file);\n    };\n\n    const proceedWithInsert = async (fileToInsert: File) => {\n        setIsLoading(true);\n        setLoadingMessage(texts.insertingPdf);\n        try {\n            const { loadedPageObjects } = await processPdfFile(fileToInsert);\n            let insertAtIndex: number;\n\n            switch (insertionTargetRef.current) {\n                case 'start':\n                    insertAtIndex = 0;\n                    break;\n                case 'end':\n                    insertAtIndex = pageObjects.length;\n                    break;\n                case 'before':\n                    insertAtIndex = activePageIndex ?? 0;\n                    break;\n                case 'after':\n                    insertAtIndex = (activePageIndex ?? pageObjects.length - 1) + 1;\n                    break;\n                default:\n                    insertAtIndex = pageObjects.length;\n            }\n            \n            const newPageObjects = [...pageObjects];\n            newPageObjects.splice(insertAtIndex, 0, ...loadedPageObjects);\n            updateState({ pageObjects: newPageObjects });\n            \n            toast({ title: \"Insert Success\", description: currentLanguage === 'zh' ? `${fileToInsert.name} ` : `${fileToInsert.name} has been inserted.` });\n\n        } catch (err: any) {\n            toast({ title: texts.insertError, description: err.message, variant: \"destructive\" });\n        } finally {\n            setIsLoading(false);\n            setLoadingMessage('');\n            if (insertPdfRef.current) insertPdfRef.current.value = '';\n        }\n    };\n\n    const triggerConvertUpload = (acceptType: string) => {\n        if (convertUploadRef.current) {\n            convertUploadRef.current.accept = acceptType;\n            convertUploadRef.current.click();\n        }\n    };\n\n    const handleConvertFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const file = event.target.files?.[0];\n        if (file) {\n            setPendingFileToConvert(file);\n            setIsConvertConfirmOpen(true);\n        }\n        if (convertUploadRef.current) convertUploadRef.current.value = '';\n    };\n\n    const startConversionProcess = async (mode: 'download' | 'edit') => {\n        if (!pendingFileToConvert) return;\n\n        setIsConvertConfirmOpen(false);\n        setIsLoading(true);\n        setLoadingMessage(texts.convertingToPdf);\n        \n        const formData = new FormData();\n        formData.append('file', pendingFileToConvert);\n        formData.append('format', 'pdf');\n\n        try {\n            const response = await fetch(\"https://pdfsolution.dpdns.org/convert_to_pdf\", {\n                method: 'POST',\n                body: formData,\n            });\n\n            if (!response.ok) throw new Error('Conversion failed');\n            \n            const blob = await response.blob();\n            const filename = pendingFileToConvert.name.split('.').slice(0, -1).join('.') + '.pdf';\n            const convertedFile = new File([blob], filename, { type: 'application/pdf' });\n\n            if (mode === 'edit') {\n                await loadPdfIntoEditor(convertedFile);\n            } else {\n                const url = window.URL.createObjectURL(blob);\n                const a = document.createElement('a');\n                a.href = url;\n                a.download = filename;\n                document.body.appendChild(a);\n                a.click();\n                document.body.removeChild(a);\n                window.URL.revokeObjectURL(url);\n                toast({ title: texts.conversionSuccess, description: texts.conversionSuccessDesc(filename) });\n            }\n        } catch (err: any) {\n            toast({ title: texts.conversionError, description: err.message, variant: \"destructive\" });\n        } finally {\n            setIsLoading(false);\n            setLoadingMessage('');\n            setPendingFileToConvert(null);\n        }\n    };\n    \n    const handlePageMouseDown = (e: React.MouseEvent<HTMLDivElement>, pageIndex: number) => {\n        const tool = activeTool;\n        if (tool !== 'mosaic' && tool !== 'scribble' && tool !== 'shape') return;\n    \n        const interaction = \n            tool === 'mosaic' ? 'drawing-mosaic' : \n            tool === 'scribble' ? 'drawing-scribble' : \n            'drawing-shape';\n        \n        setInteractionMode(interaction);\n        \n        const container = e.currentTarget;\n        const rect = container.getBoundingClientRect();\n        const startX = (e.clientX - rect.left) / rect.width;\n        const startY = (e.clientY - rect.top) / rect.height;\n        const id = uuidv4();\n        \n        drawingStartRef.current = { pageIndex, startX, startY, id };\n        \n        let newAnnotation: Annotation | null = null;\n        switch(tool) {\n            case 'mosaic':\n                newAnnotation = { id, type: 'mosaic', pageIndex, topRatio: startY, leftRatio: startX, widthRatio: 0, heightRatio: 0, isUserAction: true };\n                break;\n            case 'scribble':\n                newAnnotation = { id, type: 'scribble', pageIndex, points: [{ xRatio: startX, yRatio: startY }], color: '#000000', strokeWidth: 2, isUserAction: true };\n                break;\n            case 'shape':\n                if (drawingShapeType) {\n                    newAnnotation = { id, type: drawingShapeType, pageIndex, topRatio: startY, leftRatio: startX, widthRatio: 0, heightRatio: 0, fillColor: '#3b82f6', strokeColor: '#000000', strokeWidth: 2, isUserAction: true };\n                }\n                break;\n        }\n        \n        if (newAnnotation) {\n            addAnnotation(newAnnotation);\n        }\n    };\n    \n    const handleMainViewMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n        handlePanMouseMove(e);\n\n        if (!interactionMode.startsWith('drawing-') || !drawingStartRef.current) return;\n        \n        const { pageIndex, startX, startY, id } = drawingStartRef.current;\n        const container = pageRefs.current[pageIndex];\n        if (!container) return;\n\n        const rect = container.getBoundingClientRect();\n        \n        const currentX = (e.clientX - rect.left) / rect.width;\n        const currentY = (e.clientY - rect.top) / rect.height;\n\n        if (interactionMode === 'drawing-scribble') {\n            const existingAnnotation = annotations.find(a => a.id === id) as ScribbleAnnotation;\n            if (existingAnnotation) {\n                const newPoints = [...existingAnnotation.points, { xRatio: currentX, yRatio: currentY }];\n                updateAnnotation(id, { points: newPoints });\n            }\n        } else {\n            const leftRatio = Math.min(startX, currentX);\n            const topRatio = Math.min(startY, currentY);\n            const widthRatio = Math.abs(currentX - startX);\n            const heightRatio = Math.abs(currentY - startY);\n            updateAnnotation(id, { leftRatio, topRatio, widthRatio, heightRatio });\n        }\n    };\n    \n    const handleMainViewMouseUp = () => {\n        handlePanMouseUpAndLeave(); // Handle pan if active\n\n        if (interactionMode.startsWith('drawing-')) {\n             if (drawingStartRef.current) {\n                const finalAnnotation = annotations.find(a => a.id === drawingStartRef.current!.id);\n                if(finalAnnotation) {\n                    if (('widthRatio' in finalAnnotation && finalAnnotation.widthRatio < 0.01) || ('heightRatio' in finalAnnotation && finalAnnotation.heightRatio < 0.01)) {\n                        updateState({ annotations: annotations.filter(a => a.id !== drawingStartRef.current!.id) }, false);\n                    } else {\n                         recordNextStateRef.current = true;\n                         setEditorState(prev => ({...prev})); // Trigger history\n                    }\n                }\n            }\n            \n            drawingStartRef.current = null;\n            setActiveTool('select');\n            setInteractionMode('idle');\n            setDrawingShapeType(null);\n        }\n    };\n    \n    const handleTableCellDoubleClick = (e: React.MouseEvent, tableAnn: TableAnnotation) => {\n      e.stopPropagation();\n      const svgElement = (e.currentTarget.querySelector('svg'));\n      if(!svgElement) return;\n\n      const rect = svgElement.getBoundingClientRect();\n      const clickX = e.clientX - rect.left;\n      const clickY = e.clientY - rect.top;\n\n      const col = Math.floor(clickX / (rect.width / tableAnn.cols));\n      const row = Math.floor(clickY / (rect.height / tableAnn.rows));\n\n      const id = uuidv4();\n      const newTextAnnotation: TextAnnotation = {\n        id,\n        type: 'text',\n        pageIndex: tableAnn.pageIndex,\n        segments: [{ text: tableAnn.cells[row]?.[col] || '', color: '#000000', bold: false, italic: false, underline: false }],\n        topRatio: tableAnn.topRatio + (row / tableAnn.rows) * tableAnn.heightRatio,\n        leftRatio: tableAnn.leftRatio + (col / tableAnn.cols) * tableAnn.widthRatio,\n        widthRatio: tableAnn.widthRatio / tableAnn.cols,\n        heightRatio: tableAnn.heightRatio / tableAnn.rows,\n        fontSize: 12,\n        fontFamily: 'Helvetica',\n        textAlign: 'left',\n        isUserAction: true,\n      };\n      addAnnotation(newTextAnnotation);\n      setInteractionMode('editing');\n      setSelectedAnnotationId(id);\n    };\n\n    useEffect(() => {\n        if (mainViewContainerRef.current) {\n          let cursor = 'default';\n          if (activeTool === 'pan') cursor = 'grab';\n          if (activeTool === 'mosaic' || activeTool === 'scribble' || activeTool === 'shape') cursor = 'crosshair';\n          mainViewContainerRef.current.style.cursor = cursor;\n        }\n    }, [activeTool]);\n    \n    const handleShapeToolSelect = (shapeType: ShapeAnnotation['type']) => {\n        setActiveTool('shape');\n        setDrawingShapeType(shapeType);\n    };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background text-foreground font-sans\">\n      {(isLoading || isDownloading) && (\n        <div className=\"fixed inset-0 bg-black/50 z-[100] flex flex-col items-center justify-center\">\n          <Loader2 className=\"h-12 w-12 text-primary animate-spin mb-4\" />\n          <p className=\"text-white text-lg\">\n            {isLoading ? loadingMessage : isDownloading ? texts.generatingFile : ''}\n          </p>\n          {isDownloading && <Progress value={downloadProgress} className=\"w-56 mt-2\" />}\n        </div>\n      )}\n\n      <Input type=\"file\" id=\"pdfUploadInput\" accept=\"application/pdf\" onChange={handlePdfUpload} ref={pdfUploadRef} className=\"hidden\" />\n      <Input type=\"file\" id=\"imageUploadInput\" accept=\"image/*\" onChange={handleImageFileSelected} ref={imageUploadRef} className=\"hidden\" />\n      <Input type=\"file\" id=\"insertPdfInput\" accept=\"application/pdf\" onChange={handleInsertFileSelected} ref={insertPdfRef} className=\"hidden\" />\n      <Input type=\"file\" id=\"convertUploadInput\" onChange={handleConvertFileSelect} ref={convertUploadRef} className=\"hidden\" />\n\n      <AlertDialog open={isNewDocConfirmOpen} onOpenChange={setIsNewDocConfirmOpen}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n                <ShadAlertDialogTitle>{texts.newDocConfirmTitle}</ShadAlertDialogTitle>\n                <ShadAlertDialogDescription>{texts.newDocConfirmDescription}</ShadAlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n                <AlertDialogCancel>{texts.cancel}</AlertDialogCancel>\n                <AlertDialogAction onClick={handleConfirmOpenNew}>{texts.confirm}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={isConvertConfirmOpen} onOpenChange={setIsConvertConfirmOpen}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n                <ShadAlertDialogTitle>{texts.convertConfirmTitle}</ShadAlertDialogTitle>\n                <ShadAlertDialogDescription>\n                    {pendingFileToConvert ? texts.convertConfirmDescription(pendingFileToConvert.name) : ''}\n                </ShadAlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n                <Button variant=\"outline\" onClick={() => startConversionProcess('download')}>{texts.convertConfirmDownload}</Button>\n                <Button onClick={() => startConversionProcess('edit')}>{texts.convertConfirmEdit}</Button>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={isGuestLimitModalOpen} onOpenChange={setIsGuestLimitModalOpen}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{guestLimitModalContent.title}</ShadAlertDialogTitle>\n            <ShadAlertDialogDescription>\n                {guestLimitModalContent.description}\n            </ShadAlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n            <AlertDialogCancel>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={() => router.push('/login')}>{texts.login}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={isDeleteConfirmOpen} onOpenChange={setIsDeleteConfirmOpen}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{texts.deletePageConfirmTitle}</ShadAlertDialogTitle>\n            <ShadAlertDialogDescription>\n                {pageToDelete !== null ? texts.deletePageConfirmDescription : `${currentLanguage === 'zh' ? ` ${selectedPageIds.size} ?` : `Are you sure you want to delete the ${selectedPageIds.size} selected pages?` }`}\n            </ShadAlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setPageToDelete(null)}>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={handleDeletePages}>{texts.confirm}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n    <header className=\"p-0 border-b bg-card sticky top-0 z-40 flex-shrink-0 h-14\">\n        <Menubar className=\"rounded-none border-x-0 h-full px-4 lg:px-6\">\n            <div className=\"flex items-center gap-2\">\n                <MenuSquare className=\"mr-2 h-6 w-6\"/>\n                <h1 className=\"text-lg font-bold\">{texts.appTitle}</h1>\n            </div>\n            <MenubarMenu>\n                <MenubarTrigger>{texts.menuFile}</MenubarTrigger>\n                <MenubarContent>\n                    <MenubarItem onClick={() => {\n                        if (pageObjects.length > 0) {\n                            setIsNewDocConfirmOpen(true);\n                        } else {\n                            handleConfirmOpenNew();\n                        }\n                    }}><FilePlus className=\"mr-2 h-4 w-4\"/>{texts.menuFileNew}</MenubarItem>\n                    <MenubarSub>\n                         <MenubarSubTrigger disabled={pageObjects.length > 0}><FolderOpen className=\"mr-2 h-4 w-4\"/>{texts.menuFileOpen}</MenubarSubTrigger>\n                         <MenubarSubContent>\n                             <MenubarItem onClick={() => triggerConvertUpload('.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document')}>{texts.wordToPdf}</MenubarItem>\n                             <MenubarItem onClick={() => triggerConvertUpload('.xls,.xlsx,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')}>{texts.excelToPdf}</MenubarItem>\n                             <MenubarItem onClick={() => triggerConvertUpload('.ppt,.pptx,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation')}>{texts.pptToPdf}</MenubarItem>\n                         </MenubarSubContent>\n                    </MenubarSub>\n                    <MenubarSub>\n                        <MenubarSubTrigger disabled={pageObjects.length === 0}>\n                           <FilePlus2 className=\"mr-2 h-4 w-4\" />{texts.insertPdf}\n                        </MenubarSubTrigger>\n                        <MenubarSubContent>\n                            <MenubarItem onClick={() => handleInitiateInsert('start')}>{texts.insertAtStart}</MenubarItem>\n                            <MenubarItem onClick={() => handleInitiateInsert('end')}>{texts.insertAtEnd}</MenubarItem>\n                            <MenubarSeparator />\n                            <MenubarItem onClick={() => handleInitiateInsert('before')} disabled={activePageIndex === null}>{texts.insertBeforeSelection}</MenubarItem>\n                            <MenubarItem onClick={() => handleInitiateInsert('after')} disabled={activePageIndex === null}>{texts.insertAfterSelection}</MenubarItem>\n                        </MenubarSubContent>\n                    </MenubarSub>\n                    <MenubarSub>\n                        <MenubarSubTrigger disabled={pageObjects.length === 0}>\n                            <Save className=\"mr-2 h-4 w-4\"/>{texts.menuFileSaveAs}\n                        </MenubarSubTrigger>\n                        <MenubarSubContent>\n                            {saveAsFormatOptions.map(opt => (\n                                <MenubarItem key={opt.value} onClick={() => handleDownloadOption(opt.value)}>{opt.labelKey === 'downloadPdf' ? texts.downloadPdf : texts[opt.labelKey]}</MenubarItem>\n                            ))}\n                        </MenubarSubContent>\n                    </MenubarSub>\n                </MenubarContent>\n            </MenubarMenu>\n             <MenubarMenu>\n                <MenubarTrigger>{texts.menuEdit}</MenubarTrigger>\n                <MenubarContent>\n                    <MenubarItem onClick={handleUndo} disabled={historyIndex <= 0}><Undo className=\"mr-2 h-4 w-4\" />{texts.menuEditUndo}</MenubarItem>\n                    <MenubarItem onClick={handleRedo} disabled={historyIndex >= history.length - 1}><Redo className=\"mr-2 h-4 w-4\" />{texts.menuEditRedo}</MenubarItem>\n                    <MenubarSeparator/>\n                    <MenubarItem onClick={handleAddTextAnnotation} disabled={activePageIndex === null}><Type className=\"mr-2 h-4 w-4\"/>{texts.menuEditInsertText}</MenubarItem>\n                    <MenubarItem onClick={() => imageUploadRef.current?.click()} disabled={activePageIndex === null}><ImagePlus className=\"mr-2 h-4 w-4\"/>{texts.menuEditInsertImage}</MenubarItem>\n                    <MenubarItem onClick={handleAddHighlightAnnotation} disabled={activePageIndex === null}><Highlighter className=\"mr-2 h-4 w-4\"/>{texts.menuEditHighlight}</MenubarItem>\n                    <Popover open={isLinkPopoverOpen} onOpenChange={setIsLinkPopoverOpen}>\n                        <PopoverTrigger asChild>\n                            <MenubarItem disabled={!selectedAnnotationId || !['text', 'image'].includes(annotations.find(a=>a.id === selectedAnnotationId)?.type || '')} onSelect={(e) => e.preventDefault()} onClick={handleOpenLinkPopover}>\n                                <LinkIcon className=\"mr-2 h-4 w-4\"/>{texts.menuEditInsertLink}\n                            </MenubarItem>\n                        </PopoverTrigger>\n                        <PopoverContent className=\"w-80\" side=\"right\" align=\"start\">\n                            {linkPopoverContent}\n                        </PopoverContent>\n                    </Popover>\n                </MenubarContent>\n            </MenubarMenu>\n            <MenubarMenu>\n                <MenubarTrigger>{texts.menuPage}</MenubarTrigger>\n                <MenubarContent>\n                    <MenubarItem onClick={() => handleRotatePage('cw')} disabled={activePageIndex === null}><RotateCw className=\"mr-2 h-4 w-4\" />{texts.menuPageRotateCW}</MenubarItem>\n                    <MenubarItem onClick={() => handleRotatePage('ccw')} disabled={activePageIndex === null}><RotateCcw className=\"mr-2 h-4 w-4\" />{texts.menuPageRotateCCW}</MenubarItem>\n                    <MenubarSeparator />\n                    <MenubarItem onClick={handleAddBlankPage}><FilePlus2 className=\"mr-2 h-4 w-4\"/>{texts.menuPageAddBlank}</MenubarItem>\n                    <MenubarItem onClick={() => { if(activePageIndex !== null) { setPageToDelete(activePageIndex); setIsDeleteConfirmOpen(true); } }} disabled={activePageIndex === null}>\n                        <Trash2 className=\"mr-2 h-4 w-4 text-destructive\"/>\n                        <span className=\"text-destructive\">{texts.menuPageDelete}</span>\n                    </MenubarItem>\n                </MenubarContent>\n            </MenubarMenu>\n             <MenubarMenu>\n                <MenubarTrigger>{texts.menuConvert}</MenubarTrigger>\n                <MenubarContent>\n                    <MenubarSub>\n                        <MenubarSubTrigger><FileMinus className=\"mr-2 h-4 w-4\" />{texts.convertFromPdf}</MenubarSubTrigger>\n                        <MenubarSubContent>\n                            <MenubarItem onClick={() => router.push('/pdf-to-word')}><FileText className=\"mr-2 h-4 w-4\" />{texts.pdfToWord}</MenubarItem>\n                            <MenubarItem onClick={() => router.push('/pdf-to-excel')}><FileSpreadsheet className=\"mr-2 h-4 w-4\" />{texts.pdfToExcel}</MenubarItem>\n                            <MenubarItem onClick={() => router.push('/pdf-to-ppt')}><LucidePresentation className=\"mr-2 h-4 w-4\" />{texts.pdfToPpt}</MenubarItem>\n                            <MenubarItem onClick={() => router.push('/pdf-to-html')}><Code className=\"mr-2 h-4 w-4\" />{texts.pdfToHtml}</MenubarItem>\n                            <MenubarItem onClick={() => router.push('/pdf-to-image')}><FileImage className=\"mr-2 h-4 w-4\" />{texts.pdfToJpg}</MenubarItem>\n                            <MenubarItem onClick={() => router.push('/pdf-to-ocr')}><ScanText className=\"mr-2 h-4 w-4\" />{texts.pdfToOcr}</MenubarItem>\n                        </MenubarSubContent>\n                    </MenubarSub>\n                </MenubarContent>\n            </MenubarMenu>\n        </Menubar>\n    </header>\n\n    <div className=\"p-2 border-b bg-card flex items-center justify-between gap-1 sticky top-[56px] z-30\">\n        <div className='flex items-center gap-1'>\n             <TooltipProvider>\n                <div className=\"flex items-center gap-1 bg-muted p-1 rounded-md\">\n                    <Button variant={isTextExtractionMode ? 'ghost' : 'secondary'} size=\"sm\" onClick={() => handleModeToggle('edit')}></Button>\n                    <Button variant={isTextExtractionMode ? 'secondary' : 'ghost'} size=\"sm\" onClick={() => handleModeToggle('extract')}></Button>\n                </div>\n                 <Separator orientation=\"vertical\" className=\"h-10 mx-2\" />\n\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                         <Button variant={activeTool === 'select' ? \"secondary\" : \"ghost\"} className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => setActiveTool('select')}>\n                            <MousePointerSquareDashed className=\"h-5 w-5\" />\n                            <span className=\"text-xs\">{texts.toolSelect}</span>\n                        </Button>\n                    </TooltipTrigger>\n                    <TooltipContent side=\"bottom\"><p>Select</p></TooltipContent>\n                </Tooltip>\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Button variant={activeTool === 'pan' ? \"secondary\" : \"ghost\"} className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => setActiveTool('pan')}>\n                            <Hand className=\"h-5 w-5\" />\n                            <span className=\"text-xs\">{texts.toolPan}</span>\n                        </Button>\n                    </TooltipTrigger>\n                    <TooltipContent side=\"bottom\"><p>{texts.toolHand}</p></TooltipContent>\n                </Tooltip>\n                 <Separator orientation=\"vertical\" className=\"h-10 mx-2\" />\n\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={handleUndo} disabled={historyIndex <= 0}>\n                       <Undo className=\"h-5 w-5\" />\n                       <span className=\"text-xs\">{texts.menuEditUndo}</span>\n                   </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuEditUndo}</p></TooltipContent>\n                </Tooltip>\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={handleRedo} disabled={historyIndex >= history.length - 1}>\n                           <Redo className=\"h-5 w-5\" />\n                           <span className=\"text-xs\">{texts.menuEditRedo}</span>\n                       </Button>\n                    </TooltipTrigger>\n                    <TooltipContent side=\"bottom\"><p>{texts.menuEditRedo}</p></TooltipContent>\n                </Tooltip>\n\n                <Separator orientation=\"vertical\" className=\"h-10 mx-2\" />\n\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={handleAddTextAnnotation} disabled={activePageIndex === null}>\n                        <Type className=\"h-5 w-5\" />\n                        <span className=\"text-xs\">{texts.toolInsertText}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuEditInsertText}</p></TooltipContent>\n                </Tooltip>\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => imageUploadRef.current?.click()} disabled={activePageIndex === null}>\n                        <ImagePlus className=\"h-5 w-5\" />\n                        <span className=\"text-xs\">{texts.toolInsertImage}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuEditInsertImage}</p></TooltipContent>\n                </Tooltip>\n                <DropdownMenu>\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <DropdownMenuTrigger asChild>\n                                <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" disabled={pageObjects.length === 0}>\n                                    <FilePlus2 className=\"h-5 w-5\" />\n                                    <span className=\"text-xs\">{texts.toolInsertFile}</span>\n                                </Button>\n                            </DropdownMenuTrigger>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"bottom\"><p>{texts.insertPdf}</p></TooltipContent>\n                    </Tooltip>\n                    <DropdownMenuContent>\n                        <DropdownMenuItem onClick={() => handleInitiateInsert('start')}>{texts.insertAtStart}</DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleInitiateInsert('end')}>{texts.insertAtEnd}</DropdownMenuItem>\n                        <DropdownMenuSeparator/>\n                        <DropdownMenuItem onClick={() => handleInitiateInsert('before')} disabled={activePageIndex === null}>{texts.insertBeforeSelection}</DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleInitiateInsert('after')} disabled={activePageIndex === null}>{texts.insertAfterSelection}</DropdownMenuItem>\n                    </DropdownMenuContent>\n                </DropdownMenu>\n\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={handleAddHighlightAnnotation} disabled={activePageIndex === null}>\n                        <Brush className=\"h-5 w-5\" />\n                        <span className=\"text-xs\">{texts.toolHighlight}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuEditHighlight}</p></TooltipContent>\n                </Tooltip>\n                <Popover>\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <PopoverTrigger asChild>\n                                <Button variant={activeTool === 'shape' ? \"secondary\" : \"ghost\"} className=\"flex flex-col h-auto p-2 space-y-1\" disabled={activePageIndex === null}>\n                                    <Square className=\"h-5 w-5\" />\n                                    <span className=\"text-xs\">{texts.toolShapeShort}</span>\n                                </Button>\n                            </PopoverTrigger>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"bottom\"><p>{texts.toolShape}</p></TooltipContent>\n                    </Tooltip>\n                     <PopoverContent className=\"w-auto p-2 flex gap-1\">\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleShapeToolSelect('rect')}><Square className=\"h-5 w-5 text-primary\" /></Button>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleShapeToolSelect('ellipse')}><Circle className=\"h-5 w-5 text-primary\" /></Button>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleShapeToolSelect('triangle')}><TriangleIcon /></Button>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => setActiveTool('scribble')}><ScribbleIcon /></Button>\n                    </PopoverContent>\n                </Popover>\n                 <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Button variant={activeTool === 'mosaic' ? \"secondary\" : \"ghost\"} className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => setActiveTool('mosaic')} disabled={activePageIndex === null}>\n                            <ShieldAlert className=\"h-5 w-5\" />\n                            <span className=\"text-xs\">{texts.toolMosaic}</span>\n                        </Button>\n                    </TooltipTrigger>\n                    <TooltipContent side=\"bottom\"><p>{texts.toolMosaic}</p></TooltipContent>\n                </Tooltip>\n                <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <DialogTrigger asChild>\n                                <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" disabled={activePageIndex === null}>\n                                    <Edit3 className=\"h-5 w-5\" />\n                                    <span className=\"text-xs\">{texts.toolSignature}</span>\n                                </Button>\n                            </DialogTrigger>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"bottom\"><p>{texts.toolSignature}</p></TooltipContent>\n                    </Tooltip>\n                    <DialogContent>\n                        <DialogHeader>\n                            <DialogTitle>{texts.signaturePadTitle}</DialogTitle>\n                            <ShadAlertDialogDescription>{texts.signaturePadDescription}</ShadAlertDialogDescription>\n                        </DialogHeader>\n                        <SignaturePad onSave={handleSaveSignature} texts={texts}/>\n                    </DialogContent>\n                </Dialog>\n\n                <Separator orientation=\"vertical\" className=\"h-10 mx-2\" />\n\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => handleRotatePage('ccw')} disabled={activePageIndex === null}>\n                        <RotateCcw className=\"h-5 w-5\" />\n                        <span className=\"text-xs\">{texts.toolRotate}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuPageRotateCCW}</p></TooltipContent>\n                </Tooltip>\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={handleAddBlankPage}>\n                        <FilePlus2 className=\"h-5 w-5\" />\n                        <span className=\"text-xs\">{texts.toolAddBlank}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuPageAddBlank}</p></TooltipContent>\n                </Tooltip>\n                <Tooltip>\n                <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" className=\"flex flex-col h-auto p-2 space-y-1\" onClick={() => { if(activePageIndex !== null) { setPageToDelete(activePageIndex); setIsDeleteConfirmOpen(true); } }} disabled={activePageIndex === null}>\n                        <Trash2 className=\"h-5 w-5 text-destructive\"/>\n                        <span className=\"text-xs text-destructive\">{texts.toolDelete}</span>\n                    </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\"><p>{texts.menuPageDelete}</p></TooltipContent>\n                </Tooltip>\n            </TooltipProvider>\n        </div>\n        <div className=\"flex items-center gap-1\">\n             <TooltipProvider>\n                 {selectedAnnotationId && annotations.find(a => a.id === selectedAnnotationId)?.type === 'image' && (\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <Button variant=\"outline\" size=\"sm\" onClick={handleApplyImageToAllPages}>\n                                <Layers className=\"mr-2 h-4 w-4\" /> {texts.applyToAllPages}\n                            </Button>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"bottom\"><p>Apply this image/signature to all pages</p></TooltipContent>\n                    </Tooltip>\n                 )}\n                 <Tooltip>\n                    <TooltipTrigger asChild><Button variant=\"ghost\" size=\"icon\" onClick={() => window.print()}><Printer className=\"h-5 w-5\" /></Button></TooltipTrigger>\n                    <TooltipContent side=\"bottom\"><p>{texts.toolPrint}</p></TooltipContent>\n                </Tooltip>\n                <Popover>\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <PopoverTrigger asChild>\n                                 <Button variant=\"ghost\" size=\"icon\" onClick={() => {\n                                     if (!hasTextLayer) {\n                                         toast({title: texts.searchNoResults, description: texts.noTextInPdf, variant: 'destructive'})\n                                     }\n                                 }} disabled={!hasTextLayer}>\n                                     <SearchIcon className=\"h-5 w-5\" />\n                                 </Button>\n                             </PopoverTrigger>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"bottom\"><p>{texts.toolSearchDoc}</p></TooltipContent>\n                    </Tooltip>\n                    <PopoverContent side=\"bottom\">\n                        <div className=\"grid gap-4\">\n                             <p>Search coming soon</p>\n                        </div>\n                    </PopoverContent>\n                </Popover>\n            </TooltipProvider>\n        </div>\n    </div>\n\n\n      <div className=\"flex-grow flex overflow-hidden relative\">\n        <div ref={toolbarContainerRef} className=\"absolute top-2 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center gap-2\">\n          {interactionMode === 'editing' && activeTextAnnotation && (\n              <TextAnnotationToolbar\n                  annotation={activeTextAnnotation}\n                  onAnnotationChange={updateAnnotation}\n                  onDelete={() => handleDeleteAnnotation(activeTextAnnotation.id)}\n                  onImageInsert={() => imageUploadRef.current?.click()}\n              />\n          )}\n          {(interactionMode === 'selected' || interactionMode === 'editing') && activeShapeAnnotation && (\n              <ShapeToolbar\n                  annotation={activeShapeAnnotation}\n                  onAnnotationChange={updateAnnotation}\n                  onDelete={() => handleDeleteAnnotation(activeShapeAnnotation.id)}\n              />\n          )}\n        </div>\n        {pageObjects.length === 0 ? (\n            <div className=\"flex-grow flex flex-col items-center justify-center p-4 space-y-8\">\n              <Card className=\"w-full max-w-lg shadow-xl\">\n                <CardHeader className=\"text-center\">\n                  <Upload className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n                  <CardTitle className=\"text-2xl font-bold\">{texts.startEditingYourPdf}</CardTitle>\n                  <CardDescription>{texts.uploadLabel}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div\n                    className=\"flex flex-col items-center justify-center p-10 border-2 border-dashed rounded-md hover:border-primary transition-colors cursor-pointer bg-muted/20\"\n                    onClick={() => pdfUploadRef.current?.click()}\n                    onDragOver={commonDragEvents.onDragOver}\n                    onDragLeave={commonDragEvents.onDragLeave}\n                    onDrop={(e) => commonDragEvents.onDrop(e, handlePdfUpload)}\n                  >\n                    <Upload className=\"h-12 w-12 text-muted-foreground mb-3\" />\n                    <p className=\"text-md text-muted-foreground text-center\">{texts.dropFileHere}</p>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          ) : viewMode === 'grid' ? (\n              <div ref={mainViewContainerRef} className=\"flex-grow p-6 overflow-y-auto\">\n                <Card className=\"shadow-lg\">\n                  <CardHeader className=\"flex flex-row items-center justify-between\">\n                    <div>\n                      <CardTitle className=\"flex items-center text-xl\"><Shuffle className=\"mr-2 h-5 w-5 text-primary\" /> {texts.pageManagement}</CardTitle>\n                      <CardDescription>\n                        {pageObjects.length} {texts.pagesLoaded}.\n                        {selectedPageIds.size > 0 ? ` ${selectedPageIds.size} ${texts.pageSelectedSuffix}.` : ''}\n                      </CardDescription>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button onClick={() => setViewMode('editor')} variant=\"outline\" size=\"sm\">\n                        <PanelLeft className='h-4 w-4 mr-2' /> {texts.editorMode}\n                      </Button>\n                      <Button onClick={() => router.push('/split-pdf')} variant=\"outline\" size=\"sm\">\n                        <Scissors className=\"mr-2 h-4 w-4\" /> {texts.splitPages}\n                      </Button>\n                      <Button onClick={() => { setPageToDelete(null); setIsDeleteConfirmOpen(true); }} variant=\"destructive\" size=\"sm\" disabled={selectedPageIds.size === 0}>\n                        <Trash2 className=\"mr-2 h-4 w-4\" /> {texts.deletePages}\n                      </Button>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <div\n                      id=\"previewContainer\"\n                      className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-1 bg-muted/20 rounded-md min-h-[200px]\"\n                    >\n                      {pageObjects.map((pageObj, index) => (\n                        <PagePreviewItem\n                          key={pageObj.id}\n                          pageObj={pageObj}\n                          index={index}\n                          isSelected={selectedPageIds.has(pageObj.id)}\n                          onClick={(e) => handleThumbnailClick(index, e)}\n                          onDoubleClick={() => {\n                            setActivePageIndex(index);\n                            setViewMode('editor');\n                          }}\n                          texts={texts}\n                        />\n                      ))}\n                    </div>\n                    <div className=\"mt-4 text-sm text-muted-foreground space-y-1\">\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> {texts.instSelect}</p>\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> {texts.instDrag}</p>\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> Double-click page to enter editor mode.</p>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n          ) : (\n            <div className=\"flex-grow flex overflow-hidden\">\n                <div ref={thumbnailContainerRef} className=\"w-[15%] border-r bg-card flex-shrink-0 overflow-y-auto p-2 space-y-2\">\n                    {pageObjects.map((page, index) => {\n                        const isActive = activePageIndex === index;\n                        return (\n                           <div key={page.id}\n                                ref={el => thumbnailRefs.current[index] = el}\n                                data-id={page.id}\n                                onClick={(e) => handleThumbnailClick(index, e)}\n                                className={cn(\n                                    \"p-1 rounded-md cursor-pointer border-2\",\n                                    isActive ? \"border-primary\" : \"border-transparent\"\n                                )}>\n                                <canvas\n                                    ref={canvas => {\n                                        if (canvas) {\n                                            const ctx = canvas.getContext('2d');\n                                            if (!ctx) return;\n                                            const source = page.sourceCanvas;\n                                            const aspectRatio = source.width / source.height;\n                                            canvas.width = 240;\n                                            canvas.height = 240 / aspectRatio;\n                                            ctx.drawImage(source, 0, 0, canvas.width, canvas.height);\n                                        }\n                                    }}\n                                    className=\"w-full h-auto rounded-sm shadow-md bg-white\"\n                                />\n                               <p className='text-center text-xs mt-1 text-muted-foreground'>{texts.page} {index + 1}</p>\n                           </div>\n                        )\n                    })}\n                </div>\n\n                <div ref={mainViewContainerRef} \n                    className={cn(\"flex-grow bg-muted/30 overflow-auto flex flex-col items-center p-4 space-y-4 relative\")}\n                    onMouseDown={handlePanMouseDown}\n                    onMouseMove={handleMainViewMouseMove}\n                    onMouseUp={handleMainViewMouseUp}\n                    onClick={handleCanvasClick}\n                >\n                    {pageObjects.map((page, index) => {\n                        const {sourceCanvas, rotation} = page;\n                        const isRotated = rotation % 180 !== 0;\n                        const canvasWidth = isRotated ? sourceCanvas.height : sourceCanvas.width;\n                        const canvasHeight = isRotated ? sourceCanvas.width : sourceCanvas.height;\n\n                        return (\n                            <div \n                                key={page.id} \n                                ref={el => pageRefs.current[index] = el} \n                                data-page-index={index} \n                                className=\"shadow-lg bg-white relative my-2 main-page-container\"\n                                style={{\n                                    width: canvasWidth * mainCanvasZoom,\n                                    height: canvasHeight * mainCanvasZoom,\n                                    flexShrink: 0\n                                }}\n                                onMouseDown={(e) => handlePageMouseDown(e, index)}\n                            >\n                                <canvas\n                                    ref={canvas => {\n                                        if (canvas) {\n                                            canvas.width = canvasWidth;\n                                            canvas.height = canvasHeight;\n\n                                            const ctx = canvas.getContext('2d');\n                                            if (!ctx) return;\n                                            \n                                            ctx.save();\n                                            ctx.fillStyle = 'white';\n                                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                            ctx.restore();\n\n                                            ctx.save();\n                                            ctx.translate(canvas.width / 2, canvas.height / 2);\n                                            ctx.rotate(rotation * Math.PI / 180);\n                                            if (!isTextExtractionMode) {\n                                                ctx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2);\n                                            }\n                                            ctx.restore();\n                                            \n                                            canvas.style.width = `${canvasWidth * mainCanvasZoom}px`;\n                                            canvas.style.height = `${canvasHeight * mainCanvasZoom}px`;\n                                        }\n                                    }}\n                                />\n                                {highlightAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <div\n                                        key={ann.id}\n                                        onMouseDown={(e) => handleDragMouseDown(e, ann.id)}\n                                        onClick={(e) => { e.stopPropagation(); handleAnnotationSelect(e, ann.id); }}\n                                        className={cn(\n                                            \"absolute cursor-grab\",\n                                            (selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && \"border-2 border-dashed border-primary\"\n                                        )}\n                                        style={{\n                                            left: `${ann.leftRatio * 100}%`,\n                                            top: `${ann.topRatio * 100}%`,\n                                            width: `${ann.widthRatio * 100}%`,\n                                            height: `${ann.heightRatio * 100}%`,\n                                            backgroundColor: ann.color,\n                                            mixBlendMode: 'multiply',\n                                            zIndex: 15\n                                        }}\n                                        onMouseEnter={() => setHoveredAnnotationId(ann.id)}\n                                        onMouseLeave={() => setHoveredAnnotationId(null)}\n                                    >\n                                        {(selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && (\n                                            <div\n                                                className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                                                onMouseDown={(e) => handleDragMouseDown(e, ann.id)}\n                                            />\n                                        )}\n                                    </div>\n                                ))}\n                                {mosaicAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <div\n                                        key={ann.id}\n                                        onMouseDown={(e) => handleDragMouseDown(e, ann.id)}\n                                        onClick={(e) => { e.stopPropagation(); handleAnnotationSelect(e, ann.id); }}\n                                        className={cn(\n                                            \"absolute cursor-grab\",\n                                            (selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && \"border-2 border-dashed border-primary\"\n                                        )}\n                                        style={{\n                                            left: `${ann.leftRatio * 100}%`,\n                                            top: `${ann.topRatio * 100}%`,\n                                            width: `${ann.widthRatio * 100}%`,\n                                            height: `${ann.heightRatio * 100}%`,\n                                            backdropFilter: 'blur(5px)',\n                                            backgroundColor: 'rgba(255, 255, 255, 0.5)',\n                                            zIndex: 25,\n                                        }}\n                                        onMouseEnter={() => setHoveredAnnotationId(ann.id)}\n                                        onMouseLeave={() => setHoveredAnnotationId(null)}\n                                    >\n                                        {(selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && (\n                                            <div\n                                                className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                                                onMouseDown={(e) => handleDragMouseDown(e, ann.id)}\n                                            />\n                                        )}\n                                    </div>\n                                ))}\n                                {shapeAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <ShapeAnnotationComponent\n                                        key={ann.id}\n                                        annotation={ann}\n                                        isSelected={selectedAnnotationId === ann.id}\n                                        isHovered={hoveredAnnotationId === ann.id}\n                                        onDragStart={(e) => handleDragMouseDown(e, ann.id)}\n                                        onResizeStart={(e) => handleDragMouseDown(e, ann.id)}\n                                        onSelect={(e) => handleAnnotationSelect(e, ann.id)}\n                                        onHover={setHoveredAnnotationId}\n                                    />\n                                ))}\n                                {scribbleAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <ScribbleAnnotationComponent\n                                        key={ann.id}\n                                        annotation={ann}\n                                        pageDimensions={{ width: canvasWidth * mainCanvasZoom, height: canvasHeight * mainCanvasZoom }}\n                                        isSelected={selectedAnnotationId === ann.id}\n                                        isHovered={hoveredAnnotationId === ann.id}\n                                        onSelect={(e) => handleAnnotationSelect(e, ann.id)}\n                                        onHover={setHoveredAnnotationId}\n                                    />\n                                ))}\n                                 {imageAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <div\n                                        key={ann.id}\n                                        onMouseDown={(e) => { handleDragMouseDown(e, ann.id); }}\n                                        onClick={(e) => { e.stopPropagation(); handleAnnotationSelect(e, ann.id); }}\n                                        onMouseEnter={() => setHoveredAnnotationId(ann.id)}\n                                        onMouseLeave={() => setHoveredAnnotationId(null)}\n                                        className={cn(\n                                            \"absolute cursor-grab\",\n                                            (selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && \"border-2 border-dashed border-primary\"\n                                        )}\n                                        style={{\n                                            left: `${ann.leftRatio * 100}%`,\n                                            top: `${ann.topRatio * 100}%`,\n                                            width: `${ann.widthRatio * 100}%`,\n                                            height: `${ann.heightRatio * 100}%`,\n                                            zIndex: 20\n                                        }}\n                                    >\n                                        <img src={ann.dataUrl} className=\"w-full h-full object-contain pointer-events-none\" alt=\"user content\" />\n                                        {(selectedAnnotationId === ann.id || hoveredAnnotationId === ann.id) && (\n                                          <>\n                                            <div\n                                                className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                                                onMouseDown={(e) => handleDragMouseDown(e, ann.id)}\n                                            />\n                                            {ann.link && <LinkIcon className=\"absolute -top-1 -right-1 h-4 w-4 text-white bg-blue-500 p-0.5 rounded-full\" />}\n                                          </>\n                                        )}\n                                    </div>\n                                ))}\n                                {textAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <TextAnnotationComponent\n                                        key={ann.id}\n                                        annotation={ann}\n                                        mainCanvasZoom={mainCanvasZoom}\n                                        isSelected={selectedAnnotationId === ann.id}\n                                        isEditing={interactionMode === 'editing' && selectedAnnotationId === ann.id}\n                                        isHovered={hoveredAnnotationId === ann.id}\n                                        onSelect={handleAnnotationSelect}\n                                        onEdit={handleTextAnnotationDoubleClick}\n                                        onAnnotationChange={updateAnnotation}\n                                        onDragStart={(e) => handleDragMouseDown(e, ann.id)}\n                                        onResizeStart={(e) => handleDragMouseDown(e, ann.id)}\n                                        onHover={setHoveredAnnotationId}\n                                    />\n                                ))}\n                            </div>\n                        )\n                    })}\n                    <div className=\"sticky bottom-4 mx-auto bg-card p-2 rounded-full shadow-lg flex items-center gap-1 border\">\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleZoom('out')} title={texts.zoomOut}><ZoomOut className=\"h-5 w-5\" /></Button>\n                        <div className=\"w-20 text-center text-sm font-medium tabular-nums text-foreground\" title=\"Current zoom\">{`${Math.round(mainCanvasZoom * 100)}%`}</div>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleZoom('in')} title={texts.zoomIn}><ZoomIn className=\"h-5 w-5\" /></Button>\n                         <Separator orientation=\"vertical\" className=\"h-6 mx-1\" />\n                        <Button variant=\"ghost\" size=\"icon\" onClick={handleFitToPage} title={texts.fitToPage}><Expand className=\"h-5 w-5\" /></Button>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={handleFitToWidth} title={texts.fitToWidth}><Columns className=\"h-5 w-5\" /></Button>\n                         <Separator orientation=\"vertical\" className=\"h-6 mx-1\" />\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => setViewMode('grid')} title={texts.gridMode}><LayoutGrid className=\"h-5 w-5\" /></Button>\n                    </div>\n                </div>\n                 <div className=\"w-64 bg-card border-l p-4 overflow-y-auto\">\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center\"><History className=\"mr-2 h-5 w-5\"/> {texts.actionHistory}</h3>\n                    <div className=\"space-y-2\">\n                        {annotations.filter(ann => ann.isUserAction).map((ann) => (\n                             <div \n                                key={ann.id} \n                                className={cn(\n                                    \"p-2 rounded-md border text-sm cursor-pointer hover:bg-muted/50\",\n                                    selectedAnnotationId === ann.id && \"bg-primary/10 border-primary\"\n                                )}\n                                onClick={() => setSelectedAnnotationId(ann.id)}\n                            >\n                               <div className=\"flex justify-between items-center\">\n                                 <span className=\"font-medium truncate pr-2\">\n                                     {ann.type === 'text' ? (ann as TextAnnotation).segments.map(s=>s.text).join('').substring(0,20) : ann.type}\n                                 </span>\n                                 <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 text-muted-foreground hover:text-destructive\" onClick={(e) => {e.stopPropagation(); handleDeleteAnnotation(ann.id)}}>\n                                    <Trash2 className=\"h-4 w-4\"/>\n                                 </Button>\n                               </div>\n                            </div>\n                        ))}\n                         {annotations.filter(ann => ann.isUserAction).length === 0 && (\n                            <p className=\"text-sm text-muted-foreground text-center py-4\">No actions yet.</p>\n                        )}\n                    </div>\n                </div>\n            </div>\n          )}\n      </div>\n      {pageObjects.length > 0 && (\n        <div ref={downloadButtonRef} className=\"fixed top-4 right-4 z-50\">\n            <DropdownMenu open={showDownloadOptions} onOpenChange={setShowDownloadOptions}>\n                <DropdownMenuTrigger asChild>\n                    <Button\n                        size=\"lg\"\n                        className=\"w-48 h-14 text-lg rounded-full shadow-2xl bg-red-500 hover:bg-red-600 text-white\"\n                    >\n                        <Download className=\"mr-2 h-5 w-5\" />\n                        {texts.toolDownload}\n                    </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent className=\"w-48\">\n                    {saveAsFormatOptions.map(opt => (\n                        <DropdownMenuItem key={opt.value} onClick={() => handleDownloadOption(opt.value)}>{texts[opt.labelKey]}</DropdownMenuItem>\n                    ))}\n                </DropdownMenuContent>\n            </DropdownMenu>\n            {isDownloading && (\n                <div className=\"mt-2 w-48 bg-card p-2 rounded-lg shadow-lg border\">\n                    <p className=\"text-sm text-center mb-1\">{texts.generatingFile}</p>\n                    <Progress value={downloadProgress} />\n                </div>\n            )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}