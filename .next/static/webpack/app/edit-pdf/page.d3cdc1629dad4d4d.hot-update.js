"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/edit-pdf/page",{

/***/ "(app-pages-browser)/./src/app/edit-pdf/components/PdfCanvas.tsx":
/*!***************************************************!*\
  !*** ./src/app/edit-pdf/components/PdfCanvas.tsx ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist/build/pdf */ \"(app-pages-browser)/./node_modules/pdfjs-dist/build/pdf.js\");\n/* harmony import */ var pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\npdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.version, \"/pdf.worker.min.js\");\nconst PdfCanvas = (param)=>{\n    let { pdfFile, onTotalPages, onCurrentPageChange, zoom, rotations, scrollToPage, onScrollComplete, className } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [pages, setPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const pageRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    // Load PDF document and pages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (!pdfFile) {\n                setPages([]);\n                return;\n            }\n            const reader = new FileReader();\n            reader.onload = ({\n                \"PdfCanvas.useEffect\": async ()=>{\n                    const data = new Uint8Array(reader.result);\n                    try {\n                        const doc = await pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.getDocument({\n                            data\n                        }).promise;\n                        onTotalPages(doc.numPages);\n                        const pagePromises = Array.from({\n                            length: doc.numPages\n                        }, {\n                            \"PdfCanvas.useEffect.pagePromises\": (_, i)=>doc.getPage(i + 1)\n                        }[\"PdfCanvas.useEffect.pagePromises\"]);\n                        const loadedPages = await Promise.all(pagePromises);\n                        setPages(loadedPages);\n                    } catch (error) {\n                        console.error(\"Error loading PDF document:\", error);\n                    }\n                }\n            })[\"PdfCanvas.useEffect\"];\n            reader.readAsArrayBuffer(pdfFile);\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        pdfFile,\n        onTotalPages\n    ]);\n    // Setup Intersection Observer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (!containerRef.current || pages.length === 0) return;\n            const observer = new IntersectionObserver({\n                \"PdfCanvas.useEffect\": (entries)=>{\n                    const visibleEntries = entries.filter({\n                        \"PdfCanvas.useEffect.visibleEntries\": (e)=>e.isIntersecting\n                    }[\"PdfCanvas.useEffect.visibleEntries\"]);\n                    if (visibleEntries.length > 0) {\n                        // Find the top-most visible entry\n                        visibleEntries.sort({\n                            \"PdfCanvas.useEffect\": (a, b)=>a.boundingClientRect.top - b.boundingClientRect.top\n                        }[\"PdfCanvas.useEffect\"]);\n                        const topMostVisible = visibleEntries[0];\n                        const pageNum = Number(topMostVisible.target.dataset.pageNumber);\n                        if (pageNum) {\n                            onCurrentPageChange(pageNum);\n                        }\n                    }\n                }\n            }[\"PdfCanvas.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"-50% 0px -50% 0px\",\n                threshold: 0.1\n            });\n            const currentRefs = pageRefs.current;\n            currentRefs.forEach({\n                \"PdfCanvas.useEffect\": (ref)=>{\n                    if (ref) observer.observe(ref);\n                }\n            }[\"PdfCanvas.useEffect\"]);\n            return ({\n                \"PdfCanvas.useEffect\": ()=>{\n                    currentRefs.forEach({\n                        \"PdfCanvas.useEffect\": (ref)=>{\n                            if (ref) observer.unobserve(ref);\n                        }\n                    }[\"PdfCanvas.useEffect\"]);\n                }\n            })[\"PdfCanvas.useEffect\"];\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        pages,\n        onCurrentPageChange\n    ]);\n    // Scroll to a specific page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (scrollToPage && pageRefs.current[scrollToPage - 1]) {\n                var _pageRefs_current_;\n                (_pageRefs_current_ = pageRefs.current[scrollToPage - 1]) === null || _pageRefs_current_ === void 0 ? void 0 : _pageRefs_current_.scrollIntoView({\n                    behavior: \"auto\",\n                    block: \"start\"\n                });\n                onScrollComplete();\n            }\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        scrollToPage,\n        onScrollComplete\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"w-full h-full flex flex-col items-center overflow-auto bg-muted p-4\", className),\n        children: pages.map((page, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PageRenderer, {\n                page: page,\n                zoom: zoom,\n                rotation: rotations[index + 1] || 0,\n                ref: (el)=>pageRefs.current[index] = el\n            }, page.pageNumber, false, {\n                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfCanvas.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfCanvas.tsx\",\n        lineNumber: 99,\n        columnNumber: 5\n    }, undefined);\n};\n_s(PdfCanvas, \"K4d2l9lURtlUpUYqWzGInI8yMiU=\");\n_c = PdfCanvas;\nconst PageRenderer = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().forwardRef(_s1((param, ref)=>{\n    let { page, zoom, rotation } = param;\n    _s1();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PageRenderer.useEffect\": ()=>{\n            let renderTask = null;\n            const render = {\n                \"PageRenderer.useEffect.render\": async ()=>{\n                    if (!canvasRef.current) return;\n                    const canvas = canvasRef.current;\n                    const ctx = canvas.getContext(\"2d\");\n                    if (!ctx) return;\n                    const viewport = page.getViewport({\n                        scale: zoom,\n                        rotation\n                    });\n                    canvas.width = viewport.width;\n                    canvas.height = viewport.height;\n                    renderTask = page.render({\n                        canvasContext: ctx,\n                        viewport\n                    });\n                    try {\n                        await renderTask.promise;\n                    } catch (error) {\n                        if (error.name !== 'RenderingCancelled') {\n                            console.error(\"Page render error:\", error);\n                        }\n                    }\n                }\n            }[\"PageRenderer.useEffect.render\"];\n            render();\n            return ({\n                \"PageRenderer.useEffect\": ()=>{\n                    if (renderTask) {\n                        renderTask.cancel();\n                    }\n                }\n            })[\"PageRenderer.useEffect\"];\n        }\n    }[\"PageRenderer.useEffect\"], [\n        page,\n        zoom,\n        rotation\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        \"data-page-number\": page.pageNumber,\n        className: \"relative mb-4 bg-background shadow-md\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n            ref: canvasRef\n        }, void 0, false, {\n            fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfCanvas.tsx\",\n            lineNumber: 159,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfCanvas.tsx\",\n        lineNumber: 158,\n        columnNumber: 9\n    }, undefined);\n}, \"UJgi7ynoup7eqypjnwyX/s32POg=\"));\n_c1 = PageRenderer;\nPageRenderer.displayName = 'PageRenderer';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PdfCanvas);\nvar _c, _c1;\n$RefreshReg$(_c, \"PdfCanvas\");\n$RefreshReg$(_c1, \"PageRenderer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdC1wZGYvY29tcG9uZW50cy9QZGZDYW52YXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUd3RTtBQUN2QjtBQUNoQjtBQUVqQ0kscUVBQTRCLENBQUNHLFNBQVMsR0FBRywyQ0FBNEQsT0FBakJILHlEQUFnQixFQUFDO0FBYXJHLE1BQU1LLFlBQXNDO1FBQUMsRUFDM0NDLE9BQU8sRUFDUEMsWUFBWSxFQUNaQyxtQkFBbUIsRUFDbkJDLElBQUksRUFDSkMsU0FBUyxFQUNUQyxZQUFZLEVBQ1pDLGdCQUFnQixFQUNoQkMsU0FBUyxFQUNWOztJQUNDLE1BQU1DLGVBQWVoQiw2Q0FBTUEsQ0FBd0I7SUFDbkQsTUFBTSxDQUFDaUIsT0FBT0MsU0FBUyxHQUFHakIsK0NBQVFBLENBQTBCLEVBQUU7SUFDOUQsTUFBTWtCLFdBQVduQiw2Q0FBTUEsQ0FBNEIsRUFBRTtJQUVyRCw4QkFBOEI7SUFDOUJELGdEQUFTQTsrQkFBQztZQUNSLElBQUksQ0FBQ1MsU0FBUztnQkFDWlUsU0FBUyxFQUFFO2dCQUNYO1lBQ0Y7WUFDQSxNQUFNRSxTQUFTLElBQUlDO1lBQ25CRCxPQUFPRSxNQUFNO3VDQUFHO29CQUNkLE1BQU1DLE9BQU8sSUFBSUMsV0FBV0osT0FBT0ssTUFBTTtvQkFDekMsSUFBSTt3QkFDRixNQUFNQyxNQUFNLE1BQU14Qiw2REFBb0IsQ0FBQzs0QkFBRXFCO3dCQUFLLEdBQUdLLE9BQU87d0JBQ3hEbkIsYUFBYWlCLElBQUlHLFFBQVE7d0JBQ3pCLE1BQU1DLGVBQWVDLE1BQU1DLElBQUksQ0FBQzs0QkFBRUMsUUFBUVAsSUFBSUcsUUFBUTt3QkFBQztnRUFBRyxDQUFDSyxHQUFHQyxJQUFNVCxJQUFJVSxPQUFPLENBQUNELElBQUk7O3dCQUNwRixNQUFNRSxjQUFjLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ1Q7d0JBQ3RDWixTQUFTbUI7b0JBQ1gsRUFBRSxPQUFPRyxPQUFPO3dCQUNkQyxRQUFR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QUFLO29CQUM3Qk4sT0FBT08sTUFBTSxHQUFHSixTQUFTSSxNQUFNO29CQUUvQlQsYUFBYVAsS0FBS1EsTUFBTSxDQUFDO3dCQUFFUyxlQUFlUDt3QkFBS0U7b0JBQVM7b0JBQ3hELElBQUk7d0JBQ0EsTUFBTUwsV0FBV3RELE9BQU87b0JBQzVCLEVBQUUsT0FBT1ksT0FBWTt3QkFDakIsSUFBSUEsTUFBTXFELElBQUksS0FBSyxzQkFBc0I7NEJBQ3JDcEQsUUFBUUQsS0FBSyxDQUFDLHNCQUFzQkE7d0JBQ3hDO29CQUNKO2dCQUNKOztZQUVBMkM7WUFFQTswQ0FBTztvQkFDSCxJQUFJRCxZQUFZO3dCQUNaQSxXQUFXWSxNQUFNO29CQUNyQjtnQkFDSjs7UUFDSjtpQ0FBRztRQUFDbkI7UUFBTWhFO1FBQU1tRTtLQUFTO0lBRXpCLHFCQUNJLDhEQUFDTDtRQUFJTixLQUFLQTtRQUFLNEIsb0JBQWtCcEIsS0FBS2QsVUFBVTtRQUFFOUMsV0FBVTtrQkFDeEQsNEVBQUNxRTtZQUFPakIsS0FBS2M7Ozs7Ozs7Ozs7O0FBR3pCO01BeENNSjtBQXlDTkEsYUFBYW1CLFdBQVcsR0FBRztBQUUzQixpRUFBZXpGLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL3NyYy9hcHAvZWRpdC1wZGYvY29tcG9uZW50cy9QZGZDYW52YXMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBwZGZqc0xpYiBmcm9tIFwicGRmanMtZGlzdC9idWlsZC9wZGZcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5cbnBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gYC8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZi5qcy8ke3BkZmpzTGliLnZlcnNpb259L3BkZi53b3JrZXIubWluLmpzYDtcblxuaW50ZXJmYWNlIFBkZkNhbnZhc1Byb3BzIHtcbiAgcGRmRmlsZTogRmlsZSB8IG51bGw7XG4gIG9uVG90YWxQYWdlczogKHRvdGFsOiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uQ3VycmVudFBhZ2VDaGFuZ2U6IChwYWdlOiBudW1iZXIpID0+IHZvaWQ7XG4gIHpvb206IG51bWJlcjtcbiAgcm90YXRpb25zOiB7IFtrZXk6IG51bWJlcl06IG51bWJlciB9O1xuICBzY3JvbGxUb1BhZ2U6IG51bWJlciB8IG51bGw7XG4gIG9uU2Nyb2xsQ29tcGxldGU6ICgpID0+IHZvaWQ7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuY29uc3QgUGRmQ2FudmFzOiBSZWFjdC5GQzxQZGZDYW52YXNQcm9wcz4gPSAoe1xuICBwZGZGaWxlLFxuICBvblRvdGFsUGFnZXMsXG4gIG9uQ3VycmVudFBhZ2VDaGFuZ2UsXG4gIHpvb20sXG4gIHJvdGF0aW9ucyxcbiAgc2Nyb2xsVG9QYWdlLFxuICBvblNjcm9sbENvbXBsZXRlLFxuICBjbGFzc05hbWUsXG59KSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcGFnZXMsIHNldFBhZ2VzXSA9IHVzZVN0YXRlPHBkZmpzTGliLlBERlBhZ2VQcm94eVtdPihbXSk7XG4gIGNvbnN0IHBhZ2VSZWZzID0gdXNlUmVmPChIVE1MRGl2RWxlbWVudCB8IG51bGwpW10+KFtdKTtcblxuICAvLyBMb2FkIFBERiBkb2N1bWVudCBhbmQgcGFnZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBkZkZpbGUpIHtcbiAgICAgIHNldFBhZ2VzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZG9jID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhIH0pLnByb21pc2U7XG4gICAgICAgIG9uVG90YWxQYWdlcyhkb2MubnVtUGFnZXMpO1xuICAgICAgICBjb25zdCBwYWdlUHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBkb2MubnVtUGFnZXMgfSwgKF8sIGkpID0+IGRvYy5nZXRQYWdlKGkgKyAxKSk7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocGFnZVByb21pc2VzKTtcbiAgICAgICAgc2V0UGFnZXMobG9hZGVkUGFnZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgUERGIGRvY3VtZW50OlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIocGRmRmlsZSk7XG4gIH0sIFtwZGZGaWxlLCBvblRvdGFsUGFnZXNdKTtcblxuICAvLyBTZXR1cCBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50IHx8IHBhZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBjb25zdCB2aXNpYmxlRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIGlmICh2aXNpYmxlRW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB0b3AtbW9zdCB2aXNpYmxlIGVudHJ5XG4gICAgICAgICAgICB2aXNpYmxlRW50cmllcy5zb3J0KChhLGIpID0+IGEuYm91bmRpbmdDbGllbnRSZWN0LnRvcCAtIGIuYm91bmRpbmdDbGllbnRSZWN0LnRvcCk7XG4gICAgICAgICAgICBjb25zdCB0b3BNb3N0VmlzaWJsZSA9IHZpc2libGVFbnRyaWVzWzBdO1xuICAgICAgICAgICAgY29uc3QgcGFnZU51bSA9IE51bWJlcigodG9wTW9zdFZpc2libGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LnBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKHBhZ2VOdW0pIHtcbiAgICAgICAgICAgICAgICBvbkN1cnJlbnRQYWdlQ2hhbmdlKHBhZ2VOdW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyByb290OiBjb250YWluZXJSZWYuY3VycmVudCwgcm9vdE1hcmdpbjogXCItNTAlIDBweCAtNTAlIDBweFwiLCB0aHJlc2hvbGQ6IDAuMSB9XG4gICAgKTtcblxuICAgIGNvbnN0IGN1cnJlbnRSZWZzID0gcGFnZVJlZnMuY3VycmVudDtcbiAgICBjdXJyZW50UmVmcy5mb3JFYWNoKHJlZiA9PiB7XG4gICAgICBpZiAocmVmKSBvYnNlcnZlci5vYnNlcnZlKHJlZik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY3VycmVudFJlZnMuZm9yRWFjaChyZWYgPT4ge1xuICAgICAgICBpZiAocmVmKSBvYnNlcnZlci51bm9ic2VydmUocmVmKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtwYWdlcywgb25DdXJyZW50UGFnZUNoYW5nZV0pO1xuXG5cbiAgLy8gU2Nyb2xsIHRvIGEgc3BlY2lmaWMgcGFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JvbGxUb1BhZ2UgJiYgcGFnZVJlZnMuY3VycmVudFtzY3JvbGxUb1BhZ2UgLSAxXSkge1xuICAgICAgcGFnZVJlZnMuY3VycmVudFtzY3JvbGxUb1BhZ2UgLSAxXT8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJhdXRvXCIsIGJsb2NrOiBcInN0YXJ0XCIgfSk7XG4gICAgICBvblNjcm9sbENvbXBsZXRlKCk7XG4gICAgfVxuICB9LCBbc2Nyb2xsVG9QYWdlLCBvblNjcm9sbENvbXBsZXRlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ3LWZ1bGwgaC1mdWxsIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG92ZXJmbG93LWF1dG8gYmctbXV0ZWQgcC00XCIsIGNsYXNzTmFtZSl9XG4gICAgPlxuICAgICAge3BhZ2VzLm1hcCgocGFnZSwgaW5kZXgpID0+IChcbiAgICAgICAgPFBhZ2VSZW5kZXJlclxuICAgICAgICAgIGtleT17cGFnZS5wYWdlTnVtYmVyfVxuICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgem9vbT17em9vbX1cbiAgICAgICAgICByb3RhdGlvbj17cm90YXRpb25zW2luZGV4ICsgMV0gfHwgMH1cbiAgICAgICAgICByZWY9eyhlbDogSFRNTERpdkVsZW1lbnQgfCBudWxsKSA9PiAocGFnZVJlZnMuY3VycmVudFtpbmRleF0gPSBlbCl9XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBQYWdlUmVuZGVyZXJQcm9wcyB7XG4gIHBhZ2U6IHBkZmpzTGliLlBERlBhZ2VQcm94eTtcbiAgem9vbTogbnVtYmVyO1xuICByb3RhdGlvbjogbnVtYmVyO1xufVxuXG5jb25zdCBQYWdlUmVuZGVyZXIgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBQYWdlUmVuZGVyZXJQcm9wcz4oKHsgcGFnZSwgem9vbSwgcm90YXRpb24gfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCByZW5kZXJUYXNrOiBwZGZqc0xpYi5SZW5kZXJUYXNrIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZW5kZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBpZiAoIWN0eCkgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogem9vbSwgcm90YXRpb24gfSk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlbmRlclRhc2sgPSBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGN0eCwgdmlld3BvcnQgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbmRlclRhc2sucHJvbWlzZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSAhPT0gJ1JlbmRlcmluZ0NhbmNlbGxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBhZ2UgcmVuZGVyIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmVuZGVyKCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZW5kZXJUYXNrKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGFzay5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbcGFnZSwgem9vbSwgcm90YXRpb25dKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgcmVmPXtyZWZ9IGRhdGEtcGFnZS1udW1iZXI9e3BhZ2UucGFnZU51bWJlcn0gY2xhc3NOYW1lPVwicmVsYXRpdmUgbWItNCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn0pO1xuUGFnZVJlbmRlcmVyLmRpc3BsYXlOYW1lID0gJ1BhZ2VSZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IFBkZkNhbnZhcztcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwicGRmanNMaWIiLCJjbiIsIkdsb2JhbFdvcmtlck9wdGlvbnMiLCJ3b3JrZXJTcmMiLCJ2ZXJzaW9uIiwiUGRmQ2FudmFzIiwicGRmRmlsZSIsIm9uVG90YWxQYWdlcyIsIm9uQ3VycmVudFBhZ2VDaGFuZ2UiLCJ6b29tIiwicm90YXRpb25zIiwic2Nyb2xsVG9QYWdlIiwib25TY3JvbGxDb21wbGV0ZSIsImNsYXNzTmFtZSIsImNvbnRhaW5lclJlZiIsInBhZ2VzIiwic2V0UGFnZXMiLCJwYWdlUmVmcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJkYXRhIiwiVWludDhBcnJheSIsInJlc3VsdCIsImRvYyIsImdldERvY3VtZW50IiwicHJvbWlzZSIsIm51bVBhZ2VzIiwicGFnZVByb21pc2VzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJnZXRQYWdlIiwibG9hZGVkUGFnZXMiLCJQcm9taXNlIiwiYWxsIiwiZXJyb3IiLCJjb25zb2xlIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJjdXJyZW50Iiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJ2aXNpYmxlRW50cmllcyIsImZpbHRlciIsImUiLCJpc0ludGVyc2VjdGluZyIsInNvcnQiLCJhIiwiYiIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsInRvcE1vc3RWaXNpYmxlIiwicGFnZU51bSIsIk51bWJlciIsInRhcmdldCIsImRhdGFzZXQiLCJwYWdlTnVtYmVyIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJjdXJyZW50UmVmcyIsImZvckVhY2giLCJyZWYiLCJvYnNlcnZlIiwidW5vYnNlcnZlIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiZGl2IiwibWFwIiwicGFnZSIsImluZGV4IiwiUGFnZVJlbmRlcmVyIiwicm90YXRpb24iLCJlbCIsImZvcndhcmRSZWYiLCJjYW52YXNSZWYiLCJyZW5kZXJUYXNrIiwicmVuZGVyIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsInZpZXdwb3J0IiwiZ2V0Vmlld3BvcnQiLCJzY2FsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY2FudmFzQ29udGV4dCIsIm5hbWUiLCJjYW5jZWwiLCJkYXRhLXBhZ2UtbnVtYmVyIiwiZGlzcGxheU5hbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/edit-pdf/components/PdfCanvas.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/edit-pdf/components/PdfEditor.tsx":
/*!***************************************************!*\
  !*** ./src/app/edit-pdf/components/PdfEditor.tsx ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdf-lib */ \"(app-pages-browser)/./node_modules/pdf-lib/es/index.js\");\n/* harmony import */ var _PdfCanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PdfCanvas */ \"(app-pages-browser)/./src/app/edit-pdf/components/PdfCanvas.tsx\");\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Sidebar */ \"(app-pages-browser)/./src/app/edit-pdf/components/Sidebar.tsx\");\n/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Toolbar */ \"(app-pages-browser)/./src/app/edit-pdf/components/Toolbar.tsx\");\n/* harmony import */ var _FloatingToolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FloatingToolbar */ \"(app-pages-browser)/./src/app/edit-pdf/components/FloatingToolbar.tsx\");\n/* harmony import */ var _ReorderView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ReorderView */ \"(app-pages-browser)/./src/app/edit-pdf/components/ReorderView.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst PdfEditor = ()=>{\n    _s();\n    const [pdfFile, setPdfFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [totalPages, setTotalPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [zoom, setZoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [rotations, setRotations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [scrollToPage, setScrollToPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('edit');\n    const [thumbnails, setThumbnails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoadingThumbnails, setIsLoadingThumbnails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const generateThumbnails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PdfEditor.useCallback[generateThumbnails]\": async (file)=>{\n            if (!file) {\n                setThumbnails([]);\n                return;\n            }\n            setIsLoadingThumbnails(true);\n            try {\n                const data = await file.arrayBuffer();\n                const pdfjsLib = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! pdfjs-dist/build/pdf */ \"(app-pages-browser)/./node_modules/pdfjs-dist/build/pdf.js\", 23));\n                pdfjsLib.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjsLib.version, \"/pdf.worker.min.js\");\n                const pdf = await pdfjsLib.getDocument({\n                    data\n                }).promise;\n                const thumbs = [];\n                for(let i = 1; i <= pdf.numPages; i++){\n                    const page = await pdf.getPage(i);\n                    const pageRotations = rotations[i] || 0;\n                    const originalViewport = page.getViewport({\n                        scale: 1\n                    });\n                    const fixedWidth = 200;\n                    const viewport = page.getViewport({\n                        scale: fixedWidth / originalViewport.width,\n                        rotation: pageRotations\n                    });\n                    const canvas = document.createElement(\"canvas\");\n                    const ctx = canvas.getContext(\"2d\");\n                    canvas.width = viewport.width;\n                    canvas.height = viewport.height;\n                    await page.render({\n                        canvasContext: ctx,\n                        viewport\n                    }).promise;\n                    thumbs.push(canvas.toDataURL());\n                }\n                setThumbnails(thumbs);\n            } catch (error) {\n                console.error(\"Error processing PDF for thumbnails:\", error);\n                setThumbnails([]);\n            } finally{\n                setIsLoadingThumbnails(false);\n            }\n        }\n    }[\"PdfEditor.useCallback[generateThumbnails]\"], [\n        rotations\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfEditor.useEffect\": ()=>{\n            if (pdfFile) {\n                generateThumbnails(pdfFile);\n            }\n        }\n    }[\"PdfEditor.useEffect\"], [\n        pdfFile,\n        generateThumbnails\n    ]);\n    const handleFileChange = (e)=>{\n        var _e_target_files;\n        const file = ((_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0]) || null;\n        setPdfFile(file);\n        setCurrentPage(1);\n        setTotalPages(0);\n        setZoom(1);\n        setRotations({});\n        setViewMode('edit');\n    };\n    const handleDownload = async ()=>{\n        if (!pdfFile) return;\n        const existingPdfBytes = await pdfFile.arrayBuffer();\n        const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(existingPdfBytes);\n        const newPdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.create();\n        const pageIndices = Array.from({\n            length: pdfDoc.getPageCount()\n        }, (_, i)=>i);\n        for (const pageIndex of pageIndices){\n            const [copiedPage] = await newPdfDoc.copyPages(pdfDoc, [\n                pageIndex\n            ]);\n            const rotation = rotations[pageIndex + 1] || 0;\n            copiedPage.setRotation(rotation);\n            newPdfDoc.addPage(copiedPage);\n        }\n        const newPdfBytes = await newPdfDoc.save();\n        const blob = new Blob([\n            newPdfBytes\n        ], {\n            type: 'application/pdf'\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = \"edited_\".concat(pdfFile.name);\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    };\n    const handleRotate = (direction)=>{\n        const amount = direction === 'left' ? -90 : 90;\n        setRotations((prev)=>{\n            const currentRotation = prev[currentPage] || 0;\n            const newRotation = (currentRotation + amount + 360) % 360;\n            const newRotations = {\n                ...prev,\n                [currentPage]: newRotation\n            };\n            // Regenerate the specific thumbnail\n            if (pdfFile) {\n                regenerateSingleThumbnail(pdfFile, currentPage, newRotations);\n            }\n            return newRotations;\n        });\n    };\n    const regenerateSingleThumbnail = async (file, pageNum, currentRotations)=>{\n        try {\n            const data = await file.arrayBuffer();\n            const pdfjsLib = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! pdfjs-dist/build/pdf */ \"(app-pages-browser)/./node_modules/pdfjs-dist/build/pdf.js\", 23));\n            pdfjsLib.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjsLib.version, \"/pdf.worker.min.js\");\n            const pdf = await pdfjsLib.getDocument({\n                data\n            }).promise;\n            const page = await pdf.getPage(pageNum);\n            const pageRotations = currentRotations[pageNum] || 0;\n            const originalViewport = page.getViewport({\n                scale: 1\n            });\n            const fixedWidth = 200;\n            const viewport = page.getViewport({\n                scale: fixedWidth / originalViewport.width,\n                rotation: pageRotations\n            });\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            canvas.width = viewport.width;\n            canvas.height = viewport.height;\n            await page.render({\n                canvasContext: ctx,\n                viewport\n            }).promise;\n            const newThumbDataUrl = canvas.toDataURL();\n            setThumbnails((prev)=>{\n                const newThumbs = [\n                    ...prev\n                ];\n                newThumbs[pageNum - 1] = newThumbDataUrl;\n                return newThumbs;\n            });\n        } catch (error) {\n            console.error(\"Error regenerating thumbnail for page \".concat(pageNum, \":\"), error);\n        }\n    };\n    const handleDeletePage = async ()=>{\n        if (!pdfFile || totalPages <= 1) return;\n        const originalName = pdfFile.name;\n        const existingPdfBytes = await pdfFile.arrayBuffer();\n        const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(existingPdfBytes);\n        if (pdfDoc.getPageCount() <= 1) return;\n        const deletedPageNum = currentPage;\n        pdfDoc.removePage(deletedPageNum - 1);\n        const newPdfBytes = await pdfDoc.save();\n        const newPdfFile = new File([\n            newPdfBytes\n        ], originalName, {\n            type: 'application/pdf'\n        });\n        const newTotalPages = pdfDoc.getPageCount();\n        const newRotations = {};\n        for(let i = 1; i <= newTotalPages; i++){\n            const oldPageNum = i < deletedPageNum ? i : i + 1;\n            if (rotations[oldPageNum]) {\n                newRotations[i] = rotations[oldPageNum];\n            }\n        }\n        setRotations(newRotations);\n        setPdfFile(newPdfFile);\n        if (currentPage > newTotalPages) {\n            setCurrentPage(newTotalPages);\n        }\n    };\n    const handlePageSelect = (pageNumber)=>{\n        setCurrentPage(pageNumber);\n        setScrollToPage(pageNumber);\n    };\n    const handleScrollComplete = ()=>{\n        setScrollToPage(null);\n    };\n    const handleInsertPdf = async (fileToInsert, index)=>{\n        if (!pdfFile || !fileToInsert) return;\n        const existingPdfBytes = await pdfFile.arrayBuffer();\n        const newPdfBytes = await fileToInsert.arrayBuffer();\n        const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(existingPdfBytes);\n        const newPdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(newPdfBytes);\n        const copiedPageIndices = await pdfDoc.copyPages(newPdfDoc, newPdfDoc.getPageIndices());\n        for(let i = 0; i < copiedPageIndices.length; i++){\n            pdfDoc.insertPage(index + i, copiedPageIndices[i]);\n        }\n        const finalPdfBytes = await pdfDoc.save();\n        const newPdfFile = new File([\n            finalPdfBytes\n        ], pdfFile.name, {\n            type: 'application/pdf'\n        });\n        const newRotations = {};\n        const numInsertedPages = newPdfDoc.getPageCount();\n        for(const pageNumStr in rotations){\n            const pageNum = parseInt(pageNumStr, 10);\n            if (pageNum <= index) {\n                newRotations[pageNum] = rotations[pageNum];\n            } else {\n                newRotations[pageNum + numInsertedPages] = rotations[pageNum];\n            }\n        }\n        setRotations(newRotations);\n        setPdfFile(newPdfFile);\n    };\n    const handleInsertBlankPage = async (index)=>{\n        if (!pdfFile) return;\n        const existingPdfBytes = await pdfFile.arrayBuffer();\n        const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(existingPdfBytes);\n        let pageSize = [\n            595.28,\n            841.89\n        ];\n        if (index > 0 && index <= pdfDoc.getPageCount()) {\n            const prevPage = pdfDoc.getPage(index - 1);\n            const { width, height } = prevPage.getSize();\n            pageSize = [\n                width,\n                height\n            ];\n        }\n        pdfDoc.insertPage(index, pageSize);\n        const finalPdfBytes = await pdfDoc.save();\n        const newPdfFile = new File([\n            finalPdfBytes\n        ], pdfFile.name, {\n            type: 'application/pdf'\n        });\n        const newRotations = {};\n        for(const pageNumStr in rotations){\n            const pageNum = parseInt(pageNumStr, 10);\n            if (pageNum <= index) {\n                newRotations[pageNum] = rotations[pageNum];\n            } else {\n                newRotations[pageNum + 1] = rotations[pageNum];\n            }\n        }\n        setRotations(newRotations);\n        setPdfFile(newPdfFile);\n    };\n    const handleReorderPages = async (oldIndex, newIndex)=>{\n        if (!pdfFile || oldIndex === newIndex) return;\n        const existingPdfBytes = await pdfFile.arrayBuffer();\n        const pdfDoc = await pdf_lib__WEBPACK_IMPORTED_MODULE_2__.PDFDocument.load(existingPdfBytes);\n        const [movedPage] = await pdfDoc.copyPages(pdfDoc, [\n            oldIndex\n        ]);\n        pdfDoc.removePage(oldIndex);\n        pdfDoc.insertPage(newIndex, movedPage);\n        const finalPdfBytes = await pdfDoc.save();\n        const newPdfFile = new File([\n            finalPdfBytes\n        ], pdfFile.name, {\n            type: 'application/pdf'\n        });\n        setPdfFile(newPdfFile);\n    };\n    const renderContent = ()=>{\n        if (!pdfFile) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col items-center justify-center h-full text-muted-foreground p-10 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-semibold mb-2\",\n                        children: \"開始編輯您的 PDF\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mb-4\",\n                        children: \"從您的電腦上傳一個檔案，即可開始。\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                        lineNumber: 287,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"bg-primary text-primary-foreground hover:bg-primary/90 rounded-md px-4 py-2 cursor-pointer\",\n                        children: [\n                            \"選擇檔案\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"file\",\n                                accept: \"application/pdf\",\n                                onChange: handleFileChange,\n                                className: \"hidden\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                                lineNumber: 290,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                        lineNumber: 288,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                lineNumber: 285,\n                columnNumber: 9\n            }, undefined);\n        }\n        if (viewMode === 'reorder') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ReorderView__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                thumbnails: thumbnails,\n                onReorder: handleReorderPages\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                lineNumber: 297,\n                columnNumber: 14\n            }, undefined);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex w-full h-full\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-[20%] flex-shrink-0 bg-card border-r h-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Sidebar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        currentPage: currentPage,\n                        onPageClick: handlePageSelect,\n                        onInsertPdf: handleInsertPdf,\n                        onInsertBlankPage: handleInsertBlankPage,\n                        thumbnails: thumbnails,\n                        isLoading: isLoadingThumbnails\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                    lineNumber: 302,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow flex flex-col relative h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-grow bg-background shadow-inner h-full overflow-hidden\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PdfCanvas__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                pdfFile: pdfFile,\n                                onTotalPages: setTotalPages,\n                                onCurrentPageChange: setCurrentPage,\n                                zoom: zoom,\n                                rotations: rotations,\n                                scrollToPage: scrollToPage,\n                                onScrollComplete: handleScrollComplete\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                                lineNumber: 314,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                            lineNumber: 313,\n                            columnNumber: 11\n                        }, undefined),\n                        pdfFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FloatingToolbar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            zoom: zoom,\n                            onZoomChange: setZoom,\n                            onRotate: handleRotate,\n                            onDelete: handleDeletePage,\n                            canDelete: totalPages > 1\n                        }, void 0, false, {\n                            fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                            lineNumber: 325,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                    lineNumber: 312,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n            lineNumber: 301,\n            columnNumber: 7\n        }, undefined);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full flex flex-col bg-muted/40\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border-b p-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Toolbar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    onDownload: handleDownload,\n                    viewMode: viewMode,\n                    setViewMode: setViewMode\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                    lineNumber: 342,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                lineNumber: 341,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow overflow-hidden\",\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n                lineNumber: 348,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfEditor.tsx\",\n        lineNumber: 340,\n        columnNumber: 5\n    }, undefined);\n};\n_s(PdfEditor, \"jiTomJoIxk0X64KsniOECdworz0=\");\n_c = PdfEditor;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PdfEditor);\nvar _c;\n$RefreshReg$(_c, \"PdfEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdC1wZGYvY29tcG9uZW50cy9QZGZFZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUd3RTtBQUNsQztBQUNGO0FBQ0o7QUFDQTtBQUNnQjtBQUNSO0FBSXhDLE1BQU1VLFlBQVk7O0lBQ2hCLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHWCwrQ0FBUUEsQ0FBYztJQUNwRCxNQUFNLENBQUNZLFlBQVlDLGNBQWMsR0FBR2IsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDYyxhQUFhQyxlQUFlLEdBQUdmLCtDQUFRQSxDQUFDO0lBRS9DLE1BQU0sQ0FBQ2dCLE1BQU1DLFFBQVEsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ2tCLFdBQVdDLGFBQWEsR0FBR25CLCtDQUFRQSxDQUE0QixDQUFDO0lBQ3ZFLE1BQU0sQ0FBQ29CLGNBQWNDLGdCQUFnQixHQUFHckIsK0NBQVFBLENBQWdCO0lBRWhFLE1BQU0sQ0FBQ3NCLFVBQVVDLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFXO0lBQ25ELE1BQU0sQ0FBQ3dCLFlBQVlDLGNBQWMsR0FBR3pCLCtDQUFRQSxDQUFXLEVBQUU7SUFDekQsTUFBTSxDQUFDMEIscUJBQXFCQyx1QkFBdUIsR0FBRzNCLCtDQUFRQSxDQUFDO0lBRS9ELE1BQU00QixxQkFBcUIxQixrREFBV0E7cURBQUMsT0FBTzJCO1lBQzVDLElBQUksQ0FBQ0EsTUFBTTtnQkFDVEosY0FBYyxFQUFFO2dCQUNoQjtZQUNGO1lBQ0FFLHVCQUF1QjtZQUV2QixJQUFJO2dCQUNGLE1BQU1HLE9BQU8sTUFBTUQsS0FBS0UsV0FBVztnQkFDbkMsTUFBTUMsV0FBVyxNQUFNLG9MQUE4QjtnQkFDckRBLFNBQVNDLG1CQUFtQixDQUFDQyxTQUFTLEdBQUcsMkNBQTRELE9BQWpCRixTQUFTRyxPQUFPLEVBQUM7Z0JBRXJHLE1BQU1DLE1BQU0sTUFBTUosU0FBU0ssV0FBVyxDQUFD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VTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDNUksZ0RBQU9BO3dCQUNOUyxhQUFhQTt3QkFDYjJJLGFBQWEvQjt3QkFDYmdDLGFBQWE3Qjt3QkFDYjhCLG1CQUFtQnBCO3dCQUNuQi9HLFlBQVlBO3dCQUNab0ksV0FBV2xJOzs7Ozs7Ozs7Ozs4QkFHZiw4REFBQ3NIO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUM3SSxrREFBU0E7Z0NBQ1JNLFNBQVNBO2dDQUNUbUosY0FBY2hKO2dDQUNkaUoscUJBQXFCL0k7Z0NBQ3JCQyxNQUFNQTtnQ0FDTkUsV0FBV0E7Z0NBQ1hFLGNBQWNBO2dDQUNkMkksa0JBQWtCbkM7Ozs7Ozs7Ozs7O3dCQUdyQmxILHlCQUNDLDhEQUFDSCx3REFBZUE7NEJBQ2RTLE1BQU1BOzRCQUNOZ0osY0FBYy9JOzRCQUNkZ0osVUFBVTNEOzRCQUNWNEQsVUFBVWhEOzRCQUNWaUQsV0FBV3ZKLGFBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQU1wQztJQUdBLHFCQUNFLDhEQUFDb0k7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDM0ksZ0RBQU9BO29CQUNOOEosWUFBWWhHO29CQUNaOUMsVUFBVUE7b0JBQ1ZDLGFBQWFBOzs7Ozs7Ozs7OzswQkFHakIsOERBQUN5SDtnQkFBSUMsV0FBVTswQkFDWkY7Ozs7Ozs7Ozs7OztBQUlUO0dBblZNdEk7S0FBQUE7QUFxVk4saUVBQWVBLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvc3R1ZGlvL3NyYy9hcHAvZWRpdC1wZGYvY29tcG9uZW50cy9QZGZFZGl0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQREZEb2N1bWVudCB9IGZyb20gJ3BkZi1saWInO1xuaW1wb3J0IFBkZkNhbnZhcyBmcm9tIFwiLi9QZGZDYW52YXNcIjtcbmltcG9ydCBTaWRlYmFyIGZyb20gXCIuL1NpZGViYXJcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL1Rvb2xiYXJcIjtcbmltcG9ydCBGbG9hdGluZ1Rvb2xiYXIgZnJvbSBcIi4vRmxvYXRpbmdUb29sYmFyXCI7XG5pbXBvcnQgUmVvcmRlclZpZXcgZnJvbSBcIi4vUmVvcmRlclZpZXdcIjtcblxudHlwZSBWaWV3TW9kZSA9ICdlZGl0JyB8ICdyZW9yZGVyJztcblxuY29uc3QgUGRmRWRpdG9yID0gKCkgPT4ge1xuICBjb25zdCBbcGRmRmlsZSwgc2V0UGRmRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0b3RhbFBhZ2VzLCBzZXRUb3RhbFBhZ2VzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpO1xuICBcbiAgY29uc3QgW3pvb20sIHNldFpvb21dID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtyb3RhdGlvbnMsIHNldFJvdGF0aW9uc10gPSB1c2VTdGF0ZTx7IFtrZXk6IG51bWJlcl06IG51bWJlciB9Pih7fSk7XG4gIGNvbnN0IFtzY3JvbGxUb1BhZ2UsIHNldFNjcm9sbFRvUGFnZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbdmlld01vZGUsIHNldFZpZXdNb2RlXSA9IHVzZVN0YXRlPFZpZXdNb2RlPignZWRpdCcpO1xuICBjb25zdCBbdGh1bWJuYWlscywgc2V0VGh1bWJuYWlsc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nVGh1bWJuYWlscywgc2V0SXNMb2FkaW5nVGh1bWJuYWlsc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgZ2VuZXJhdGVUaHVtYm5haWxzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZpbGU6IEZpbGUpID0+IHtcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIHNldFRodW1ibmFpbHMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJc0xvYWRpbmdUaHVtYm5haWxzKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgY29uc3QgcGRmanNMaWIgPSBhd2FpdCBpbXBvcnQoXCJwZGZqcy1kaXN0L2J1aWxkL3BkZlwiKTtcbiAgICAgIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gYC8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZi5qcy8ke3BkZmpzTGliLnZlcnNpb259L3BkZi53b3JrZXIubWluLmpzYDtcblxuICAgICAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhIH0pLnByb21pc2U7XG4gICAgICBjb25zdCB0aHVtYnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHBkZi5udW1QYWdlczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGYuZ2V0UGFnZShpKTtcbiAgICAgICAgY29uc3QgcGFnZVJvdGF0aW9ucyA9IHJvdGF0aW9uc1tpXSB8fCAwO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxWaWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMSB9KTtcbiAgICAgICAgY29uc3QgZml4ZWRXaWR0aCA9IDIwMDsgXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiBmaXhlZFdpZHRoIC8gb3JpZ2luYWxWaWV3cG9ydC53aWR0aCwgcm90YXRpb246IHBhZ2VSb3RhdGlvbnMgfSk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuXG4gICAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogY3R4LCB2aWV3cG9ydCB9KS5wcm9taXNlO1xuICAgICAgICB0aHVtYnMucHVzaChjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgfVxuICAgICAgc2V0VGh1bWJuYWlscyh0aHVtYnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIFBERiBmb3IgdGh1bWJuYWlsczpcIiwgZXJyb3IpO1xuICAgICAgICBzZXRUaHVtYm5haWxzKFtdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmdUaHVtYm5haWxzKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtyb3RhdGlvbnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwZGZGaWxlKSB7XG4gICAgICBnZW5lcmF0ZVRodW1ibmFpbHMocGRmRmlsZSk7XG4gICAgfVxuICB9LCBbcGRmRmlsZSwgZ2VuZXJhdGVUaHVtYm5haWxzXSk7XG5cblxuICBjb25zdCBoYW5kbGVGaWxlQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF0gfHwgbnVsbDtcbiAgICBzZXRQZGZGaWxlKGZpbGUpO1xuICAgIHNldEN1cnJlbnRQYWdlKDEpO1xuICAgIHNldFRvdGFsUGFnZXMoMCk7XG4gICAgc2V0Wm9vbSgxKTtcbiAgICBzZXRSb3RhdGlvbnMoe30pO1xuICAgIHNldFZpZXdNb2RlKCdlZGl0Jyk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgaWYgKCFwZGZGaWxlKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdQZGZCeXRlcyA9IGF3YWl0IHBkZkZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBwZGZEb2MgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKGV4aXN0aW5nUGRmQnl0ZXMpO1xuXG4gICAgY29uc3QgbmV3UGRmRG9jID0gYXdhaXQgUERGRG9jdW1lbnQuY3JlYXRlKCk7XG5cbiAgICBjb25zdCBwYWdlSW5kaWNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHBkZkRvYy5nZXRQYWdlQ291bnQoKSB9LCAoXywgaSkgPT4gaSk7XG5cbiAgICBmb3IgKGNvbnN0IHBhZ2VJbmRleCBvZiBwYWdlSW5kaWNlcykge1xuICAgICAgICBjb25zdCBbY29waWVkUGFnZV0gPSBhd2FpdCBuZXdQZGZEb2MuY29weVBhZ2VzKHBkZkRvYywgW3BhZ2VJbmRleF0pO1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHJvdGF0aW9uc1twYWdlSW5kZXggKyAxXSB8fCAwO1xuICAgICAgICBjb3BpZWRQYWdlLnNldFJvdGF0aW9uKHJvdGF0aW9uKTtcbiAgICAgICAgbmV3UGRmRG9jLmFkZFBhZ2UoY29waWVkUGFnZSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3UGRmQnl0ZXMgPSBhd2FpdCBuZXdQZGZEb2Muc2F2ZSgpO1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbmV3UGRmQnl0ZXNdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnIH0pO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS5kb3dubG9hZCA9IGBlZGl0ZWRfJHtwZGZGaWxlLm5hbWV9YDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgIGEuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVJvdGF0ZSA9IChkaXJlY3Rpb246ICdsZWZ0JyB8ICdyaWdodCcpID0+IHtcbiAgICBjb25zdCBhbW91bnQgPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC05MCA6IDkwO1xuICAgIHNldFJvdGF0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJvdGF0aW9uID0gcHJldltjdXJyZW50UGFnZV0gfHwgMDtcbiAgICAgICAgY29uc3QgbmV3Um90YXRpb24gPSAoY3VycmVudFJvdGF0aW9uICsgYW1vdW50ICsgMzYwKSAlIDM2MDtcbiAgICAgICAgY29uc3QgbmV3Um90YXRpb25zID0geyAuLi5wcmV2LCBbY3VycmVudFBhZ2VdOiBuZXdSb3RhdGlvbiB9O1xuICAgICAgICBcbiAgICAgICAgLy8gUmVnZW5lcmF0ZSB0aGUgc3BlY2lmaWMgdGh1bWJuYWlsXG4gICAgICAgIGlmIChwZGZGaWxlKSB7XG4gICAgICAgICAgICByZWdlbmVyYXRlU2luZ2xlVGh1bWJuYWlsKHBkZkZpbGUsIGN1cnJlbnRQYWdlLCBuZXdSb3RhdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1JvdGF0aW9ucztcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZWdlbmVyYXRlU2luZ2xlVGh1bWJuYWlsID0gYXN5bmMgKGZpbGU6IEZpbGUsIHBhZ2VOdW06IG51bWJlciwgY3VycmVudFJvdGF0aW9uczogeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgIGNvbnN0IHBkZmpzTGliID0gYXdhaXQgaW1wb3J0KFwicGRmanMtZGlzdC9idWlsZC9wZGZcIik7XG4gICAgICAgICAgcGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmMgPSBgLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcGRmLmpzLyR7cGRmanNMaWIudmVyc2lvbn0vcGRmLndvcmtlci5taW4uanNgO1xuXG4gICAgICAgICAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhIH0pLnByb21pc2U7XG4gICAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHBkZi5nZXRQYWdlKHBhZ2VOdW0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHBhZ2VSb3RhdGlvbnMgPSBjdXJyZW50Um90YXRpb25zW3BhZ2VOdW1dIHx8IDA7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxWaWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMSB9KTtcbiAgICAgICAgICBjb25zdCBmaXhlZFdpZHRoID0gMjAwO1xuICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiBmaXhlZFdpZHRoIC8gb3JpZ2luYWxWaWV3cG9ydC53aWR0aCwgcm90YXRpb246IHBhZ2VSb3RhdGlvbnMgfSk7XG5cbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgcGFnZS5yZW5kZXIoeyBjYW52YXNDb250ZXh0OiBjdHgsIHZpZXdwb3J0IH0pLnByb21pc2U7XG4gICAgICAgICAgY29uc3QgbmV3VGh1bWJEYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFRodW1ibmFpbHMocHJldiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1RodW1icyA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgbmV3VGh1bWJzW3BhZ2VOdW0gLSAxXSA9IG5ld1RodW1iRGF0YVVybDtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld1RodW1icztcbiAgICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmVnZW5lcmF0aW5nIHRodW1ibmFpbCBmb3IgcGFnZSAke3BhZ2VOdW19OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgfTtcblxuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBkZkZpbGUgfHwgdG90YWxQYWdlcyA8PSAxKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IHBkZkZpbGUubmFtZTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nUGRmQnl0ZXMgPSBhd2FpdCBwZGZGaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBwZGZEb2MgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKGV4aXN0aW5nUGRmQnl0ZXMpO1xuXG4gICAgICBpZiAocGRmRG9jLmdldFBhZ2VDb3VudCgpIDw9IDEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGVsZXRlZFBhZ2VOdW0gPSBjdXJyZW50UGFnZTtcbiAgICAgIHBkZkRvYy5yZW1vdmVQYWdlKGRlbGV0ZWRQYWdlTnVtIC0gMSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld1BkZkJ5dGVzID0gYXdhaXQgcGRmRG9jLnNhdmUoKTtcbiAgICAgIGNvbnN0IG5ld1BkZkZpbGUgPSBuZXcgRmlsZShbbmV3UGRmQnl0ZXNdLCBvcmlnaW5hbE5hbWUsIHsgdHlwZTogJ2FwcGxpY2F0aW9uL3BkZicgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld1RvdGFsUGFnZXMgPSBwZGZEb2MuZ2V0UGFnZUNvdW50KCk7XG5cbiAgICAgIGNvbnN0IG5ld1JvdGF0aW9uczogeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfSA9IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbmV3VG90YWxQYWdlczsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgb2xkUGFnZU51bSA9IGkgPCBkZWxldGVkUGFnZU51bSA/IGkgOiBpICsgMTtcbiAgICAgICAgICBpZiAocm90YXRpb25zW29sZFBhZ2VOdW1dKSB7XG4gICAgICAgICAgICAgIG5ld1JvdGF0aW9uc1tpXSA9IHJvdGF0aW9uc1tvbGRQYWdlTnVtXTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRSb3RhdGlvbnMobmV3Um90YXRpb25zKTtcbiAgICAgIFxuICAgICAgc2V0UGRmRmlsZShuZXdQZGZGaWxlKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRQYWdlID4gbmV3VG90YWxQYWdlcykge1xuICAgICAgICAgIHNldEN1cnJlbnRQYWdlKG5ld1RvdGFsUGFnZXMpO1xuICAgICAgfVxuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlUGFnZVNlbGVjdCA9IChwYWdlTnVtYmVyOiBudW1iZXIpID0+IHtcbiAgICBzZXRDdXJyZW50UGFnZShwYWdlTnVtYmVyKTtcbiAgICBzZXRTY3JvbGxUb1BhZ2UocGFnZU51bWJlcik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2Nyb2xsQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgc2V0U2Nyb2xsVG9QYWdlKG51bGwpO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlSW5zZXJ0UGRmID0gYXN5bmMgKGZpbGVUb0luc2VydDogRmlsZSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICghcGRmRmlsZSB8fCAhZmlsZVRvSW5zZXJ0KSByZXR1cm47XG5cbiAgICBjb25zdCBleGlzdGluZ1BkZkJ5dGVzID0gYXdhaXQgcGRmRmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IG5ld1BkZkJ5dGVzID0gYXdhaXQgZmlsZVRvSW5zZXJ0LmFycmF5QnVmZmVyKCk7XG4gICAgY29uc3QgcGRmRG9jID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChleGlzdGluZ1BkZkJ5dGVzKTtcbiAgICBjb25zdCBuZXdQZGZEb2MgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKG5ld1BkZkJ5dGVzKTtcblxuICAgIGNvbnN0IGNvcGllZFBhZ2VJbmRpY2VzID0gYXdhaXQgcGRmRG9jLmNvcHlQYWdlcyhuZXdQZGZEb2MsIG5ld1BkZkRvYy5nZXRQYWdlSW5kaWNlcygpKTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcGllZFBhZ2VJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBkZkRvYy5pbnNlcnRQYWdlKGluZGV4ICsgaSwgY29waWVkUGFnZUluZGljZXNbaV0pO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBmaW5hbFBkZkJ5dGVzID0gYXdhaXQgcGRmRG9jLnNhdmUoKTtcbiAgICBjb25zdCBuZXdQZGZGaWxlID0gbmV3IEZpbGUoW2ZpbmFsUGRmQnl0ZXNdLCBwZGZGaWxlLm5hbWUsIHsgdHlwZTogJ2FwcGxpY2F0aW9uL3BkZicgfSk7XG4gICAgXG4gICAgY29uc3QgbmV3Um90YXRpb25zOiB7IFtrZXk6IG51bWJlcl06IG51bWJlciB9ID0ge307XG4gICAgY29uc3QgbnVtSW5zZXJ0ZWRQYWdlcyA9IG5ld1BkZkRvYy5nZXRQYWdlQ291bnQoKTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VOdW1TdHIgaW4gcm90YXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW0gPSBwYXJzZUludChwYWdlTnVtU3RyLCAxMCk7XG4gICAgICAgIGlmIChwYWdlTnVtIDw9IGluZGV4KSB7XG4gICAgICAgICAgICBuZXdSb3RhdGlvbnNbcGFnZU51bV0gPSByb3RhdGlvbnNbcGFnZU51bV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdSb3RhdGlvbnNbcGFnZU51bSArIG51bUluc2VydGVkUGFnZXNdID0gcm90YXRpb25zW3BhZ2VOdW1dO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFJvdGF0aW9ucyhuZXdSb3RhdGlvbnMpO1xuICAgIHNldFBkZkZpbGUobmV3UGRmRmlsZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5zZXJ0QmxhbmtQYWdlID0gYXN5bmMgKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXBkZkZpbGUpIHJldHVybjtcblxuICAgIGNvbnN0IGV4aXN0aW5nUGRmQnl0ZXMgPSBhd2FpdCBwZGZGaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgY29uc3QgcGRmRG9jID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChleGlzdGluZ1BkZkJ5dGVzKTtcblxuICAgIGxldCBwYWdlU2l6ZTogW251bWJlciwgbnVtYmVyXSA9IFs1OTUuMjgsIDg0MS44OV07XG4gICAgaWYgKGluZGV4ID4gMCAmJiBpbmRleCA8PSBwZGZEb2MuZ2V0UGFnZUNvdW50KCkpIHtcbiAgICAgICAgY29uc3QgcHJldlBhZ2UgPSBwZGZEb2MuZ2V0UGFnZShpbmRleCAtIDEpO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHByZXZQYWdlLmdldFNpemUoKTtcbiAgICAgICAgcGFnZVNpemUgPSBbd2lkdGgsIGhlaWdodF07XG4gICAgfVxuXG4gICAgcGRmRG9jLmluc2VydFBhZ2UoaW5kZXgsIHBhZ2VTaXplKTtcblxuICAgIGNvbnN0IGZpbmFsUGRmQnl0ZXMgPSBhd2FpdCBwZGZEb2Muc2F2ZSgpO1xuICAgIGNvbnN0IG5ld1BkZkZpbGUgPSBuZXcgRmlsZShbZmluYWxQZGZCeXRlc10sIHBkZkZpbGUubmFtZSwgeyB0eXBlOiAnYXBwbGljYXRpb24vcGRmJyB9KTtcblxuICAgIGNvbnN0IG5ld1JvdGF0aW9uczogeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfSA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFnZU51bVN0ciBpbiByb3RhdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGFnZU51bSA9IHBhcnNlSW50KHBhZ2VOdW1TdHIsIDEwKTtcbiAgICAgICAgaWYgKHBhZ2VOdW0gPD0gaW5kZXgpIHtcbiAgICAgICAgICAgIG5ld1JvdGF0aW9uc1twYWdlTnVtXSA9IHJvdGF0aW9uc1twYWdlTnVtXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1JvdGF0aW9uc1twYWdlTnVtICsgMV0gPSByb3RhdGlvbnNbcGFnZU51bV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Um90YXRpb25zKG5ld1JvdGF0aW9ucyk7XG4gICAgc2V0UGRmRmlsZShuZXdQZGZGaWxlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW9yZGVyUGFnZXMgPSBhc3luYyAob2xkSW5kZXg6IG51bWJlciwgbmV3SW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICghcGRmRmlsZSB8fCBvbGRJbmRleCA9PT0gbmV3SW5kZXgpIHJldHVybjtcbiAgXG4gICAgY29uc3QgZXhpc3RpbmdQZGZCeXRlcyA9IGF3YWl0IHBkZkZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBwZGZEb2MgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKGV4aXN0aW5nUGRmQnl0ZXMpO1xuICBcbiAgICBjb25zdCBbbW92ZWRQYWdlXSA9IGF3YWl0IHBkZkRvYy5jb3B5UGFnZXMocGRmRG9jLCBbb2xkSW5kZXhdKTtcbiAgICBwZGZEb2MucmVtb3ZlUGFnZShvbGRJbmRleCk7XG4gICAgcGRmRG9jLmluc2VydFBhZ2UobmV3SW5kZXgsIG1vdmVkUGFnZSk7XG4gIFxuICAgIGNvbnN0IGZpbmFsUGRmQnl0ZXMgPSBhd2FpdCBwZGZEb2Muc2F2ZSgpO1xuICAgIGNvbnN0IG5ld1BkZkZpbGUgPSBuZXcgRmlsZShbZmluYWxQZGZCeXRlc10sIHBkZkZpbGUubmFtZSwgeyB0eXBlOiAnYXBwbGljYXRpb24vcGRmJyB9KTtcbiAgICBcbiAgICBzZXRQZGZGaWxlKG5ld1BkZkZpbGUpO1xuICB9O1xuICBcbiAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICBpZiAoIXBkZkZpbGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwLTEwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yXCI+6ZaL5aeL57eo6Lyv5oKo55qEIFBERjwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNFwiPuW+nuaCqOeahOmbu+iFpuS4iuWCs+S4gOWAi+aqlOahiO+8jOWNs+WPr+mWi+Wni+OAgjwvcD5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5LzkwIHJvdW5kZWQtbWQgcHgtNCBweS0yIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICDpgbjmk4fmqpTmoYhcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImFwcGxpY2F0aW9uL3BkZlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfSBjbGFzc05hbWU9XCJoaWRkZW5cIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmlld01vZGUgPT09ICdyZW9yZGVyJykge1xuICAgICAgcmV0dXJuIDxSZW9yZGVyVmlldyB0aHVtYm5haWxzPXt0aHVtYm5haWxzfSBvblJlb3JkZXI9e2hhbmRsZVJlb3JkZXJQYWdlc30gLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaC1mdWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bMjAlXSBmbGV4LXNocmluay0wIGJnLWNhcmQgYm9yZGVyLXIgaC1mdWxsXCI+XG4gICAgICAgICAgPFNpZGViYXJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlPXtjdXJyZW50UGFnZX1cbiAgICAgICAgICAgIG9uUGFnZUNsaWNrPXtoYW5kbGVQYWdlU2VsZWN0fVxuICAgICAgICAgICAgb25JbnNlcnRQZGY9e2hhbmRsZUluc2VydFBkZn1cbiAgICAgICAgICAgIG9uSW5zZXJ0QmxhbmtQYWdlPXtoYW5kbGVJbnNlcnRCbGFua1BhZ2V9XG4gICAgICAgICAgICB0aHVtYm5haWxzPXt0aHVtYm5haWxzfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmdUaHVtYm5haWxzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBmbGV4IGZsZXgtY29sIHJlbGF0aXZlIGgtZnVsbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IGJnLWJhY2tncm91bmQgc2hhZG93LWlubmVyIGgtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxQZGZDYW52YXNcbiAgICAgICAgICAgICAgcGRmRmlsZT17cGRmRmlsZX1cbiAgICAgICAgICAgICAgb25Ub3RhbFBhZ2VzPXtzZXRUb3RhbFBhZ2VzfVxuICAgICAgICAgICAgICBvbkN1cnJlbnRQYWdlQ2hhbmdlPXtzZXRDdXJyZW50UGFnZX1cbiAgICAgICAgICAgICAgem9vbT17em9vbX1cbiAgICAgICAgICAgICAgcm90YXRpb25zPXtyb3RhdGlvbnN9XG4gICAgICAgICAgICAgIHNjcm9sbFRvUGFnZT17c2Nyb2xsVG9QYWdlfVxuICAgICAgICAgICAgICBvblNjcm9sbENvbXBsZXRlPXtoYW5kbGVTY3JvbGxDb21wbGV0ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3BkZkZpbGUgJiYgKFxuICAgICAgICAgICAgPEZsb2F0aW5nVG9vbGJhclxuICAgICAgICAgICAgICB6b29tPXt6b29tfVxuICAgICAgICAgICAgICBvblpvb21DaGFuZ2U9e3NldFpvb219XG4gICAgICAgICAgICAgIG9uUm90YXRlPXtoYW5kbGVSb3RhdGV9XG4gICAgICAgICAgICAgIG9uRGVsZXRlPXtoYW5kbGVEZWxldGVQYWdlfVxuICAgICAgICAgICAgICBjYW5EZWxldGU9e3RvdGFsUGFnZXMgPiAxfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGZsZXgtY29sIGJnLW11dGVkLzQwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWNhcmQgYm9yZGVyLWIgcC0yXCI+XG4gICAgICAgIDxUb29sYmFyIFxuICAgICAgICAgIG9uRG93bmxvYWQ9e2hhbmRsZURvd25sb2FkfVxuICAgICAgICAgIHZpZXdNb2RlPXt2aWV3TW9kZX1cbiAgICAgICAgICBzZXRWaWV3TW9kZT17c2V0Vmlld01vZGV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICB7cmVuZGVyQ29udGVudCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQZGZFZGl0b3I7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiUERGRG9jdW1lbnQiLCJQZGZDYW52YXMiLCJTaWRlYmFyIiwiVG9vbGJhciIsIkZsb2F0aW5nVG9vbGJhciIsIlJlb3JkZXJWaWV3IiwiUGRmRWRpdG9yIiwicGRmRmlsZSIsInNldFBkZkZpbGUiLCJ0b3RhbFBhZ2VzIiwic2V0VG90YWxQYWdlcyIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJ6b29tIiwic2V0Wm9vbSIsInJvdGF0aW9ucyIsInNldFJvdGF0aW9ucyIsInNjcm9sbFRvUGFnZSIsInNldFNjcm9sbFRvUGFnZSIsInZpZXdNb2RlIiwic2V0Vmlld01vZGUiLCJ0aHVtYm5haWxzIiwic2V0VGh1bWJuYWlscyIsImlzTG9hZGluZ1RodW1ibmFpbHMiLCJzZXRJc0xvYWRpbmdUaHVtYm5haWxzIiwiZ2VuZXJhdGVUaHVtYm5haWxzIiwiZmlsZSIsImRhdGEiLCJhcnJheUJ1ZmZlciIsInBkZmpzTGliIiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsIndvcmtlclNyYyIsInZlcnNpb24iLCJwZGYiLCJnZXREb2N1bWVudCIsInByb21pc2UiLCJ0aHVtYnMiLCJpIiwibnVtUGFnZXMiLCJwYWdlIiwiZ2V0UGFnZSIsInBhZ2VSb3RhdGlvbnMiLCJvcmlnaW5hbFZpZXdwb3J0IiwiZ2V0Vmlld3BvcnQiLCJzY2FsZSIsImZpeGVkV2lkdGgiLCJ2aWV3cG9ydCIsIndpZHRoIiwicm90YXRpb24iLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiaGVpZ2h0IiwicmVuZGVyIiwiY2FudmFzQ29udGV4dCIsInB1c2giLCJ0b0RhdGFVUkwiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVGaWxlQ2hhbmdlIiwiZSIsInRhcmdldCIsImZpbGVzIiwiaGFuZGxlRG93bmxvYWQiLCJleGlzdGluZ1BkZkJ5dGVzIiwicGRmRG9jIiwibG9hZCIsIm5ld1BkZkRvYyIsImNyZWF0ZSIsInBhZ2VJbmRpY2VzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiZ2V0UGFnZUNvdW50IiwiXyIsInBhZ2VJbmRleCIsImNvcGllZFBhZ2UiLCJjb3B5UGFnZXMiLCJzZXRSb3RhdGlvbiIsImFkZFBhZ2UiLCJuZXdQZGZCeXRlcyIsInNhdmUiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiaHJlZiIsImRvd25sb2FkIiwibmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJoYW5kbGVSb3RhdGUiLCJkaXJlY3Rpb24iLCJhbW91bnQiLCJwcmV2IiwiY3VycmVudFJvdGF0aW9uIiwibmV3Um90YXRpb24iLCJuZXdSb3RhdGlvbnMiLCJyZWdlbmVyYXRlU2luZ2xlVGh1bWJuYWlsIiwicGFnZU51bSIsImN1cnJlbnRSb3RhdGlvbnMiLCJuZXdUaHVtYkRhdGFVcmwiLCJuZXdUaHVtYnMiLCJoYW5kbGVEZWxldGVQYWdlIiwib3JpZ2luYWxOYW1lIiwiZGVsZXRlZFBhZ2VOdW0iLCJyZW1vdmVQYWdlIiwibmV3UGRmRmlsZSIsIkZpbGUiLCJuZXdUb3RhbFBhZ2VzIiwib2xkUGFnZU51bSIsImhhbmRsZVBhZ2VTZWxlY3QiLCJwYWdlTnVtYmVyIiwiaGFuZGxlU2Nyb2xsQ29tcGxldGUiLCJoYW5kbGVJbnNlcnRQZGYiLCJmaWxlVG9JbnNlcnQiLCJpbmRleCIsImNvcGllZFBhZ2VJbmRpY2VzIiwiZ2V0UGFnZUluZGljZXMiLCJpbnNlcnRQYWdlIiwiZmluYWxQZGZCeXRlcyIsIm51bUluc2VydGVkUGFnZXMiLCJwYWdlTnVtU3RyIiwicGFyc2VJbnQiLCJoYW5kbGVJbnNlcnRCbGFua1BhZ2UiLCJwYWdlU2l6ZSIsInByZXZQYWdlIiwiZ2V0U2l6ZSIsImhhbmRsZVJlb3JkZXJQYWdlcyIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJtb3ZlZFBhZ2UiLCJyZW5kZXJDb250ZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJwIiwibGFiZWwiLCJpbnB1dCIsImFjY2VwdCIsIm9uQ2hhbmdlIiwib25SZW9yZGVyIiwib25QYWdlQ2xpY2siLCJvbkluc2VydFBkZiIsIm9uSW5zZXJ0QmxhbmtQYWdlIiwiaXNMb2FkaW5nIiwib25Ub3RhbFBhZ2VzIiwib25DdXJyZW50UGFnZUNoYW5nZSIsIm9uU2Nyb2xsQ29tcGxldGUiLCJvblpvb21DaGFuZ2UiLCJvblJvdGF0ZSIsIm9uRGVsZXRlIiwiY2FuRGVsZXRlIiwib25Eb3dubG9hZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/edit-pdf/components/PdfEditor.tsx\n"));

/***/ })

});