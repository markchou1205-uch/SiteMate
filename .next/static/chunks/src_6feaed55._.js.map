{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,yMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,qKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,wKAAA,CAAA,OAAuB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,wKAAA,CAAA,UAA0B;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,UAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,qKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 884, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 957, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,oXACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzC,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/toggle-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAGA;AACA;;;AAPA;;;;;AASA,MAAM,mCAAqB,CAAA,GAAA,6JAAA,CAAA,gBAAmB,AAAD,EAE3C;IACA,MAAM;IACN,SAAS;AACX;AAEA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAIjC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACnD,6LAAC,8KAAA,CAAA,OAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;kBAET,cAAA,6LAAC,mBAAmB,QAAQ;YAAC,OAAO;gBAAE;gBAAS;YAAK;sBACjD;;;;;;;;;;;;AAIP,YAAY,WAAW,GAAG,8KAAA,CAAA,OAAyB,CAAC,WAAW;AAE/D,MAAM,gCAAkB,GAAA,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,WAIrC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;;IACnD,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAAE;IAEjC,qBACE,6LAAC,8KAAA,CAAA,OAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;YACb,SAAS,QAAQ,OAAO,IAAI;YAC5B,MAAM,QAAQ,IAAI,IAAI;QACxB,IACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;;AACA,gBAAgB,WAAW,GAAG,8KAAA,CAAA,OAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["\nimport { initializeApp, getApps, getApp, type FirebaseApp } from 'firebase/app';\nimport { getStorage } from 'firebase/storage';\nimport { getFunctions } from 'firebase/functions';\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\nconsole.log(\"[firebase.ts] Client-side Firebase Config being used for initializeApp:\", JSON.stringify(firebaseConfig));\n\n// Check if all config values are present (basic check)\nconst allConfigValuesPresent = Object.values(firebaseConfig).every(value => value && typeof value === 'string' && value.trim() !== '' && value !== 'undefined');\nconsole.log(\"[firebase.ts] All config values present for initializeApp check (value !== 'undefined'):\", allConfigValuesPresent);\n\n\nlet app: FirebaseApp | undefined; // app can be undefined if config is not complete\nif (allConfigValuesPresent) {\n  if (!getApps().length) {\n    try {\n      app = initializeApp(firebaseConfig);\n      console.log(\"[firebase.ts] Firebase app initialized successfully.\");\n    } catch (error) {\n      console.error(\"[firebase.ts] Error initializing Firebase app:\", error);\n      // app will remain undefined\n    }\n  } else {\n    app = getApp();\n    console.log(\"[firebase.ts] Firebase app already initialized, getting existing app.\");\n  }\n} else {\n  console.warn(\"[firebase.ts] Firebase config incomplete based on direct process.env values. Firebase app NOT initialized. Check NEXT_PUBLIC_ environment variables. Values received:\", JSON.stringify({\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  }));\n}\n\nconst storage = app ? getStorage(app) : undefined; // Only get storage if app is initialized\nconst functions = app ? getFunctions(app) : undefined; // Only get functions if app is initialized\n\nexport { app, storage, functions };\n"],"names":[],"mappings":";;;;;AAMU;AALV;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,QAAQ,GAAG,CAAC,2EAA2E,KAAK,SAAS,CAAC;AAEtG,uDAAuD;AACvD,MAAM,yBAAyB,OAAO,MAAM,CAAC,gBAAgB,KAAK,CAAC,CAAA,QAAS,SAAS,OAAO,UAAU,YAAY,MAAM,IAAI,OAAO,MAAM,UAAU;AACnJ,QAAQ,GAAG,CAAC,4FAA4F;AAGxG,IAAI,KAA8B,iDAAiD;AACnF,IAAI,wBAAwB;IAC1B,IAAI,CAAC,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;QACrB,IAAI;YACF,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;YACpB,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kDAAkD;QAChE,4BAA4B;QAC9B;IACF,OAAO;QACL,MAAM,CAAA,GAAA,uLAAA,CAAA,SAAM,AAAD;QACX,QAAQ,GAAG,CAAC;IACd;AACF,OAAO;IACL,QAAQ,IAAI,CAAC,yKAAyK,KAAK,SAAS,CAAC;QACnM,MAAM;QACN,UAAU;QACV,SAAS;QACT,aAAa;QACb,iBAAiB;QACjB,KAAK;IACP;AACF;AAEA,MAAM,UAAU,MAAM,CAAA,GAAA,oKAAA,CAAA,aAAU,AAAD,EAAE,OAAO,WAAW,yCAAyC;AAC5F,MAAM,YAAY,MAAM,CAAA,GAAA,6KAAA,CAAA,eAAY,AAAD,EAAE,OAAO,WAAW,2CAA2C","debugId":null}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState, useEffect, useRef, useCallback, useLayoutEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport type { PDFDocumentProxy as PDFDocumentProxyType } from 'pdfjs-dist';\nimport { PDFDocument as PDFLibDocument, StandardFonts, rgb, degrees, grayscale, pushGraphicsState, popGraphicsState, setOpacity, layoutMultilineText, PDFFont, BlendMode } from 'pdf-lib';\nimport Sortable from 'sortablejs';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader as ShadAlertDialogHeader, AlertDialogTitle as ShadAlertDialogTitle } from \"@/components/ui/alert-dialog\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, RotateCcw, RotateCw, X, Trash2, Download, Upload, Info, Shuffle, Search, Edit3, Droplet, LogIn, LogOut, UserCircle, FileText, FileType, FileDigit, Lock, MenuSquare, Columns, ShieldCheck, FilePlus, ListOrdered, Move, CheckSquare, Image as ImageIcon, Minimize2, Palette, FontSize, Eye, Scissors, LayoutGrid, PanelLeft, FilePlus2, Combine, Type, ImagePlus, Link as LinkIcon, MessageSquarePlus, ZoomIn, ZoomOut, Expand, Bold, Italic, Underline, AlignLeft, AlignCenter, AlignRight, Highlighter } from 'lucide-react';\nimport { Slider } from \"@/components/ui/slider\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\";\nimport { Toggle } from \"@/components/ui/toggle\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\n\nimport { storage, functions as firebaseFunctions, app as firebaseApp } from '@/lib/firebase'; // Firebase SDK\nimport { ref as storageRef, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { cn } from '@/lib/utils';\n\n\nif (typeof window !== 'undefined') {\n  pdfjsLib.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\n}\n\ninterface PageObject {\n  id: string;\n  sourceCanvas: HTMLCanvasElement;\n  rotation: number; // 0, 90, 180, 270\n}\n\ninterface LinkAnnotationDef {\n  type: 'url' | 'page';\n  value: string; // URL string or page number as a string\n}\n\ninterface TextAnnotation {\n  id: string;\n  pageIndex: number;\n  text: string;\n  topRatio: number;\n  leftRatio: number;\n  widthRatio: number;\n  fontSize: number;\n  fontFamily: string;\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n  color: string;\n  textAlign: 'left' | 'center' | 'right';\n  link?: LinkAnnotationDef;\n}\n\ninterface ImageAnnotation {\n    id: string;\n    pageIndex: number;\n    dataUrl: string;\n    topRatio: number;\n    leftRatio: number;\n    widthRatio: number;\n    heightRatio: number;\n    aspectRatio: number;\n    link?: LinkAnnotationDef;\n}\n\ninterface HighlightAnnotation {\n  id: string;\n  pageIndex: number;\n  topRatio: number;\n  leftRatio: number;\n  widthRatio: number;\n  heightRatio: number;\n  color: string;\n}\n\nconst translations = {\n    en: {\n        pageTitle: 'DocuPilot',\n        uploadLabel: 'Select PDF file to edit:',\n        deletePages: 'Delete Selected Pages',\n        splitPages: 'Split Selected',\n        downloadPdf: 'Download Edited PDF',\n        downloadTxt: 'Download as TXT',\n        convertToWord: 'Convert to Word',\n        convertingToWord: 'Converting to Word...',\n        insertAreaTitle: 'Select PDF to Insert',\n        insertOptionsTitle: 'Insertion Options',\n        insertBeforeLabel: 'Insert before selected page',\n        insertAfterLabel: 'Insert after selected page',\n        instSelect: 'Click page to select/deselect.',\n        instDrag: 'Drag pages to reorder.',\n        instZoom: 'Use mouse wheel to zoom.',\n        modalCloseButton: 'Close',\n        rotateLeft: 'Rotate Left 90',\n        rotateRight: 'Rotate Right 90',\n        resetRotation: 'Reset Rotation &amp; Zoom',\n        generatingFile: 'Generating file, please wait',\n        extractingText: 'Extracting text, please wait...',\n        loadError: 'Failed to load PDF',\n        downloadError: 'Failed to download PDF',\n        splitPdfSuccess: 'Split PDF downloaded successfully!',\n        splitPdfError: 'Failed to split PDF',\n        txtDownloadError: 'Failed to download TXT',\n        wordConvertError: 'Failed to convert to Word',\n        pdfCoMethodNotFoundError: 'PDF.co Error: \"Method Not Found\" or API key issue. Please verify your PDF.co API Key is correct and the API endpoint in the Cloud Function is valid. Check PDF.co documentation.',\n        wordConvertLimitTitle: 'Conversion Limit Reached',\n        wordConvertLimitDescription: 'Guests can convert one PDF to Word per day. Please log in for unlimited conversions.',\n        wordConvertSuccess: 'Conversion successful!',\n        downloadWordFile: 'Click here to download Word file',\n        insertError: 'Failed to insert PDF',\n        insertConfirmTitle: 'Confirm Insert Position',\n        insertConfirmDescription: 'No page is selected. The new PDF will be inserted at the end of the current document. Continue?',\n        confirm: 'Confirm',\n        cancel: 'Cancel',\n        noteInputPlaceholder: 'Add a temporary note (not saved in PDF)',\n        pageManagement: 'Page Management',\n        fileOperations: 'File Operations',\n        watermarkSectionTitle: 'Watermark',\n        watermarkInputPlaceholder: 'Enter watermark text',\n        watermarkFontSizeLabel: 'Font Size',\n        watermarkColorLabel: 'Color',\n        watermarkOpacityLabel: 'Opacity',\n        watermarkTypeLabel: 'Watermark Type',\n        watermarkTypeText: 'Text',\n        watermarkTypeImage: 'Image',\n        watermarkImageLabel: 'Select Image',\n        watermarkPreviewButton: 'Preview &amp; Position Watermark',\n        watermarkPreviewModalTitle: 'Preview &amp; Position Watermark',\n        watermarkPreviewInfo: 'Drag watermark to desired position. Adjust style below. This position will be applied to all pages.',\n        watermarkConfirmPosition: 'Confirm Position &amp; Style',\n        noPdfForWatermarkPreview: 'Upload a PDF to preview watermark.',\n        pageNumberingSectionTitle: 'Page Numbering',\n        enablePageNumbering: 'Enable Page Numbering',\n        pageNumberPosition: 'Position',\n        pageNumberStart: 'Start Number',\n        pageNumberMargin: 'Margin (pt)',\n        pageNumberFormat: 'Format ({page}, {total})',\n        pageNumberFormatPlaceholder: '{page} / {total}',\n        protectPdfSectionTitle: 'Protect PDF',\n        enablePdfProtection: 'Enable PDF Protection',\n        pdfPassword: 'Password',\n        pdfPasswordPlaceholder: 'Enter password',\n        page: 'Page',\n        uploadPdfFirstShort: 'Upload a PDF to start editing.',\n        uploadPdfFirst: 'Please upload a PDF first to enable editing features.',\n        noPagesToDownload: 'No pages to download.',\n        noPdfToExtractText: 'No PDF loaded to extract text from.',\n        noPdfToConvert: 'No PDF loaded to convert.',\n        noPageSelected: 'No page selected.',\n        loadingPdf: 'Loading PDF...',\n        insertingPdf: 'Inserting PDF...',\n        previewOf: 'Preview of Page',\n        dropFileHere: 'Drop PDF file here or click to upload',\n        dropInsertFileHere: 'Drop PDF here or click to select for insertion',\n        downloadLimitTitle: 'Download Limit Reached',\n        downloadLimitDescription: 'You have reached your daily download limit (3 downloads). Please log in or upgrade for unlimited downloads.',\n        loggedInAs: 'Logged in as User',\n        login: 'Login',\n        logout: 'Logout',\n        guest: 'Guest',\n        firebaseNotConfigured: `Firebase Frontend SDK is not fully configured. Please ensure all Firebase environment variables (%MISSING_KEYS%) are correctly set and propagated to the client. This might require checking build logs or App Hosting settings.`,\n        firebaseSdkInitError: \"Firebase SDK could not be initialized properly (services like Storage or Functions might be unavailable). 'Convert to Word' and other Firebase features might be disabled. Check browser console for details from firebase.ts.\",\n        zoomDialogDescription: 'View a larger preview of the selected page. You can rotate the page here. Use mouse wheel to zoom.',\n        bottomLeft: 'Bottom Left',\n        bottomCenter: 'Bottom Center',\n        bottomRight: 'Bottom Right',\n        middleLeft: 'Middle Left',\n        middleRight: 'Middle Right',\n        topLeft: 'Top Left',\n        topCenter: 'Top Center',\n        topRight: 'Top Right',\n        pdfEditingTools: 'PDF Tools',\n        downloadAndConvertTitle: 'Download &amp; Convert',\n        startEditingYourPdf: 'Start Editing Your PDF',\n        pagesLoaded: 'page(s) loaded',\n        pageSelectedSuffix: 'selected',\n        featureEdit: 'Edit',\n        featureMerge: 'Merge',\n        featurePageNum: 'Page #',\n        featureProtect: 'Protect',\n        featureConvert: 'Convert',\n        accordionDocEnhanceProtect: 'Document Enhancements &amp; Protection',\n        imageToPdfTitle: 'Image to PDF',\n        selectImagesLabel: 'Select image(s):',\n        dropImagesHere: 'Drop image(s) here or click to upload',\n        convertToPdfButton: 'Convert to PDF',\n        generatingPdfFromImages: 'Generating PDF from images...',\n        imageToPdfSuccess: 'PDF generated from images successfully!',\n        imageToPdfError: 'Error generating PDF from images',\n        noImagesSelected: 'No images selected to convert.',\n        pdfCompressionTitle: 'PDF Compression',\n        selectPdfToCompressLabel: 'Select PDF to compress:',\n        dropPdfToCompressHere: 'Drop PDF here or click to select for compression',\n        compressPdfButton: 'Compress PDF',\n        compressingPdf: 'Compressing PDF...',\n        pdfCompressionSuccess: 'PDF processed successfully!',\n        pdfCompressionError: 'Error processing PDF',\n        pdfCompressionNote: 'Note: This uses pdf-lib to re-save the PDF. File size reduction varies. useObjectStreams:false is applied.',\n        comingSoon: 'Coming Soon!',\n        featureNotImplemented: 'feature is not yet implemented.',\n        editorMode: 'Editor Mode',\n        gridMode: 'Grid Mode',\n        deletePageConfirmTitle: 'Delete Page?',\n        deletePageConfirmDescription: 'Are you sure you want to delete this page? This action cannot be undone.',\n        toolRotate: 'Rotate',\n        toolDelete: 'Delete',\n        toolAddBlank: 'Add Blank',\n        toolMerge: 'Merge',\n        toolSplit: 'Split',\n        toolWatermark: 'Watermark',\n        toolInsertText: 'Insert Text',\n        toolInsertImage: 'Insert Image',\n        toolHighlight: 'Highlight',\n        toolInsertLink: 'Insert Link',\n        toolInsertComment: 'Comment',\n        zoomIn: 'Zoom In',\n        zoomOut: 'Zoom Out',\n        fitToWidth: 'Fit to Width',\n        fitToPage: 'Fit to Page',\n        textAnnotationSample: 'Sample Text',\n        noImageForInsertion: 'No image selected for insertion.',\n        imageInsertSuccess: 'Image inserted successfully.',\n        imageInsertError: 'Error inserting image.',\n        imagePasteSuccess: 'Image pasted successfully.',\n        linkSetUrl: 'Link to URL',\n        linkSetPage: 'Link to Page',\n        linkEnterUrl: 'Enter URL',\n        linkEnterPage: 'Enter Page Number',\n        linkSave: 'Save Link',\n        linkRemove: 'Remove Link',\n        linkEditTitle: 'Edit Link',\n        linkAttached: 'Link attached',\n        linkRemoved: 'Link removed',\n    },\n    zh: {\n        pageTitle: 'DocuPilot ',\n        uploadLabel: ' PDF ',\n        deletePages: '',\n        splitPages: '',\n        downloadPdf: ' PDF',\n        downloadTxt: ' TXT ',\n        convertToWord: ' Word',\n        convertingToWord: ' Word...',\n        insertAreaTitle: ' PDF',\n        insertOptionsTitle: '',\n        insertBeforeLabel: '',\n        insertAfterLabel: '',\n        instSelect: '/',\n        instDrag: '',\n        instZoom: '',\n        modalCloseButton: '',\n        rotateLeft: '90',\n        rotateRight: '90',\n        resetRotation: '',\n        generatingFile: '',\n        extractingText: '...',\n        loadError: ' PDF ',\n        downloadError: ' PDF ',\n        splitPdfSuccess: 'PDF ',\n        splitPdfError: ' PDF ',\n        txtDownloadError: ' TXT ',\n        wordConvertError: ' Word ',\n        pdfCoMethodNotFoundError: 'PDF.co  API  PDF.co API  Cloud Function  API  PDF.co ',\n        wordConvertLimitTitle: '',\n        wordConvertLimitDescription: ' PDF  Word',\n        wordConvertSuccess: '',\n        downloadWordFile: ' Word ',\n        insertError: ' PDF ',\n        insertConfirmTitle: '',\n        insertConfirmDescription: ' PDF ',\n        confirm: '',\n        cancel: '',\n        noteInputPlaceholder: ' PDF',\n        pageManagement: '',\n        fileOperations: '',\n        watermarkSectionTitle: 'Watermark',\n        watermarkInputPlaceholder: '',\n        watermarkFontSizeLabel: '',\n        watermarkColorLabel: '',\n        watermarkOpacityLabel: '',\n        watermarkTypeLabel: '',\n        watermarkTypeText: '',\n        watermarkTypeImage: '',\n        watermarkImageLabel: '',\n        watermarkPreviewButton: '',\n        watermarkPreviewModalTitle: '',\n        watermarkPreviewInfo: '',\n        watermarkConfirmPosition: '',\n        noPdfForWatermarkPreview: ' PDF ',\n        pageNumberingSectionTitle: '',\n        enablePageNumbering: '',\n        pageNumberPosition: '',\n        pageNumberStart: '',\n        pageNumberMargin: ' (pt)',\n        pageNumberFormat: ' ({page}, {total})',\n        pageNumberFormatPlaceholder: '{page} / {total}',\n        protectPdfSectionTitle: ' PDF',\n        enablePdfProtection: ' PDF ',\n        pdfPassword: '',\n        pdfPasswordPlaceholder: '',\n        page: '',\n        uploadPdfFirstShort: ' PDF ',\n        uploadPdfFirst: ' PDF ',\n        noPagesToDownload: '',\n        noPdfToExtractText: ' PDF ',\n        noPdfToConvert: ' PDF ',\n        noPageSelected: '',\n        loadingPdf: ' PDF...',\n        insertingPdf: ' PDF...',\n        previewOf: '',\n        dropFileHere: ' PDF ',\n        dropInsertFileHere: ' PDF ',\n        downloadLimitTitle: '',\n        downloadLimitDescription: '3',\n        loggedInAs: '',\n        login: '',\n        logout: '',\n        guest: '',\n        firebaseNotConfigured: `Firebase  SDK  Firebase  (NEXT_PUBLIC_FIREBASE_API_KEY )  .env %MISSING_KEYS%`,\n        firebaseSdkInitError: \"Firebase SDK  (Storage  Functions )' Word'  Firebase  firebase.ts \",\n        zoomDialogDescription: '',\n        bottomLeft: '',\n        bottomCenter: '',\n        bottomRight: '',\n        middleLeft: '',\n        middleRight: '',\n        topLeft: '',\n        topCenter: '',\n        topRight: '',\n        pdfEditingTools: 'PDF ',\n        downloadAndConvertTitle: '',\n        startEditingYourPdf: ' PDF',\n        pagesLoaded: '',\n        pageSelectedSuffix: '',\n        featureEdit: '',\n        featureMerge: '',\n        featurePageNum: '',\n        featureProtect: '',\n        featureConvert: '',\n        accordionDocEnhanceProtect: '',\n        imageToPdfTitle: ' PDF',\n        selectImagesLabel: '',\n        dropImagesHere: '',\n        convertToPdfButton: ' PDF',\n        generatingPdfFromImages: ' PDF...',\n        imageToPdfSuccess: ' PDF ',\n        imageToPdfError: ' PDF ',\n        noImagesSelected: '',\n        pdfCompressionTitle: 'PDF ',\n        selectPdfToCompressLabel: ' PDF',\n        dropPdfToCompressHere: ' PDF ',\n        compressPdfButton: ' PDF',\n        compressingPdf: ' PDF...',\n        pdfCompressionSuccess: 'PDF ',\n        pdfCompressionError: ' PDF ',\n        pdfCompressionNote: ' pdf-lib  PDF useObjectStreams:false',\n        comingSoon: '',\n        featureNotImplemented: '',\n        editorMode: '',\n        gridMode: '',\n        deletePageConfirmTitle: '',\n        deletePageConfirmDescription: '',\n        toolRotate: '',\n        toolDelete: 'Delete',\n        toolAddBlank: '',\n        toolMerge: '',\n        toolSplit: '',\n        toolWatermark: '',\n        toolInsertText: '',\n        toolInsertImage: '',\n        toolHighlight: '',\n        toolInsertLink: '',\n        toolInsertComment: '',\n        zoomIn: '',\n        zoomOut: '',\n        fitToWidth: '',\n        fitToPage: '',\n        textAnnotationSample: '',\n        noImageForInsertion: '',\n        imageInsertSuccess: '',\n        imageInsertError: '',\n        imagePasteSuccess: '',\n        linkSetUrl: '',\n        linkSetPage: '',\n        linkEnterUrl: '',\n        linkEnterPage: '',\n        linkSave: '',\n        linkRemove: '',\n        linkEditTitle: '',\n        linkAttached: '',\n        linkRemoved: '',\n    }\n};\n\nconst DAILY_DOWNLOAD_LIMIT = 3;\nconst DAILY_WORD_CONVERSION_LIMIT = 1;\n\ntype PageNumberPosition = 'bottom-left' | 'bottom-center' | 'bottom-right' | 'top-left' | 'top-center' | 'top-right';\n\nconst pageNumberPositions: {value: PageNumberPosition, labelKey: keyof typeof translations.en}[] = [\n  { value: 'bottom-center', labelKey: 'bottomCenter'},\n  { value: 'bottom-left', labelKey: 'bottomLeft'},\n  { value: 'bottom-right', labelKey: 'bottomRight'},\n  { value: 'top-center', labelKey: 'topCenter'},\n  { value: 'top-left', labelKey: 'topLeft'},\n  { value: 'top-right', labelKey: 'topRight'},\n];\n\ninterface WatermarkConfig {\n  text: string;\n  type: 'text' | 'image';\n  imageUrl: string | null;\n  topRatio: number;\n  leftRatio: number;\n  fontSize: number;\n  color: string;\n  opacity: number;\n}\n\ninterface PagePreviewItemProps {\n  pageObj: PageObject;\n  index: number;\n  isSelected: boolean;\n  onClick: (event: React.MouseEvent) => void;\n  onDoubleClick: () => void;\n  watermarkConfig: WatermarkConfig;\n  texts: typeof translations.en;\n}\n\nconst PagePreviewItem = React.memo(({\n  pageObj, index, isSelected, onClick, onDoubleClick, watermarkConfig, texts\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (canvasRef.current) {\n      const previewDisplayCanvas = canvasRef.current;\n      const previewCtx = previewDisplayCanvas.getContext('2d');\n      if (!previewCtx) return;\n\n      const sourceCanvas = pageObj.sourceCanvas;\n      const rotation = pageObj.rotation;\n      const rad = rotation * Math.PI / 180;\n\n      let rotatedSourceWidth, rotatedSourceHeight;\n      if (rotation % 180 !== 0) {\n        rotatedSourceWidth = sourceCanvas.height;\n        rotatedSourceHeight = sourceCanvas.width;\n      } else {\n        rotatedSourceWidth = sourceCanvas.width;\n        rotatedSourceHeight = sourceCanvas.height;\n      }\n\n      const targetAspectRatio = rotatedSourceWidth / rotatedSourceHeight;\n      const cssDisplayWidth = 120;\n      const cssDisplayHeight = cssDisplayWidth / targetAspectRatio;\n\n      previewDisplayCanvas.width = rotatedSourceWidth;\n      previewDisplayCanvas.height = rotatedSourceHeight;\n\n      previewCtx.save();\n      previewCtx.translate(previewDisplayCanvas.width / 2, previewDisplayCanvas.height / 2);\n      previewCtx.rotate(rad);\n      previewCtx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2, sourceCanvas.width, sourceCanvas.height);\n      previewCtx.restore();\n\n      previewDisplayCanvas.style.width = `${cssDisplayWidth}px`;\n      previewDisplayCanvas.style.height = `${cssDisplayHeight}px`;\n    }\n  }, [pageObj.sourceCanvas, pageObj.rotation]);\n\n\n  const previewWatermarkFontSize = Math.max(6, watermarkConfig.fontSize / (150/15));\n\n  return (\n    <div\n      ref={wrapperRef}\n      className={`page-preview-wrapper p-2 border-2 rounded-lg cursor-pointer transition-all bg-card hover:border-primary ${isSelected ? 'border-primary ring-2 ring-primary' : 'border-transparent'}`}\n      data-id={pageObj.id}\n      data-index={index}\n      onClick={onClick}\n      onDoubleClick={onDoubleClick}\n      style={{ position: 'relative' }}\n    >\n      <canvas ref={canvasRef} className=\"rounded-md shadow-md\" style={{ willReadFrequently: true } as any}></canvas>\n      <div className=\"text-xs text-muted-foreground mt-1 text-center\">\n        {texts.page} {index + 1}\n      </div>\n\n      {watermarkConfig.type === 'text' && watermarkConfig.text && (\n        <div\n          style={{\n            position: 'absolute',\n            top: `${watermarkConfig.topRatio * 100}%`,\n            left: `${watermarkConfig.leftRatio * 100}%`,\n            padding: '1px 3px',\n            backgroundColor: 'rgba(220,220,220,0.1)',\n            border: '1px dashed rgba(150,150,150,0.3)',\n            borderRadius: '2px',\n            whiteSpace: 'nowrap',\n            userSelect: 'none',\n            fontSize: `${previewWatermarkFontSize}px`,\n            color: watermarkConfig.color,\n            opacity: watermarkConfig.opacity,\n            zIndex: 5,\n            pointerEvents: 'none',\n            transform: 'translate(-50%, -50%)',\n          }}\n        >\n          {watermarkConfig.text}\n        </div>\n      )}\n      {watermarkConfig.type === 'image' && watermarkConfig.imageUrl && (\n        <img\n          src={watermarkConfig.imageUrl}\n          alt=\"Watermark Preview\"\n          style={{\n            position: 'absolute',\n            top: `${watermarkConfig.topRatio * 100}%`,\n            left: `${watermarkConfig.leftRatio * 100}%`,\n            opacity: watermarkConfig.opacity,\n            zIndex: 5,\n            pointerEvents: 'none',\n            maxWidth: '30px',\n            maxHeight: '30px',\n            objectFit: 'contain',\n            transform: 'translate(-50%, -50%)',\n          }}\n        />\n      )}\n    </div>\n  );\n});\nPagePreviewItem.displayName = 'PagePreviewItem';\n\nconst ToolbarButton = ({ icon: Icon, label, onClick, disabled = false, popoverContent }: { icon: React.ElementType, label: string, onClick?: () => void, disabled?: boolean, popoverContent?: React.ReactNode }) => {\n    const button = (\n        <Button\n            variant=\"ghost\"\n            className=\"flex flex-col items-center justify-center h-20 w-full text-xs space-y-1\"\n            onClick={onClick}\n            disabled={disabled}\n        >\n            <Icon className=\"h-6 w-6 text-primary\" />\n            <span className=\"text-muted-foreground\">{label}</span>\n        </Button>\n    );\n\n    if (popoverContent) {\n        return (\n            <Popover>\n                <PopoverTrigger asChild disabled={disabled}>{button}</PopoverTrigger>\n                <PopoverContent className=\"w-80\" side=\"left\" align=\"start\">\n                    {popoverContent}\n                </PopoverContent>\n            </Popover>\n        )\n    }\n\n    return button;\n};\n\nconst fonts = [\n  { name: 'Arial', value: 'Helvetica' },\n  { name: 'Times New Roman', value: 'Times-Roman' },\n  { name: 'Courier', value: 'Courier' },\n];\n\nconst fontSizes = [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72];\n\nconst TextAnnotationToolbar = ({ annotation, onAnnotationChange, onDelete }: { annotation: TextAnnotation; onAnnotationChange: (annotation: TextAnnotation) => void; onDelete: (id: string) => void; }) => {\n    return (\n        <div className=\"absolute top-2 left-1/2 -translate-x-1/2 z-50 bg-card p-2 rounded-lg shadow-lg border flex items-center gap-2 animate-in slide-in-from-top-4 duration-300\">\n            <Select value={annotation.fontFamily} onValueChange={(value) => onAnnotationChange({ ...annotation, fontFamily: value })}>\n                <SelectTrigger className=\"w-[120px] h-8 text-xs\">\n                    <SelectValue placeholder=\"Font\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {fonts.map(font => <SelectItem key={font.value} value={font.value} className=\"text-xs\">{font.name}</SelectItem>)}\n                </SelectContent>\n            </Select>\n            <Select value={String(annotation.fontSize)} onValueChange={(value) => onAnnotationChange({ ...annotation, fontSize: Number(value) })}>\n                <SelectTrigger className=\"w-[60px] h-8 text-xs\">\n                    <SelectValue placeholder=\"Size\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {fontSizes.map(size => <SelectItem key={size} value={String(size)} className=\"text-xs\">{size}</SelectItem>)}\n                </SelectContent>\n            </Select>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Toggle pressed={annotation.bold} onPressedChange={(pressed) => onAnnotationChange({ ...annotation, bold: pressed })}>\n                <Bold className=\"h-4 w-4\" />\n            </Toggle>\n            <Toggle pressed={annotation.italic} onPressedChange={(pressed) => onAnnotationChange({ ...annotation, italic: pressed })}>\n                <Italic className=\"h-4 w-4\" />\n            </Toggle>\n            <Toggle pressed={annotation.underline} onPressedChange={(pressed) => onAnnotationChange({ ...annotation, underline: pressed })}>\n                <Underline className=\"h-4 w-4\" />\n            </Toggle>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Popover>\n                <PopoverTrigger asChild>\n                    <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\">\n                        <div className=\"w-4 h-4 rounded-full\" style={{ backgroundColor: annotation.color }} />\n                    </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\">\n                    <Input type=\"color\" value={annotation.color} onChange={(e) => onAnnotationChange({ ...annotation, color: e.target.value })} className=\"w-full h-10 p-1 border-0\" />\n                </PopoverContent>\n            </Popover>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <ToggleGroup type=\"single\" value={annotation.textAlign} onValueChange={(value: TextAnnotation['textAlign']) => value && onAnnotationChange({ ...annotation, textAlign: value })}>\n                <ToggleGroupItem value=\"left\"><AlignLeft className=\"h-4 w-4\" /></ToggleGroupItem>\n                <ToggleGroupItem value=\"center\"><AlignCenter className=\"h-4 w-4\" /></ToggleGroupItem>\n                <ToggleGroupItem value=\"right\"><AlignRight className=\"h-4 w-4\" /></ToggleGroupItem>\n            </ToggleGroup>\n            <Separator orientation=\"vertical\" className=\"h-6\" />\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => onDelete(annotation.id)}>\n                <Trash2 className=\"h-4 w-4\" />\n            </Button>\n        </div>\n    );\n};\n\nconst TextAnnotationComponent = ({\n    annotation,\n    mainCanvasZoom,\n    isSelected,\n    isEditing,\n    onAnnotationChange,\n    onSelect,\n    onDoubleClick,\n    onDelete,\n    onDragStart,\n    onResizeStart,\n}: {\n    annotation: TextAnnotation,\n    mainCanvasZoom: number,\n    isSelected: boolean,\n    isEditing: boolean,\n    onAnnotationChange: (annotation: TextAnnotation) => void,\n    onSelect: (id: string, e: React.MouseEvent) => void,\n    onDoubleClick: (id: string, e: React.MouseEvent) => void,\n    onDelete: (id: string) => void,\n    onDragStart: (e: React.MouseEvent, id: string) => void,\n    onResizeStart: (e: React.MouseEvent, id: string) => void,\n}) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n    useLayoutEffect(() => {\n        const textarea = textareaRef.current;\n        if (textarea) {\n            textarea.style.height = 'auto';\n            textarea.style.height = `${textarea.scrollHeight}px`;\n        }\n    }, [annotation.text, annotation.fontSize, annotation.widthRatio, mainCanvasZoom]);\n\n\n    return (\n        <div\n            onMouseDown={(e) => {\n                if (!isEditing) onDragStart(e, annotation.id)\n            }}\n            onClick={(e) => {\n                e.stopPropagation();\n                if (!isEditing) onSelect(annotation.id, e);\n            }}\n            onDoubleClick={(e) => onDoubleClick(annotation.id, e)}\n            className={cn(\n                \"absolute\",\n                !isEditing && \"cursor-grab\",\n                isSelected && !isEditing && \"border-2 border-dashed border-primary\",\n                annotation.link && !isEditing && \"border-2 border-dashed border-blue-500\"\n            )}\n            style={{\n                left: `${annotation.leftRatio * 100}%`,\n                top: `${annotation.topRatio * 100}%`,\n                width: `${annotation.widthRatio * 100}%`,\n                height: 'auto',\n                zIndex: 20,\n            }}\n        >\n           <Textarea\n                ref={textareaRef}\n                value={annotation.text}\n                onChange={(e) => onAnnotationChange({ ...annotation, text: e.target.value })}\n                onMouseDown={(e) => {\n                    if (isEditing) {\n                        e.stopPropagation();\n                    }\n                }}\n                disabled={!isEditing}\n                className={cn(\n                    \"w-full p-0 bg-transparent border-0 resize-none focus:ring-0 overflow-hidden\",\n                    isEditing ? \"cursor-text pointer-events-auto\" : \"pointer-events-none\"\n                )}\n                style={{\n                    fontFamily: annotation.fontFamily.includes('Times') ? '\"Times New Roman\", Times, serif' : annotation.fontFamily,\n                    fontSize: `${annotation.fontSize * mainCanvasZoom}px`,\n                    fontWeight: annotation.bold ? 'bold' : 'normal',\n                    fontStyle: annotation.italic ? 'italic' : 'normal',\n                    textDecoration: annotation.underline ? 'underline' : 'none',\n                    color: annotation.color,\n                    textAlign: annotation.textAlign,\n                    lineHeight: 1.3,\n                }}\n            />\n            {annotation.link && !isEditing && <LinkIcon className=\"absolute -top-1.5 -right-1.5 h-4 w-4 text-white bg-blue-500 p-0.5 rounded-full\" />}\n            {isSelected && !isEditing && (\n                <div\n                    className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                    onMouseDown={(e) => onResizeStart(e, annotation.id)}\n                />\n            )}\n        </div>\n    );\n}\n\n\nexport default function PdfEditorHomepage() {\n  const router = useRouter();\n  const { toast } = useToast();\n\n  const [pageObjects, setPageObjects] = useState<PageObject[]>([]);\n  const [selectedPageIds, setSelectedPageIds] = useState<Set<string>>(new Set());\n\n  const [activePageIndex, setActivePageIndex] = useState<number | null>(null);\n  const [viewMode, setViewMode] = useState<'editor' | 'grid'>('editor');\n\n  const mainViewContainerRef = useRef<HTMLDivElement>(null);\n  const pageRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const [mainCanvasZoom, setMainCanvasZoom] = useState(1);\n\n  const [isDeleteConfirmOpen, setIsDeleteConfirmOpen] = useState(false);\n  const [pageToDelete, setPageToDelete] = useState<number | null>(null);\n\n  const [currentLanguage, setCurrentLanguage] = useState<'en' | 'zh'>('zh');\n  const [texts, setTexts] = useState(translations.zh);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('');\n  const [isDownloading, setIsDownloading] = useState(false);\n\n  const [insertPosition, setInsertPosition] = useState<'before' | 'after'>('before');\n  const [isInsertConfirmOpen, setIsInsertConfirmOpen] = useState(false);\n  const [pendingInsertFile, setPendingInsertFile] = useState<File | null>(null);\n  \n  const [textAnnotations, setTextAnnotations] = useState<TextAnnotation[]>([]);\n  const [selectedAnnotationId, setSelectedAnnotationId] = useState<string | null>(null);\n  const [editingAnnotationId, setEditingAnnotationId] = useState<string | null>(null);\n\n  const [imageAnnotations, setImageAnnotations] = useState<ImageAnnotation[]>([]);\n  const [selectedImageId, setSelectedImageId] = useState<string | null>(null);\n\n  const [highlightAnnotations, setHighlightAnnotations] = useState<HighlightAnnotation[]>([]);\n  const [selectedHighlightId, setSelectedHighlightId] = useState<string | null>(null);\n  \n  const [isLinkPopoverOpen, setIsLinkPopoverOpen] = useState(false);\n  const [currentLink, setCurrentLink] = useState<LinkAnnotationDef>({ type: 'url', value: '' });\n\n  const dragStartRef = useRef({ x: 0, y: 0, initialLeft: 0, initialTop: 0, initialWidth: 0, initialHeight: 0 });\n  const isDraggingRef = useRef(false);\n\n  const [watermarkConfig, setWatermarkConfig] = useState<WatermarkConfig>({\n    text: '',\n    type: 'text',\n    imageUrl: null,\n    topRatio: 0.5,\n    leftRatio: 0.5,\n    fontSize: 48,\n    color: '#808080',\n    opacity: 0.5,\n  });\n\n  const [tempWatermarkConfig, setTempWatermarkConfig] = useState<WatermarkConfig>(watermarkConfig);\n  const [isWatermarkPreviewModalOpen, setIsWatermarkPreviewModalOpen] = useState(false);\n  const watermarkImageUploadRef = useRef<HTMLInputElement>(null);\n  const watermarkPreviewModalCanvasRef = useRef<HTMLCanvasElement>(null);\n  \n  const watermarkPreviewCanvasContainerRef = useRef<HTMLDivElement>(null);\n\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [pdfDocumentProxy, setPdfDocumentProxy] = useState<PDFDocumentProxyType | null>(null);\n  const [uploadedPdfFile, setUploadedPdfFile] = useState<File | null>(null);\n\n  const [isConvertingToWord, setIsConvertingToWord] = useState(false);\n  const [wordFileUrl, setWordFileUrl] = useState<string | null>(null);\n  const [wordConversionError, setWordConversionError] = useState<string | null>(null);\n  const [showWordLimitModal, setShowWordLimitModal] = useState(false);\n\n  const [isFirebaseSystemReady, setIsFirebaseSystemReady] = useState(false);\n  const [firebaseConfigWarning, setFirebaseConfigWarning] = useState('');\n\n  const [pageNumberingConfig, setPageNumberingConfig] = useState({\n    enabled: false,\n    position: 'bottom-center' as PageNumberPosition,\n    start: 1,\n    fontSize: 12,\n    margin: 20,\n    format: '{page} / {total}',\n  });\n\n  const [pdfProtectionConfig, setPdfProtectionConfig] = useState({\n    enabled: false,\n    password: '',\n  });\n\n  const thumbnailContainerRef = useRef<HTMLDivElement>(null);\n  const thumbnailRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n  const pdfUploadRef = useRef<HTMLInputElement>(null);\n  const insertPdfRef = useRef<HTMLInputElement>(null);\n  const imageUploadRef = useRef<HTMLInputElement>(null);\n  const sortableInstanceRef = useRef<Sortable | null>(null);\n\n  const [imageFiles, setImageFiles] = useState<FileList | null>(null);\n  const imageToPdfUploadRef = useRef<HTMLInputElement>(null);\n  const [isConvertingImagesToPdf, setIsConvertingImagesToPdf] = useState(false);\n\n  const [pdfToCompress, setPdfToCompress] = useState<File | null>(null);\n  const pdfCompressUploadRef = useRef<HTMLInputElement>(null);\n  const [isCompressingPdf, setIsCompressingPdf] = useState(false);\n\n  const observerRef = useRef<IntersectionObserver | null>(null);\n\n  useEffect(() => {\n    setTexts(translations[currentLanguage] || translations.en);\n  }, [currentLanguage]);\n\n  useEffect(() => {\n    const sdkServicesInitialized = !!firebaseApp && !!storage && !!firebaseFunctions;\n    if (sdkServicesInitialized) {\n        setIsFirebaseSystemReady(true);\n        setFirebaseConfigWarning('');\n    } else {\n        setIsFirebaseSystemReady(false);\n        let warningMsg = texts?.firebaseSdkInitError || \"Firebase SDK services (app, storage, functions) NOT initialized.\";\n        setFirebaseConfigWarning(warningMsg);\n    }\n  }, [currentLanguage, texts]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const loggedInStatus = localStorage.getItem('isLoggedIn') === 'true';\n      setIsLoggedIn(loggedInStatus);\n\n      const today = new Date().toISOString().split('T')[0];\n      let downloadInfoString = localStorage.getItem('DocuPilotDownloadInfo');\n      if (downloadInfoString) {\n        let downloadInfo = JSON.parse(downloadInfoString);\n        if (downloadInfo.date !== today) {\n          localStorage.removeItem('DocuPilotDownloadInfo');\n        }\n      }\n      let wordConversionInfoString = localStorage.getItem('DocuPilotWordConversionInfo');\n      if (wordConversionInfoString) {\n        let wordInfo = JSON.parse(wordConversionInfoString);\n        if (wordInfo.date !== today) {\n            localStorage.removeItem('DocuPilotWordConversionInfo');\n        }\n      }\n    }\n  }, []);\n\n  const createSortableInstance = useCallback((containerRef: React.RefObject<HTMLDivElement>) => {\n    if (containerRef.current && !sortableInstanceRef.current) {\n        sortableInstanceRef.current = Sortable.create(containerRef.current, {\n            animation: 150,\n            ghostClass: 'opacity-50',\n            chosenClass: 'shadow-2xl',\n            dragClass: 'opacity-75',\n            onEnd: (evt) => {\n                if (evt.oldIndex === undefined || evt.newIndex === undefined || evt.oldIndex === evt.newIndex) return;\n\n                setPageObjects(prevPageObjects => {\n                    const reorderedPageObjects = Array.from(prevPageObjects);\n                    const [movedItem] = reorderedPageObjects.splice(evt.oldIndex!, 1);\n                    reorderedPageObjects.splice(evt.newIndex!, 0, movedItem);\n                    return reorderedPageObjects;\n                });\n            }\n        });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (pageObjects.length > 0 && viewMode === 'editor' && thumbnailContainerRef.current) {\n        createSortableInstance(thumbnailContainerRef);\n    } else if (pageObjects.length > 0 && viewMode === 'grid' && mainViewContainerRef.current) {\n        createSortableInstance(mainViewContainerRef);\n    } else if (sortableInstanceRef.current) {\n        sortableInstanceRef.current.destroy();\n        sortableInstanceRef.current = null;\n    }\n\n    return () => {\n        if (sortableInstanceRef.current) {\n            sortableInstanceRef.current.destroy();\n            sortableInstanceRef.current = null;\n        }\n    };\n  }, [pageObjects.length, viewMode, createSortableInstance]);\n\n  useEffect(() => {\n    if (observerRef.current) observerRef.current.disconnect();\n  \n    const options = {\n      root: mainViewContainerRef.current,\n      rootMargin: '0px',\n      threshold: 0.5\n    };\n  \n    observerRef.current = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const index = parseInt(entry.target.getAttribute('data-page-index') || '0', 10);\n          setActivePageIndex(index);\n        }\n      });\n    }, options);\n  \n    const { current: observer } = observerRef;\n    const { current: pageElements } = pageRefs;\n  \n    pageElements.forEach(el => {\n      if (el) observer.observe(el);\n    });\n  \n    return () => {\n      if (observer) {\n        pageElements.forEach(el => {\n          if (el) observer.unobserve(el);\n        });\n      }\n    };\n  }, [pageObjects, mainCanvasZoom]);\n  \n  useEffect(() => {\n    if (activePageIndex !== null && thumbnailRefs.current[activePageIndex]) {\n      thumbnailRefs.current[activePageIndex]?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n      });\n    }\n  }, [activePageIndex]);\n\n\n  const handleFitPage = useCallback(() => {\n      if (!mainViewContainerRef.current || pageObjects.length === 0 || activePageIndex === null) return;\n      const container = mainViewContainerRef.current;\n      const containerWidth = container.clientWidth - 40;\n      const containerHeight = container.clientHeight - 40;\n\n      const activePage = pageObjects[activePageIndex];\n      if (!activePage) return;\n\n      const pageCanvas = activePage.sourceCanvas;\n      const rotation = activePage.rotation;\n\n      let pageRenderWidth = (rotation % 180 !== 0) ? pageCanvas.height : pageCanvas.width;\n      let pageRenderHeight = (rotation % 180 !== 0) ? pageCanvas.width : pageCanvas.height;\n\n      const widthRatio = containerWidth / pageRenderWidth;\n      const heightRatio = containerHeight / pageRenderHeight;\n\n      const newZoom = Math.min(widthRatio, heightRatio);\n      setMainCanvasZoom(newZoom);\n  }, [activePageIndex, pageObjects]);\n\n  const handleFitToWidth = useCallback(() => {\n      if (!mainViewContainerRef.current || pageObjects.length === 0 || activePageIndex === null) return;\n      const containerWidth = mainViewContainerRef.current.clientWidth - 40;\n      const activePage = pageObjects[activePageIndex];\n      if (!activePage) return;\n\n      const pageCanvas = activePage.sourceCanvas;\n      const rotation = activePage.rotation;\n      let pageRenderWidth = (rotation % 180 !== 0) ? pageCanvas.height : pageCanvas.width;\n\n      const newZoom = containerWidth / pageRenderWidth;\n      setMainCanvasZoom(newZoom);\n  }, [activePageIndex, pageObjects]);\n\n\n  const updateLanguage = (lang: 'en' | 'zh') => {\n    setCurrentLanguage(lang);\n  };\n\n  const handleLogout = () => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('isLoggedIn');\n    }\n    setIsLoggedIn(false);\n    toast({ title: texts.logout, description: currentLanguage === 'zh' ? \"\" : \"You have been logged out successfully.\" });\n  };\n\n\n  const processPdfFile = async (file: File): Promise<{ newPageObjects: PageObject[], docProxy: PDFDocumentProxyType }> => {\n    const arrayBuffer = await file.arrayBuffer();\n    const pdfDocProxy = await pdfjsLib.getDocument({\n      data: arrayBuffer,\n      cMapUrl: `//cdn.jsdelivr.net/npm/pdfjs-dist@${pdfjsLib.version}/cmaps/`,\n      cMapPacked: true,\n    }).promise;\n\n    const numPages = pdfDocProxy.numPages;\n    const loadedPageObjects: PageObject[] = [];\n    for (let i = 1; i <= numPages; i++) {\n      const page = await pdfDocProxy.getPage(i);\n      const viewport = page.getViewport({ scale: 3.0 });\n      const canvas = document.createElement('canvas');\n      canvas.width = viewport.width;\n      canvas.height = viewport.height;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) continue;\n      await page.render({ canvasContext: ctx, viewport }).promise;\n      loadedPageObjects.push({ id: uuidv4(), sourceCanvas: canvas, rotation: 0 });\n    }\n    return { newPageObjects: loadedPageObjects, docProxy: pdfDocProxy };\n  };\n\n  const handlePdfUpload = async (event: React.ChangeEvent<HTMLInputElement> | React.DragEvent<HTMLDivElement>) => {\n    let file: File | null = null;\n    if ('dataTransfer' in event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (event.dataTransfer.files && event.dataTransfer.files.length > 0) {\n            file = event.dataTransfer.files[0];\n            event.dataTransfer.clearData();\n        }\n    } else {\n        file = event.target.files?.[0] || null;\n    }\n\n    if (!file || !file.type.includes('pdf')) {\n        if (file) toast({ title: texts.loadError, description: currentLanguage === 'zh' ? \" PDF\" : \"Invalid file type. Please upload a PDF.\", variant: \"destructive\" });\n        return;\n    }\n    setUploadedPdfFile(file);\n    setWordFileUrl(null);\n    setWordConversionError(null);\n    setTextAnnotations([]);\n    setSelectedAnnotationId(null);\n    setImageAnnotations([]);\n    setSelectedImageId(null);\n    setHighlightAnnotations([]);\n    setSelectedHighlightId(null);\n\n    setIsLoading(true);\n    setLoadingMessage(texts.loadingPdf);\n    try {\n      const { newPageObjects, docProxy } = await processPdfFile(file);\n      setPageObjects(newPageObjects);\n      setPdfDocumentProxy(docProxy);\n      setSelectedPageIds(new Set());\n      setActivePageIndex(0);\n      setViewMode('editor');\n      \n      // Use a timeout to ensure the UI has updated before fitting the page\n      setTimeout(() => handleFitPage(), 100);\n\n    } catch (err: any)\n    {\n      toast({ title: texts.loadError, description: err.message, variant: \"destructive\" });\n      setPdfDocumentProxy(null);\n      setUploadedPdfFile(null);\n      setPageObjects([]);\n      setActivePageIndex(null);\n    } finally {\n      setIsLoading(false);\n      setLoadingMessage('');\n      if (pdfUploadRef.current) pdfUploadRef.current.value = '';\n    }\n  };\n\n  const handleDeletePages = () => {\n    if (pageToDelete !== null) {\n        const newPages = pageObjects.filter((p, index) => index !== pageToDelete);\n        const newActiveIndex = pageToDelete >= newPages.length ? newPages.length - 1 : pageToDelete;\n\n        setPageObjects(newPages);\n        setActivePageIndex(newActiveIndex);\n        setSelectedPageIds(new Set());\n    } else {\n        if (selectedPageIds.size === 0) {\n            toast({ title: texts.pageManagement, description: texts.noPageSelected, variant: \"destructive\" });\n            return;\n        }\n        const newPages = pageObjects.filter(p => !selectedPageIds.has(p.id));\n\n        setPageObjects(newPages);\n        setActivePageIndex(null);\n        setSelectedPageIds(new Set());\n    }\n\n    if (pageObjects.length - (pageToDelete !== null ? 1 : selectedPageIds.size) === 0) {\n      setPdfDocumentProxy(null);\n      setUploadedPdfFile(null);\n    }\n\n    toast({ title: texts.pageManagement, description: currentLanguage === 'zh' ? \"\" : \"Selected pages have been deleted.\" });\n    setPageToDelete(null);\n    setIsDeleteConfirmOpen(false);\n  };\n\n\n  const hexToRgb = (hex: string): { r: number; g: number; b: number } => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16) / 255,\n      g: parseInt(result[2], 16) / 255,\n      b: parseInt(result[3], 16) / 255\n    } : { r: 0, g: 0, b: 0 };\n  };\n\n  const parseRgba = (rgba: string) => {\n    const result = rgba.match(/(\\d+(\\.\\d+)?)/g);\n    if (!result || result.length < 4) return { r: 0, g: 0, b: 0, a: 1 };\n    return {\n        r: parseInt(result[0]) / 255,\n        g: parseInt(result[1]) / 255,\n        b: parseInt(result[2]) / 255,\n        a: parseFloat(result[3]),\n    };\n  };\n\n  const getPdfFont = async (pdfDoc: PDFLibDocument, annotation: TextAnnotation): Promise<PDFFont> => {\n    const { fontFamily, bold, italic } = annotation;\n    let font = StandardFonts.Helvetica;\n\n    if (fontFamily === 'Helvetica') {\n        if (bold && italic) font = StandardFonts.HelveticaBoldOblique;\n        else if (bold) font = StandardFonts.HelveticaBold;\n        else if (italic) font = StandardFonts.HelveticaOblique;\n        else font = StandardFonts.Helvetica;\n    } else if (fontFamily === 'Times-Roman') {\n        if (bold && italic) font = StandardFonts.TimesRomanBoldItalic;\n        else if (bold) font = StandardFonts.TimesRomanBold;\n        else if (italic) font = StandardFonts.TimesRomanItalic;\n        else font = StandardFonts.TimesRoman;\n    } else if (fontFamily === 'Courier') {\n        if (bold && italic) font = StandardFonts.CourierBoldOblique;\n        else if (bold) font = StandardFonts.CourierBold;\n        else if (italic) font = StandardFonts.CourierOblique;\n        else font = StandardFonts.Courier;\n    }\n    return await pdfDoc.embedFont(font);\n  };\n\n\n  const handleDownloadPdf = async () => {\n    if (pageObjects.length === 0) {\n      toast({ title: texts.downloadPdf, description: texts.noPagesToDownload, variant: \"destructive\" });\n      return;\n    }\n\n    if (!isLoggedIn && typeof window !== 'undefined') {\n      const today = new Date().toISOString().split('T')[0];\n      let downloadInfoString = localStorage.getItem('DocuPilotDownloadInfo');\n      let downloadInfo = downloadInfoString ? JSON.parse(downloadInfoString) : { count: 0, date: today };\n\n      if (downloadInfo.date !== today) {\n        downloadInfo = { count: 0, date: today };\n      }\n\n      if (downloadInfo.count >= DAILY_DOWNLOAD_LIMIT) {\n        setShowPaymentModal(true);\n        return;\n      }\n      downloadInfo.count++;\n      localStorage.setItem('DocuPilotDownloadInfo', JSON.stringify(downloadInfo));\n    }\n\n    setIsDownloading(true);\n    setLoadingMessage(texts.generatingFile);\n    try {\n      await new Promise(resolve => setTimeout(resolve, 100));\n      const pdfDocOut = await PDFLibDocument.create();\n\n      for (const [index, pageObj] of pageObjects.entries()) {\n        const { sourceCanvas, rotation } = pageObj;\n\n        const tempRenderCanvas = document.createElement('canvas');\n        const tempCtx = tempRenderCanvas.getContext('2d');\n        if (!tempCtx) continue;\n\n        const rad = rotation * Math.PI / 180;\n\n        if (rotation % 180 !== 0) {\n          tempRenderCanvas.width = sourceCanvas.height;\n          tempRenderCanvas.height = sourceCanvas.width;\n        } else {\n          tempRenderCanvas.width = sourceCanvas.width;\n          tempRenderCanvas.height = sourceCanvas.height;\n        }\n\n        tempCtx.translate(tempRenderCanvas.width / 2, tempRenderCanvas.height / 2);\n        tempCtx.rotate(rad);\n        tempCtx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2, sourceCanvas.width, sourceCanvas.height);\n\n        const imgDataUrl = tempRenderCanvas.toDataURL('image/png');\n        const pngImage = await pdfDocOut.embedPng(imgDataUrl);\n\n        const pdfLibPage = pdfDocOut.addPage([tempRenderCanvas.width, tempRenderCanvas.height]);\n        pdfLibPage.drawImage(pngImage, { x: 0, y: 0, width: tempRenderCanvas.width, height: tempRenderCanvas.height });\n\n        const { width: pageWidth, height: pageHeight } = pdfLibPage.getSize();\n\n        // Draw highlights first so they are under other elements\n        for (const annotation of highlightAnnotations.filter(a => a.pageIndex === index)) {\n            const { r, g, b, a } = parseRgba(annotation.color);\n            pdfLibPage.drawRectangle({\n                x: annotation.leftRatio * pageWidth,\n                y: pageHeight - (annotation.topRatio * pageHeight) - (annotation.heightRatio * pageHeight),\n                width: annotation.widthRatio * pageWidth,\n                height: annotation.heightRatio * pageHeight,\n                color: rgb(r, g, b),\n                opacity: a,\n                blendMode: BlendMode.Multiply,\n            });\n        }\n\n        // Apply Image Annotations\n        for (const annotation of imageAnnotations.filter(a => a.pageIndex === index)) {\n            let embeddedImage;\n            if (annotation.dataUrl.startsWith('data:image/png')) {\n                embeddedImage = await pdfDocOut.embedPng(annotation.dataUrl);\n            } else if (annotation.dataUrl.startsWith('data:image/jpeg')) {\n                embeddedImage = await pdfDocOut.embedJpg(annotation.dataUrl);\n            } else {\n                continue;\n            }\n\n            const imgX = annotation.leftRatio * pageWidth;\n            const imgHeight = annotation.heightRatio * pageHeight;\n            const imgY = pageHeight - (annotation.topRatio * pageHeight) - imgHeight;\n            const imgWidth = annotation.widthRatio * pageWidth;\n            \n            pdfLibPage.drawImage(embeddedImage, { x: imgX, y: imgY, width: imgWidth, height: imgHeight });\n\n            if (annotation.link) {\n                const linkRect = { x: imgX, y: imgY, width: imgWidth, height: imgHeight };\n                if(annotation.link.type === 'url') {\n                    pdfLibPage.addURIAnnotation(linkRect, annotation.link.value);\n                } else if (annotation.link.type === 'page') {\n                    const targetPageNum = parseInt(annotation.link.value, 10);\n                    if (!isNaN(targetPageNum) && targetPageNum > 0 && targetPageNum <= pdfDocOut.getPageCount()) {\n                       const targetPage = pdfDocOut.getPages()[targetPageNum - 1];\n                       pdfLibPage.addLinkAnnotation(linkRect, targetPage);\n                    }\n                }\n            }\n        }\n        \n        // Apply Text Annotations\n        for (const annotation of textAnnotations.filter(a => a.pageIndex === index)) {\n            const font = await getPdfFont(pdfDocOut, annotation);\n            const { r, g, b } = hexToRgb(annotation.color);\n            const boxWidth = annotation.widthRatio * pageWidth;\n\n            const textLayout = layoutMultilineText(annotation.text, {\n                font,\n                bounds: { width: boxWidth, height: Infinity },\n                fontSize: annotation.fontSize,\n                lineHeight: annotation.fontSize * 1.2,\n                alignment: annotation.textAlign === 'left' ? 0 : annotation.textAlign === 'center' ? 1 : 2,\n            });\n\n            const textHeight = textLayout.lines.length * annotation.fontSize * 1.2;\n            const x = annotation.leftRatio * pageWidth;\n            const y = pageHeight - (annotation.topRatio * pageHeight);\n\n            pdfLibPage.pushGraphicsState();\n            pdfLibPage.drawText(textLayout.lines.map(l => l.text).join('\\n'), {\n                x,\n                y: y - font.ascent * (annotation.fontSize / font.unitsPerEm), // Adjust for baseline\n                font,\n                size: annotation.fontSize,\n                color: rgb(r, g, b),\n                lineHeight: annotation.fontSize * 1.2,\n                maxWidth: boxWidth,\n                wordBreaks: [' '],\n            });\n\n            if (annotation.underline) {\n              const textWidth = font.widthOfTextAtSize(textLayout.lines.map(l=>l.text).join('\\n'), annotation.fontSize);\n              textLayout.lines.forEach((line, i) => {\n                  const lineY = y - (font.ascent * (annotation.fontSize / font.unitsPerEm)) - (i * annotation.fontSize * 1.2) - 2;\n                   pdfLibPage.drawLine({\n                      start: { x: x, y: lineY },\n                      end: { x: x + line.width, y: lineY },\n                      thickness: 0.5,\n                      color: rgb(r, g, b)\n                  });\n              });\n            }\n            pdfLibPage.popGraphicsState();\n\n            if (annotation.link) {\n                const linkRect = { x, y: y - textHeight, width: boxWidth, height: textHeight };\n                if(annotation.link.type === 'url') {\n                    pdfLibPage.addURIAnnotation(linkRect, annotation.link.value);\n                } else if (annotation.link.type === 'page') {\n                    const targetPageNum = parseInt(annotation.link.value, 10);\n                    if (!isNaN(targetPageNum) && targetPageNum > 0 && targetPageNum <= pdfDocOut.getPageCount()) {\n                       const targetPage = pdfDocOut.getPages()[targetPageNum - 1];\n                       pdfLibPage.addLinkAnnotation(linkRect, targetPage);\n                    }\n                }\n            }\n        }\n\n        if ((watermarkConfig.type === 'text' && watermarkConfig.text) || (watermarkConfig.type === 'image' && watermarkConfig.imageUrl)) {\n            pdfLibPage.pushGraphicsState();\n            pdfLibPage.setOpacity(watermarkConfig.opacity);\n            const helveticaFont = await pdfDocOut.embedFont(StandardFonts.Helvetica);\n            if (watermarkConfig.type === 'text' && watermarkConfig.text) {\n                const pdfWatermarkFontSize = watermarkConfig.fontSize;\n                const textColor = hexToRgb(watermarkConfig.color);\n                const textWidth = helveticaFont.widthOfTextAtSize(watermarkConfig.text, pdfWatermarkFontSize);\n                const textHeight = helveticaFont.heightAtSize(pdfWatermarkFontSize);\n\n                const wmX_pdf_text = watermarkConfig.leftRatio * pageWidth - textWidth / 2;\n                const wmY_pdf_text = pageHeight - (watermarkConfig.topRatio * pageHeight) - textHeight / 2;\n\n\n                pdfLibPage.drawText(watermarkConfig.text, {\n                    x: wmX_pdf_text,\n                    y: wmY_pdf_text,\n                    font: helveticaFont,\n                    size: pdfWatermarkFontSize,\n                    color: rgb(textColor.r, textColor.g, textColor.b),\n                });\n            } else if (watermarkConfig.type === 'image' && watermarkConfig.imageUrl) {\n                try {\n                    const imageBytes = await fetch(watermarkConfig.imageUrl).then(res => res.arrayBuffer());\n                    let wmEmbedImage;\n                    if (watermarkConfig.imageUrl.startsWith('data:image/png')) {\n                        wmEmbedImage = await pdfDocOut.embedPng(imageBytes);\n                    } else if (watermarkConfig.imageUrl.startsWith('data:image/jpeg') || watermarkConfig.imageUrl.startsWith('data:image/jpg')) {\n                        wmEmbedImage = await pdfDocOut.embedJpg(imageBytes);\n                    }\n\n                    if (wmEmbedImage) {\n                        const { width: imgOriginalWidth, height: imgOriginalHeight } = wmEmbedImage.scale(1);\n                        const wmX_pdf_img = watermarkConfig.leftRatio * pageWidth - imgOriginalWidth / 2;\n                        const wmY_pdf_img = pageHeight - (watermarkConfig.topRatio * pageHeight) - imgOriginalHeight / 2;\n\n                        pdfLibPage.drawImage(wmEmbedImage, {\n                            x: wmX_pdf_img,\n                            y: wmY_pdf_img,\n                            width: imgOriginalWidth,\n                            height: imgOriginalHeight,\n                        });\n                    }\n                } catch (imgErr) {\n                    console.error(\"Error embedding watermark image:\", imgErr);\n                    toast({ title: \"Watermark Error\", description: \"Could not embed watermark image.\", variant: \"destructive\" });\n                }\n            }\n            pdfLibPage.popGraphicsState();\n        }\n\n\n        if (pageNumberingConfig.enabled) {\n            const { width: pnPageWidth, height: pnPageHeight } = pdfLibPage.getSize();\n            const currentPageNum = index + pageNumberingConfig.start;\n            const totalNumPages = pageObjects.length;\n\n            let text = pageNumberingConfig.format\n                .replace('{page}', currentPageNum.toString())\n                .replace('{total}', totalNumPages.toString());\n\n            const textSize = pageNumberingConfig.fontSize;\n            const pnFont = await pdfDocOut.embedFont(StandardFonts.Helvetica);\n            const textWidthNum = pnFont.widthOfTextAtSize(text, textSize);\n            const pnAscent = pnFont.ascender / pnFont.unitsPerEm * textSize;\n\n            let x, y;\n            switch (pageNumberingConfig.position) {\n                case 'top-left': x = pageNumberingConfig.margin; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'top-center': x = pnPageWidth / 2 - textWidthNum / 2; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'top-right': x = pnPageWidth - pageNumberingConfig.margin - textWidthNum; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'bottom-left': x = pageNumberingConfig.margin; y = pageNumberingConfig.margin; break;\n                case 'bottom-center': x = pnPageWidth / 2 - textWidthNum / 2; y = pageNumberingConfig.margin; break;\n                case 'bottom-right': x = pnPageWidth - pageNumberingConfig.margin - textWidthNum; y = pageNumberingConfig.margin; break;\n                default: x = pnPageWidth / 2 - textWidthNum / 2; y = pageNumberingConfig.margin;\n            }\n            pdfLibPage.drawText(text, { x, y, font: pnFont, size: textSize, color: grayscale(0) });\n        }\n      }\n\n      if (pdfProtectionConfig.enabled && pdfProtectionConfig.password) {\n        await pdfDocOut.encrypt({\n          userPassword: pdfProtectionConfig.password,\n          ownerPassword: pdfProtectionConfig.password,\n          permissions: {},\n        });\n      }\n\n      const pdfBytes = await pdfDocOut.save();\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'DocuPilot_edited.pdf';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      toast({ title: texts.downloadPdf, description: currentLanguage === 'zh' ? \"PDF \" : \"PDF downloaded successfully!\" });\n    } catch (err: any) {\n      console.error(\"Download PDF error:\", err);\n      toast({ title: texts.downloadError, description: err.message, variant: \"destructive\" });\n    } finally {\n      setIsDownloading(false);\n      setLoadingMessage('');\n    }\n  };\n\n  const handleSplitPdf = async () => {\n    const selectedPages = pageObjects.filter(p => selectedPageIds.has(p.id));\n    if (selectedPages.length === 0) {\n      toast({ title: texts.splitPages, description: texts.noPageSelected, variant: \"destructive\" });\n      return;\n    }\n\n    if (!isLoggedIn && typeof window !== 'undefined') {\n      const today = new Date().toISOString().split('T')[0];\n      let downloadInfoString = localStorage.getItem('DocuPilotDownloadInfo');\n      let downloadInfo = downloadInfoString ? JSON.parse(downloadInfoString) : { count: 0, date: today };\n\n      if (downloadInfo.date !== today) {\n        downloadInfo = { count: 0, date: today };\n      }\n\n      if (downloadInfo.count >= DAILY_DOWNLOAD_LIMIT) {\n        setShowPaymentModal(true);\n        return;\n      }\n      downloadInfo.count++;\n      localStorage.setItem('DocuPilotDownloadInfo', JSON.stringify(downloadInfo));\n    }\n\n    setIsDownloading(true);\n    setLoadingMessage(texts.generatingFile);\n    try {\n      await new Promise(resolve => setTimeout(resolve, 100));\n      const pdfDocOut = await PDFLibDocument.create();\n      const helveticaFont = await pdfDocOut.embedFont(StandardFonts.Helvetica);\n\n      for (const [index, pageObj] of selectedPages.entries()) {\n        const { sourceCanvas, rotation } = pageObj;\n        const tempRenderCanvas = document.createElement('canvas');\n        const tempCtx = tempRenderCanvas.getContext('2d');\n        if (!tempCtx) continue;\n\n        const rad = rotation * Math.PI / 180;\n        if (rotation % 180 !== 0) {\n          tempRenderCanvas.width = sourceCanvas.height;\n          tempRenderCanvas.height = sourceCanvas.width;\n        } else {\n          tempRenderCanvas.width = sourceCanvas.width;\n          tempRenderCanvas.height = sourceCanvas.height;\n        }\n\n        tempCtx.translate(tempRenderCanvas.width / 2, tempRenderCanvas.height / 2);\n        tempCtx.rotate(rad);\n        tempCtx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2, sourceCanvas.width, sourceCanvas.height);\n\n        const imgDataUrl = tempRenderCanvas.toDataURL('image/png');\n        const pngImage = await pdfDocOut.embedPng(imgDataUrl);\n        const pdfLibPage = pdfDocOut.addPage([tempRenderCanvas.width, tempRenderCanvas.height]);\n        pdfLibPage.drawImage(pngImage, { x: 0, y: 0, width: tempRenderCanvas.width, height: tempRenderCanvas.height });\n\n        const { width: pageWidth, height: pageHeight } = pdfLibPage.getSize();\n        if ((watermarkConfig.type === 'text' && watermarkConfig.text) || (watermarkConfig.type === 'image' && watermarkConfig.imageUrl)) {\n            pdfLibPage.pushGraphicsState();\n            pdfLibPage.setOpacity(watermarkConfig.opacity);\n            if (watermarkConfig.type === 'text' && watermarkConfig.text) {\n                const pdfWatermarkFontSize = watermarkConfig.fontSize;\n                const textColor = hexToRgb(watermarkConfig.color);\n                const textWidth = helveticaFont.widthOfTextAtSize(watermarkConfig.text, pdfWatermarkFontSize);\n                const textHeight = helveticaFont.heightAtSize(pdfWatermarkFontSize);\n                const wmX_pdf_text = watermarkConfig.leftRatio * pageWidth - textWidth / 2;\n                const wmY_pdf_text = pageHeight - (watermarkConfig.topRatio * pageHeight) - textHeight / 2;\n                pdfLibPage.drawText(watermarkConfig.text, { x: wmX_pdf_text, y: wmY_pdf_text, font: helveticaFont, size: pdfWatermarkFontSize, color: rgb(textColor.r, textColor.g, textColor.b) });\n            } else if (watermarkConfig.type === 'image' && watermarkConfig.imageUrl) {\n                try {\n                    const imageBytes = await fetch(watermarkConfig.imageUrl).then(res => res.arrayBuffer());\n                    let wmEmbedImage;\n                    if (watermarkConfig.imageUrl.startsWith('data:image/png')) {\n                        wmEmbedImage = await pdfDocOut.embedPng(imageBytes);\n                    } else if (watermarkConfig.imageUrl.startsWith('data:image/jpeg') || watermarkConfig.imageUrl.startsWith('data:image/jpg')) {\n                        wmEmbedImage = await pdfDocOut.embedJpg(imageBytes);\n                    }\n                    if (wmEmbedImage) {\n                        const { width: imgOriginalWidth, height: imgOriginalHeight } = wmEmbedImage.scale(1);\n                        const wmX_pdf_img = watermarkConfig.leftRatio * pageWidth - imgOriginalWidth / 2;\n                        const wmY_pdf_img = pageHeight - (watermarkConfig.topRatio * pageHeight) - imgOriginalHeight / 2;\n                        pdfLibPage.drawImage(wmEmbedImage, { x: wmX_pdf_img, y: wmY_pdf_img, width: imgOriginalWidth, height: imgOriginalHeight });\n                    }\n                } catch (imgErr) { console.error(\"Error embedding watermark image:\", imgErr); toast({ title: \"Watermark Error\", description: \"Could not embed watermark image.\", variant: \"destructive\" }); }\n            }\n            pdfLibPage.popGraphicsState();\n        }\n\n        if (pageNumberingConfig.enabled) {\n            const { width: pnPageWidth, height: pnPageHeight } = pdfLibPage.getSize();\n            const currentPageNum = index + pageNumberingConfig.start;\n            const totalNumPages = selectedPages.length;\n            let text = pageNumberingConfig.format.replace('{page}', currentPageNum.toString()).replace('{total}', totalNumPages.toString());\n            const textSize = pageNumberingConfig.fontSize;\n            const pnFont = await pdfDocOut.embedFont(StandardFonts.Helvetica);\n            const textWidthNum = pnFont.widthOfTextAtSize(text, textSize);\n            const pnAscent = pnFont.ascender / pnFont.unitsPerEm * textSize;\n            let x, y;\n            switch (pageNumberingConfig.position) {\n                case 'top-left': x = pageNumberingConfig.margin; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'top-center': x = pnPageWidth / 2 - textWidthNum / 2; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'top-right': x = pnPageWidth - pageNumberingConfig.margin - textWidthNum; y = pnPageHeight - pageNumberingConfig.margin - pnAscent; break;\n                case 'bottom-left': x = pageNumberingConfig.margin; y = pageNumberingConfig.margin; break;\n                case 'bottom-center': x = pnPageWidth / 2 - textWidthNum / 2; y = pageNumberingConfig.margin; break;\n                case 'bottom-right': x = pnPageWidth - pageNumberingConfig.margin - textWidthNum; y = pageNumberingConfig.margin; break;\n                default: x = pnPageWidth / 2 - textWidthNum / 2; y = pageNumberingConfig.margin;\n            }\n            pdfLibPage.drawText(text, { x, y, font: pnFont, size: textSize, color: grayscale(0) });\n        }\n      }\n\n      if (pdfProtectionConfig.enabled && pdfProtectionConfig.password) {\n        await pdfDocOut.encrypt({ userPassword: pdfProtectionConfig.password, ownerPassword: pdfProtectionConfig.password, permissions: {} });\n      }\n\n      const pdfBytes = await pdfDocOut.save();\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'DocuPilot_split.pdf';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      toast({ title: texts.splitPages, description: texts.splitPdfSuccess });\n    } catch (err: any) {\n      console.error(\"Split PDF error:\", err);\n      toast({ title: texts.splitPdfError, description: err.message, variant: \"destructive\" });\n    } finally {\n      setIsDownloading(false);\n      setLoadingMessage('');\n    }\n  };\n\n  const handleInsertPdfFileSelected = (event: React.ChangeEvent<HTMLInputElement> | React.DragEvent<HTMLDivElement>) => {\n    let file: File | null = null;\n    if ('dataTransfer' in event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (event.dataTransfer.files && event.dataTransfer.files.length > 0) {\n            file = event.dataTransfer.files[0];\n            event.dataTransfer.clearData();\n        }\n    } else {\n        file = event.target.files?.[0] || null;\n    }\n\n    if (!file || !file.type.includes('pdf')) {\n        if(file) toast({ title: texts.insertError, description: currentLanguage === 'zh' ? \" PDF\" : \"Invalid file type. Please upload a PDF.\", variant: \"destructive\" });\n        return;\n    }\n\n    setPendingInsertFile(file);\n    if (pageObjects.length > 0 && selectedPageIds.size === 0) {\n        setIsInsertConfirmOpen(true);\n    } else {\n        proceedWithInsert(file);\n    }\n  };\n\n  const proceedWithInsert = async (fileToInsert?: File) => {\n    const file = fileToInsert || pendingInsertFile;\n    if (!file) return;\n\n    setIsLoading(true);\n    setLoadingMessage(texts.insertingPdf);\n    try {\n      const { newPageObjects: insertPageObjects } = await processPdfFile(file);\n\n      let insertAtIndex = activePageIndex !== null ? activePageIndex + 1 : pageObjects.length;\n\n      const newCombinedPageObjects = [...pageObjects];\n      newCombinedPageObjects.splice(insertAtIndex, 0, ...insertPageObjects);\n      setPageObjects(newCombinedPageObjects);\n\n      const newActivePageId = insertPageObjects[0]?.id;\n      if (newActivePageId) {\n        setSelectedPageIds(new Set([newActivePageId]));\n      }\n      setActivePageIndex(insertAtIndex);\n\n      toast({ title: texts.insertAreaTitle, description: currentLanguage === 'zh' ? \"PDF \" : \"PDF inserted successfully.\" });\n\n    } catch (err: any) {\n      toast({ title: texts.insertError, description: err.message, variant: \"destructive\" });\n    } finally {\n      setIsLoading(false);\n      setLoadingMessage('');\n      setPendingInsertFile(null);\n      if (insertPdfRef.current) insertPdfRef.current.value = '';\n    }\n  };\n\n const handleConvertToWord = async () => {\n    if (!uploadedPdfFile) {\n      toast({ title: texts.wordConvertError, description: texts.noPdfToConvert, variant: \"destructive\" });\n      return;\n    }\n\n    if (!isFirebaseSystemReady || !storage || !firebaseFunctions) {\n        toast({ title: texts.wordConvertError, description: firebaseConfigWarning || (currentLanguage === 'zh' ? translations.zh.firebaseSdkInitError : translations.en.firebaseSdkInitError), variant: \"destructive\" });\n        return;\n    }\n\n    setWordFileUrl(null);\n    setWordConversionError(null);\n\n    if (!isLoggedIn && typeof window !== 'undefined') {\n      const today = new Date().toISOString().split('T')[0];\n      let wordConversionInfoString = localStorage.getItem('DocuPilotWordConversionInfo');\n      let wordConversionInfo = wordConversionInfoString ? JSON.parse(wordConversionInfoString) : { count: 0, date: today };\n\n      if (wordConversionInfo.date !== today) {\n        wordConversionInfo = { count: 0, date: today };\n      }\n\n      if (wordConversionInfo.count >= DAILY_WORD_CONVERSION_LIMIT) {\n        setShowWordLimitModal(true);\n        return;\n      }\n    }\n\n    setIsConvertingToWord(true);\n    setLoadingMessage(texts.convertingToWord);\n\n    try {\n      const fileName = `uploads/${new Date().getTime()}_${uploadedPdfFile.name}`;\n      const fileStorageRef = storageRef(storage, fileName);\n      await uploadBytes(fileStorageRef, uploadedPdfFile);\n      const pdfStorageUrl = await getDownloadURL(fileStorageRef);\n\n      const functionUrl = `https://us-central1-sitemate-otkpt.cloudfunctions.net/convertPdfToWord`;\n\n      const response = await fetch(functionUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ fileUrl: pdfStorageUrl }),\n      });\n\n      if (!response.ok) {\n        let errorData;\n        try {\n            errorData = await response.json();\n        } catch (e) {\n            const errorText = await response.text();\n            errorData = { detail: errorText || response.statusText };\n        }\n\n        const detailMessage = errorData?.detail || errorData?.error || `HTTP error! status: ${response.status}`;\n        let toastDescription = detailMessage;\n        if (typeof detailMessage === 'string' && (detailMessage.toLowerCase().includes(\"method not found\") || detailMessage.toLowerCase().includes(\"api key not configured\") || detailMessage.toLowerCase().includes(\"please provide your api key\")) ) {\n             toastDescription = texts.pdfCoMethodNotFoundError;\n        }\n        throw new Error(detailMessage);\n      }\n\n      const result = await response.json();\n\n      if (!result.wordUrl) {\n        throw new Error(\"Firebase Function did not return a Word file URL.\");\n      }\n\n      setWordFileUrl(result.wordUrl);\n      toast({ title: texts.wordConvertSuccess, description: texts.downloadWordFile });\n\n      if (!isLoggedIn && typeof window !== 'undefined') {\n        const today = new Date().toISOString().split('T')[0];\n        let wordConversionInfoString = localStorage.getItem('DocuPilotWordConversionInfo');\n        let wordConversionInfo = wordConversionInfoString ? JSON.parse(wordConversionInfoString) : { count: 0, date: today };\n        if (wordConversionInfo.date !== today) { wordConversionInfo = { count: 0, date: today };}\n        wordConversionInfo.count++;\n        localStorage.setItem('DocuPilotWordConversionInfo', JSON.stringify(wordConversionInfo));\n      }\n\n    } catch (error: any) {\n      let errMsg = error.message || (currentLanguage === 'zh' ? \"\" : \"Unknown error\");\n\n      if (typeof errMsg === 'string' && (errMsg.toLowerCase().includes(\"method not found\") || errMsg.toLowerCase().includes(\"api key\") || errMsg.toLowerCase().includes(\"please provide your api key\") )) {\n        errMsg = texts.pdfCoMethodNotFoundError;\n      } else if (errMsg.toLowerCase().includes(\"pdf.co api key is not correctly hardcoded\")) {\n        errMsg = (currentLanguage === 'zh' ? \" API \" : \"Backend API Key configuration error. Please contact administrator.\");\n      }\n\n      setWordConversionError(`${texts.wordConvertError}: ${errMsg}`);\n      toast({ title: texts.wordConvertError, description: errMsg, variant: \"destructive\" });\n    } finally {\n      setIsConvertingToWord(false);\n      setLoadingMessage('');\n    }\n  };\n\n  const commonDragEvents = {\n    onDragOver: (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.add('border-primary', 'bg-primary/10');\n    },\n    onDragLeave: (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.remove('border-primary', 'bg-primary/10');\n    },\n    onDrop: (e: React.DragEvent<HTMLDivElement>, handler: (event: React.DragEvent<HTMLDivElement>) => void) => {\n        e.preventDefault();\n        e.stopPropagation();\n        e.currentTarget.classList.remove('border-primary', 'bg-primary/10');\n        handler(e);\n    }\n  };\n\n  const handleImageToPdf = async () => {\n    if (!imageFiles || imageFiles.length === 0) {\n      toast({ title: texts.imageToPdfError, description: texts.noImagesSelected, variant: \"destructive\" });\n      return;\n    }\n    setIsConvertingImagesToPdf(true);\n    setLoadingMessage(texts.generatingPdfFromImages);\n    try {\n      const pdfDoc = await PDFLibDocument.create();\n      for (let i = 0; i < imageFiles.length; i++) {\n        const file = imageFiles[i];\n        const imageBytes = await file.arrayBuffer();\n        let image;\n        if (file.type === 'image/jpeg' || file.type === 'image/jpg') {\n          image = await pdfDoc.embedJpg(imageBytes);\n        } else if (file.type === 'image/png') {\n          image = await pdfDoc.embedPng(imageBytes);\n        } else {\n          console.warn(`Skipping unsupported image type: ${file.type}`);\n          toast({ title: texts.imageToPdfError, description: `Unsupported image type: ${file.name}`, variant: \"destructive\" });\n          continue;\n        }\n        const page = pdfDoc.addPage([image.width, image.height]);\n        page.drawImage(image, {\n          x: 0,\n          y: 0,\n          width: image.width,\n          height: image.height,\n        });\n      }\n      if (pdfDoc.getPageCount() === 0) {\n        toast({ title: texts.imageToPdfError, description: texts.noImagesSelected, variant: \"destructive\" });\n        setIsConvertingImagesToPdf(false);\n        setLoadingMessage('');\n        return;\n      }\n      const pdfBytes = await pdfDoc.save();\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'DocuPilot_Images.pdf';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      toast({ title: texts.imageToPdfTitle, description: texts.imageToPdfSuccess });\n    } catch (err: any) {\n      console.error(\"Image to PDF error:\", err);\n      toast({ title: texts.imageToPdfError, description: err.message, variant: \"destructive\" });\n    } finally {\n      setIsConvertingImagesToPdf(false);\n      setLoadingMessage('');\n      setImageFiles(null);\n      if(imageToPdfUploadRef.current) imageToPdfUploadRef.current.value = '';\n    }\n  };\n\n  const handlePdfCompression = async () => {\n    if (!pdfToCompress) {\n      toast({ title: texts.pdfCompressionError, description: texts.noPdfToCompress, variant: \"destructive\" });\n      return;\n    }\n    setIsCompressingPdf(true);\n    setLoadingMessage(texts.compressingPdf);\n    try {\n      const arrayBuffer = await pdfToCompress.arrayBuffer();\n      const pdfDoc = await PDFLibDocument.load(arrayBuffer);\n      const pdfBytes = await pdfDoc.save({ useObjectStreams: false });\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${pdfToCompress.name.replace(/\\.pdf$/i, '')}_compressed.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      toast({ title: texts.pdfCompressionTitle, description: texts.pdfCompressionSuccess });\n    } catch (err: any) {\n      console.error(\"PDF Compression error:\", err);\n      toast({ title: texts.pdfCompressionError, description: err.message, variant: \"destructive\" });\n    } finally {\n      setIsCompressingPdf(false);\n      setLoadingMessage('');\n      setPdfToCompress(null);\n      if(pdfCompressUploadRef.current) pdfCompressUploadRef.current.value = '';\n    }\n  };\n\n    const handleDragMouseDown = (\n        event: React.MouseEvent<HTMLElement>,\n        type: 'watermark' | 'annotation' | 'image' | 'highlight' | 'image-resize' | 'highlight-resize' | 'annotation-resize',\n        id: string\n    ) => {\n        event.stopPropagation();\n\n        const isResize = type.endsWith('-resize');\n        const itemType = type.split('-')[0] as 'watermark' | 'annotation' | 'image' | 'highlight';\n\n        const draggedElement = event.currentTarget as HTMLElement;\n        const containerElement = (itemType === 'watermark' ? watermarkPreviewCanvasContainerRef.current : draggedElement.closest('.main-page-container')) as HTMLElement;\n        if (!containerElement) return;\n\n        const containerRect = containerElement.getBoundingClientRect();\n        \n        let initialItemState: any;\n        switch (itemType) {\n            case 'watermark': initialItemState = tempWatermarkConfig; break;\n            case 'annotation': initialItemState = textAnnotations.find(a => a.id === id); break;\n            case 'image': initialItemState = imageAnnotations.find(a => a.id === id); break;\n            case 'highlight': initialItemState = highlightAnnotations.find(a => a.id === id); break;\n        }\n        \n        if (!initialItemState) return;\n\n        dragStartRef.current = {\n            x: event.clientX,\n            y: event.clientY,\n            initialLeft: initialItemState.leftRatio * containerRect.width,\n            initialTop: initialItemState.topRatio * containerRect.height,\n            initialWidth: 'widthRatio' in initialItemState ? initialItemState.widthRatio * containerRect.width : 0,\n            initialHeight: 'heightRatio' in initialItemState ? initialItemState.heightRatio * containerRect.height : 0\n        };\n\n        const handleMouseMove = (moveEvent: MouseEvent) => {\n            moveEvent.preventDefault();\n            isDraggingRef.current = true;\n            draggedElement.style.cursor = 'grabbing';\n\n            const deltaX = moveEvent.clientX - dragStartRef.current.x;\n            const deltaY = moveEvent.clientY - dragStartRef.current.y;\n\n            if (isResize && 'aspectRatio' in initialItemState && itemType === 'image') {\n                const newWidthPx = dragStartRef.current.initialWidth + deltaX;\n                const newWidthRatio = Math.max(0.05, newWidthPx / containerRect.width);\n                setImageAnnotations(prev => prev.map(ann =>\n                    ann.id === id ? {\n                        ...ann,\n                        widthRatio: newWidthRatio,\n                        heightRatio: newWidthRatio / ann.aspectRatio * (containerRect.width / containerRect.height)\n                    } : ann\n                ));\n            } else if (isResize && itemType === 'highlight') {\n                const newWidthPx = dragStartRef.current.initialWidth + deltaX;\n                const newHeightPx = dragStartRef.current.initialHeight + deltaY;\n                setHighlightAnnotations(prev => prev.map(ann =>\n                    ann.id === id ? {\n                        ...ann,\n                        widthRatio: Math.max(0.01, newWidthPx / containerRect.width),\n                        heightRatio: Math.max(0.01, newHeightPx / containerRect.height)\n                    } : ann\n                ));\n            } else if (isResize && itemType === 'annotation') {\n                const newWidthPx = dragStartRef.current.initialWidth + deltaX;\n                const newWidthRatio = Math.max(0.1, newWidthPx / containerRect.width);\n                 setTextAnnotations(prev => prev.map(ann =>\n                    ann.id === id ? { ...ann, widthRatio: newWidthRatio } : ann\n                ));\n            }\n            else { // It's a drag operation\n                const newLeftPx = dragStartRef.current.initialLeft + deltaX;\n                const newTopPx = dragStartRef.current.initialTop + deltaY;\n\n                const newLeftRatio = Math.max(0, Math.min(1, newLeftPx / containerRect.width));\n                const newTopRatio = Math.max(0, Math.min(1, newTopPx / containerRect.height));\n                \n                const updater = (prev: any) => ({ ...prev, topRatio: newTopRatio, leftRatio: newLeftRatio });\n\n                switch (itemType) {\n                    case 'watermark': setTempWatermarkConfig(prev => ({ ...prev, topRatio: parseFloat(newTopRatio.toFixed(4)), leftRatio: parseFloat(newLeftRatio.toFixed(4)) })); break;\n                    case 'annotation': \n                        if (editingAnnotationId === id) return;\n                        setTextAnnotations(prev => prev.map(ann => ann.id === id ? updater(ann) : ann)); \n                        break;\n                    case 'image': setImageAnnotations(prev => prev.map(ann => ann.id === id ? updater(ann) : ann)); break;\n                    case 'highlight': setHighlightAnnotations(prev => prev.map(ann => ann.id === id ? updater(ann) : ann)); break;\n                }\n            }\n        };\n\n        const handleMouseUp = () => {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseup', handleMouseUp);\n            draggedElement.style.cursor = 'grab';\n\n            setTimeout(() => { isDraggingRef.current = false; }, 50);\n        };\n\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n    };\n\n\n  const openWatermarkPreviewModal = () => {\n    if (pageObjects.length === 0) {\n        toast({ title: texts.watermarkSectionTitle, description: texts.noPdfForWatermarkPreview, variant: \"destructive\"});\n        return;\n    }\n    setTempWatermarkConfig(watermarkConfig);\n    setIsWatermarkPreviewModalOpen(true);\n  };\n\n   useEffect(() => {\n    if (isWatermarkPreviewModalOpen && pageObjects.length > 0) {\n      const canvas = watermarkPreviewModalCanvasRef.current;\n      const ctx = canvas?.getContext('2d');\n      const sourceCanvas = pageObjects[0].sourceCanvas;\n      if (canvas && ctx && sourceCanvas) {\n        const container = watermarkPreviewCanvasContainerRef.current;\n        if (container) {\n          const scaleFactor = Math.min(\n            (container.clientWidth * 0.95) / sourceCanvas.width,\n            (container.clientHeight * 0.95) / sourceCanvas.height\n          );\n          canvas.width = sourceCanvas.width * scaleFactor;\n          canvas.height = sourceCanvas.height * scaleFactor;\n          ctx.drawImage(sourceCanvas, 0, 0, canvas.width, canvas.height);\n        }\n      }\n    }\n  }, [isWatermarkPreviewModalOpen, pageObjects, tempWatermarkConfig.imageUrl]); // Re-run when image changes too\n\n  const handleWatermarkImageFileChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setTempWatermarkConfig(prev => ({\n          ...prev,\n          imageUrl: reader.result as string,\n          type: 'image'\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n    if (watermarkImageUploadRef.current) watermarkImageUploadRef.current.value = '';\n  };\n\n\n  const confirmWatermarkSettings = () => {\n    setWatermarkConfig(tempWatermarkConfig);\n    setIsWatermarkPreviewModalOpen(false);\n  };\n\n  const handleThumbnailClick = (index: number, event: React.MouseEvent) => {\n      if (viewMode === 'editor') {\n          setActivePageIndex(index);\n          const targetPage = pageRefs.current[index];\n          if (targetPage) {\n              targetPage.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }\n      } else {\n          const clickedId = pageObjects[index].id;\n          const newSelectedPageIds = new Set(selectedPageIds);\n          if (newSelectedPageIds.has(clickedId)) {\n              newSelectedPageIds.delete(clickedId);\n          } else {\n              newSelectedPageIds.add(clickedId);\n          }\n          setSelectedPageIds(newSelectedPageIds);\n      }\n  };\n\n    const handleRotatePage = (direction: 'cw' | 'ccw') => {\n        if (activePageIndex === null) return;\n        setPageObjects(prev => prev.map((page, index) => {\n            if (index === activePageIndex) {\n                const newRotation = (page.rotation + (direction === 'cw' ? 90 : -90) + 360) % 360;\n                return { ...page, rotation: newRotation };\n            }\n            return page;\n        }));\n    };\n\n    const handleAddBlankPage = () => {\n        const blankCanvas = document.createElement('canvas');\n        \n        if (pageObjects.length > 0 && pageObjects[0].sourceCanvas) {\n            blankCanvas.width = pageObjects[0].sourceCanvas.width;\n            blankCanvas.height = pageObjects[0].sourceCanvas.height;\n        } else {\n            blankCanvas.width = 2480; \n            blankCanvas.height = 3508;\n        }\n\n        const ctx = blankCanvas.getContext('2d');\n        if (ctx) {\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, blankCanvas.width, blankCanvas.height);\n        }\n        const newPageObject: PageObject = { id: uuidv4(), sourceCanvas: blankCanvas, rotation: 0 };\n\n        const insertAt = (activePageIndex === null ? pageObjects.length - 1 : activePageIndex) + 1;\n\n        setPageObjects(prev => {\n            const newPages = [...prev];\n            newPages.splice(insertAt, 0, newPageObject);\n            return newPages;\n        });\n\n        setActivePageIndex(insertAt);\n        setSelectedPageIds(new Set([newPageObject.id]));\n        \n        setTimeout(() => {\n            const newPageElement = pageRefs.current[insertAt];\n            if (newPageElement) {\n                newPageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            }\n        }, 100);\n    };\n\n    const handleAddTextAnnotation = () => {\n      if (activePageIndex === null) {\n          toast({ title: texts.toolInsertText, description: texts.noPageSelected, variant: \"destructive\" });\n          return;\n      }\n      const newAnnotation: TextAnnotation = {\n          id: uuidv4(),\n          pageIndex: activePageIndex,\n          text: texts.textAnnotationSample,\n          topRatio: 0.5,\n          leftRatio: 0.5,\n          widthRatio: 0.3,\n          fontSize: 36,\n          fontFamily: 'Helvetica',\n          bold: false,\n          italic: false,\n          underline: false,\n          color: '#000000',\n          textAlign: 'left',\n      };\n      setTextAnnotations(prev => [...prev, newAnnotation]);\n      setSelectedAnnotationId(newAnnotation.id);\n      setEditingAnnotationId(null);\n      setSelectedImageId(null);\n      setSelectedHighlightId(null);\n    };\n    \n    const handleAnnotationChange = (updatedAnnotation: TextAnnotation) => {\n      setTextAnnotations(prev => prev.map(ann => \n          ann.id === updatedAnnotation.id ? updatedAnnotation : ann\n      ));\n    };\n\n    const handleDeleteAnnotation = (id: string) => {\n        setTextAnnotations(prev => prev.filter(ann => ann.id !== id));\n        if (selectedAnnotationId === id) setSelectedAnnotationId(null);\n        if (editingAnnotationId === id) setEditingAnnotationId(null);\n    }\n    \n    const addImageAnnotation = useCallback((dataUrl: string, pageIndex: number) => {\n        const img = new window.Image();\n        img.onload = () => {\n            const container = pageRefs.current[pageIndex];\n            if (!container) return;\n            const containerWidth = container.offsetWidth;\n            const containerHeight = container.offsetHeight;\n\n            const aspectRatio = img.width / img.height;\n            let widthRatio = 0.25;\n            let heightRatio = widthRatio / aspectRatio * (containerWidth / containerHeight);\n\n            const newAnnotation: ImageAnnotation = {\n                id: uuidv4(),\n                pageIndex,\n                dataUrl,\n                topRatio: 0.5,\n                leftRatio: 0.5,\n                widthRatio,\n                heightRatio,\n                aspectRatio\n            };\n            setImageAnnotations(prev => [...prev, newAnnotation]);\n            setSelectedImageId(newAnnotation.id);\n            setSelectedAnnotationId(null);\n            setEditingAnnotationId(null);\n            setSelectedHighlightId(null);\n        };\n        img.src = dataUrl;\n    }, []);\n\n    const handleImageFileSelected = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n        if (activePageIndex === null) return;\n        const file = event.target.files?.[0];\n        if (!file) return;\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const dataUrl = e.target?.result as string;\n            if (dataUrl) {\n                addImageAnnotation(dataUrl, activePageIndex);\n                toast({ title: texts.imageInsertSuccess });\n            }\n        };\n        reader.readAsDataURL(file);\n        if(imageUploadRef.current) imageUploadRef.current.value = '';\n    }, [activePageIndex, addImageAnnotation, texts.imageInsertSuccess]);\n\n    const handlePaste = useCallback((event: ClipboardEvent) => {\n        if (activePageIndex === null) return;\n        const items = event.clipboardData?.items;\n        if (!items) return;\n\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].type.indexOf(\"image\") !== -1) {\n                const file = items[i].getAsFile();\n                if (!file) continue;\n\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    const dataUrl = e.target?.result as string;\n                    if (dataUrl) {\n                        addImageAnnotation(dataUrl, activePageIndex);\n                        toast({ title: texts.imagePasteSuccess });\n                    }\n                };\n                reader.readAsDataURL(file);\n                event.preventDefault();\n                return;\n            }\n        }\n    }, [activePageIndex, addImageAnnotation, texts.imagePasteSuccess]);\n\n    const handleDeleteImageAnnotation = (id: string) => {\n        setImageAnnotations(prev => prev.filter(ann => ann.id !== id));\n        if (selectedImageId === id) setSelectedImageId(null);\n    }\n    \n    const handleAddHighlightAnnotation = () => {\n      if (activePageIndex === null) return;\n      const newAnnotation: HighlightAnnotation = {\n        id: uuidv4(),\n        pageIndex: activePageIndex,\n        topRatio: 0.4,\n        leftRatio: 0.4,\n        widthRatio: 0.2,\n        heightRatio: 0.05,\n        color: 'rgba(255, 255, 0, 0.4)',\n      };\n      setHighlightAnnotations(prev => [...prev, newAnnotation]);\n      setSelectedHighlightId(newAnnotation.id);\n      setSelectedAnnotationId(null);\n      setEditingAnnotationId(null);\n      setSelectedImageId(null);\n    };\n\n    const handleDeleteHighlightAnnotation = (id: string) => {\n        setHighlightAnnotations(prev => prev.filter(ann => ann.id !== id));\n        if (selectedHighlightId === id) setSelectedHighlightId(null);\n    }\n\n    const handleAnnotationSelect = (id: string, e: React.MouseEvent) => {\n        if (editingAnnotationId) return;\n\n        setSelectedAnnotationId(id);\n        setEditingAnnotationId(null); \n        setSelectedImageId(null);\n        setSelectedHighlightId(null);\n    };\n\n    const handleAnnotationDoubleClick = (id: string, e: React.MouseEvent) => {\n        e.stopPropagation();\n        setSelectedAnnotationId(id);\n        setEditingAnnotationId(id);\n    };\n    \n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Delete' || e.key === 'Backspace') {\n                if (selectedAnnotationId && !editingAnnotationId) {\n                    handleDeleteAnnotation(selectedAnnotationId);\n                }\n                if (selectedImageId) {\n                    handleDeleteImageAnnotation(selectedImageId);\n                }\n                if (selectedHighlightId) {\n                    handleDeleteHighlightAnnotation(selectedHighlightId);\n                }\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n        window.addEventListener('paste', handlePaste);\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n            window.removeEventListener('paste', handlePaste);\n        };\n    }, [selectedAnnotationId, editingAnnotationId, selectedImageId, selectedHighlightId, handlePaste]);\n\n\n    const handleOpenLinkPopover = () => {\n        const activeId = selectedAnnotationId || selectedImageId;\n        if (!activeId) return;\n\n        const isText = !!selectedAnnotationId;\n        const annotation = isText\n            ? textAnnotations.find(a => a.id === activeId)\n            : imageAnnotations.find(a => a.id === activeId);\n\n        if (annotation?.link) {\n            setCurrentLink(annotation.link);\n        } else {\n            setCurrentLink({ type: 'url', value: '' });\n        }\n    };\n\n    const handleSaveLink = () => {\n        const activeId = selectedAnnotationId || selectedImageId;\n        if (!activeId) return;\n\n        const isText = !!selectedAnnotationId;\n        if (isText) {\n            setTextAnnotations(prev => prev.map(ann =>\n                ann.id === activeId ? { ...ann, link: currentLink } : ann\n            ));\n        } else {\n            setImageAnnotations(prev => prev.map(ann =>\n                ann.id === activeId ? { ...ann, link: currentLink } : ann\n            ));\n        }\n        setIsLinkPopoverOpen(false);\n        toast({ title: texts.linkAttached });\n    };\n\n    const handleRemoveLink = () => {\n        const activeId = selectedAnnotationId || selectedImageId;\n        if (!activeId) return;\n\n        const isText = !!selectedAnnotationId;\n        if (isText) {\n            setTextAnnotations(prev => prev.map(ann => {\n                if (ann.id === activeId) {\n                    const { link, ...rest } = ann;\n                    return rest;\n                }\n                return ann;\n            }));\n        } else {\n            setImageAnnotations(prev => prev.map(ann => {\n                if (ann.id === activeId) {\n                    const { link, ...rest } = ann;\n                    return rest;\n                }\n                return ann;\n            }));\n        }\n        setIsLinkPopoverOpen(false);\n        toast({ title: texts.linkRemoved, variant: \"destructive\" });\n    };\n\n\n    const linkPopoverContent = (\n      <div className=\"grid gap-4\">\n        <div className=\"space-y-2\">\n          <h4 className=\"font-medium leading-none\">{texts.linkEditTitle}</h4>\n        </div>\n        <div className=\"grid gap-2\">\n          <RadioGroup value={currentLink.type} onValueChange={(type: 'url' | 'page') => setCurrentLink({ ...currentLink, type })}>\n              <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"url\" id=\"r-url\" />\n                  <Label htmlFor=\"r-url\">{texts.linkSetUrl}</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"page\" id=\"r-page\" />\n                  <Label htmlFor=\"r-page\">{texts.linkSetPage}</Label>\n              </div>\n          </RadioGroup>\n          <div className=\"mt-2\">\n            {currentLink.type === 'url' ? (\n                <Input\n                    id=\"link-url\"\n                    placeholder=\"https://example.com\"\n                    value={currentLink.value}\n                    onChange={(e) => setCurrentLink({ ...currentLink, value: e.target.value })}\n                />\n            ) : (\n                <Input\n                    id=\"link-page\"\n                    type=\"number\"\n                    placeholder=\"e.g., 5\"\n                    min=\"1\"\n                    max={pageObjects.length}\n                    value={currentLink.value}\n                    onChange={(e) => setCurrentLink({ ...currentLink, value: e.target.value })}\n                />\n            )}\n          </div>\n        </div>\n        <div className=\"flex justify-between\">\n            <Button variant=\"destructive\" size=\"sm\" onClick={handleRemoveLink}>{texts.linkRemove}</Button>\n            <Button size=\"sm\" onClick={handleSaveLink}>{texts.linkSave}</Button>\n        </div>\n      </div>\n    );\n\n    const editingAnnotation = textAnnotations.find(ann => ann.id === editingAnnotationId);\n\n\n    const handlePlaceholderClick = (featureName: string) => {\n        toast({\n            title: texts.comingSoon,\n            description: `${featureName} ${texts.featureNotImplemented}`\n        });\n    };\n\n    const handleZoom = (direction: 'in' | 'out') => {\n      const ZOOM_STEP = 0.1;\n      setMainCanvasZoom(prev => {\n        let newZoom = direction === 'in' ? prev + ZOOM_STEP : prev - ZOOM_STEP;\n        return Math.max(0.1, Math.min(newZoom, 5));\n      });\n    };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background text-foreground font-sans\">\n      {(isLoading || isDownloading || isConvertingToWord || isConvertingImagesToPdf || isCompressingPdf) && (\n        <div className=\"fixed inset-0 bg-black/50 z-[100] flex flex-col items-center justify-center\">\n          <Loader2 className=\"h-12 w-12 text-primary animate-spin mb-4\" />\n          <p className=\"text-white text-lg\">\n            {isLoading ? loadingMessage :\n             isConvertingToWord ? texts.convertingToWord :\n             isDownloading ? texts.generatingFile :\n             isConvertingImagesToPdf ? texts.generatingPdfFromImages :\n             isCompressingPdf ? texts.compressingPdf : ''}\n          </p>\n        </div>\n      )}\n\n      {isWatermarkPreviewModalOpen && (\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"watermark-preview-title\"\n          className=\"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm\"\n          onClick={() => setIsWatermarkPreviewModalOpen(false)}\n        >\n          <div\n            className=\"bg-card text-card-foreground shadow-2xl rounded-lg w-[90vw] max-w-6xl h-[90vh] flex flex-row overflow-hidden\"\n            onClick={(e) => e.stopPropagation()}\n            role=\"document\"\n          >\n            <div\n                ref={watermarkPreviewCanvasContainerRef}\n                className=\"flex-grow p-4 overflow-auto bg-muted/20 flex justify-center items-center relative\"\n            >\n              <canvas\n                ref={watermarkPreviewModalCanvasRef}\n                className=\"max-w-full max-h-full object-contain shadow-md\"\n              />\n\n              {watermarkPreviewCanvasContainerRef.current && (\n                <>\n                {tempWatermarkConfig.type === 'text' && tempWatermarkConfig.text && (\n                    <div\n                    onMouseDown={(e) => handleDragMouseDown(e, 'watermark', 'watermark-drag-handle')}\n                    style={{\n                        position: 'absolute',\n                        top: `${tempWatermarkConfig.topRatio * 100}%`,\n                        left: `${tempWatermarkConfig.leftRatio * 100}%`,\n                        transform: `translate(-50%, -50%)`,\n                        fontSize: `${Math.max(8, tempWatermarkConfig.fontSize * ((watermarkPreviewModalCanvasRef.current?.height || 600) / 842 / 2) )}px`,\n                        color: tempWatermarkConfig.color,\n                        opacity: tempWatermarkConfig.opacity,\n                        cursor: 'grab',\n                        padding: '3px 5px',\n                        backgroundColor: 'rgba(200,200,200,0.2)',\n                        border: '1px dashed gray',\n                        userSelect: 'none',\n                        whiteSpace: 'nowrap',\n                        zIndex: 10,\n                    }}\n                    className=\"draggable-watermark-modal\"\n                    >\n                    {tempWatermarkConfig.text}\n                    </div>\n                )}\n                {tempWatermarkConfig.type === 'image' && tempWatermarkConfig.imageUrl && (\n                    <img\n                    src={tempWatermarkConfig.imageUrl}\n                    alt=\"Watermark\"\n                    onMouseDown={(e) => handleDragMouseDown(e, 'watermark', 'watermark-drag-handle')}\n                    style={{\n                        position: 'absolute',\n                        top: `${tempWatermarkConfig.topRatio * 100}%`,\n                        left: `${tempWatermarkConfig.leftRatio * 100}%`,\n                        transform: `translate(-50%, -50%)`,\n                        opacity: tempWatermarkConfig.opacity,\n                        cursor: 'grab',\n                        maxWidth: '200px',\n                        maxHeight: '200px',\n                        userSelect: 'none',\n                        zIndex: 10,\n                        objectFit: 'contain',\n                        border: '1px dashed gray',\n                    }}\n                    className=\"draggable-watermark-modal\"\n                    />\n                )}\n                </>\n              )}\n            </div>\n            <div className=\"w-80 flex-shrink-0 p-4 border-l space-y-4 overflow-y-auto\">\n                <h2 id=\"watermark-preview-title\" className=\"text-lg font-semibold\">{texts.watermarkPreviewModalTitle}</h2>\n                <p className=\"text-sm text-muted-foreground\">{texts.watermarkPreviewInfo}</p>\n                <Separator />\n                \n                <RadioGroup value={tempWatermarkConfig.type} onValueChange={(value) => setTempWatermarkConfig(p => ({...p, type: value as 'text' | 'image'}))} className=\"flex space-x-2\">\n                    <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"text\" id=\"r1-modal\" /><Label htmlFor=\"r1-modal\">{texts.watermarkTypeText}</Label></div>\n                    <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"image\" id=\"r2-modal\" /><Label htmlFor=\"r2-modal\">{texts.watermarkTypeImage}</Label></div>\n                </RadioGroup>\n\n                {tempWatermarkConfig.type === 'text' ? (\n                  <>\n                    <div>\n                        <Label htmlFor=\"modalWatermarkText\" className=\"text-sm font-medium\">{texts.watermarkInputPlaceholder}</Label>\n                        <Input\n                            id=\"modalWatermarkText\"\n                            type=\"text\"\n                            value={tempWatermarkConfig.text}\n                            onChange={(e) => setTempWatermarkConfig(prev => ({...prev, text: e.target.value}))}\n                            className=\"mt-1\"\n                        />\n                    </div>\n                    <div>\n                        <Label htmlFor=\"modalWatermarkFontSize\" className=\"text-sm font-medium\">{texts.watermarkFontSizeLabel} (pt for PDF)</Label>\n                        <Input\n                            id=\"modalWatermarkFontSize\"\n                            type=\"number\"\n                            value={tempWatermarkConfig.fontSize}\n                            onChange={(e) => setTempWatermarkConfig(prev => ({...prev, fontSize: parseInt(e.target.value, 10) || 20}))}\n                            min=\"8\"\n                            max=\"200\"\n                            className=\"mt-1\"\n                        />\n                    </div>\n                    <div>\n                        <Label htmlFor=\"modalWatermarkColor\" className=\"text-sm font-medium\">{texts.watermarkColorLabel}</Label>\n                        <Input\n                            id=\"modalWatermarkColor\"\n                            type=\"color\"\n                            value={tempWatermarkConfig.color}\n                            onChange={(e) => setTempWatermarkConfig(prev => ({...prev, color: e.target.value}))}\n                            className=\"mt-1 h-10 w-full\"\n                        />\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    <Button variant=\"outline\" onClick={() => watermarkImageUploadRef.current?.click()} className=\"w-full\">{texts.watermarkImageLabel}</Button>\n                    <Input type=\"file\" accept=\"image/png,image/jpeg\" ref={watermarkImageUploadRef} onChange={handleWatermarkImageFileChange} className=\"hidden\"/>\n                    {tempWatermarkConfig.imageUrl && <img src={tempWatermarkConfig.imageUrl} alt=\"watermark\" className=\"max-w-full h-auto rounded-md border p-1\"/>}\n                  </>\n                )}\n                \n                 <div>\n                    <Label htmlFor=\"modalWatermarkOpacity\" className=\"text-sm font-medium\">{texts.watermarkOpacityLabel} ({Math.round(tempWatermarkConfig.opacity * 100)}%)</Label>\n                    <Slider\n                        id=\"modalWatermarkOpacity\"\n                        min={0} max={1} step={0.01}\n                        value={[tempWatermarkConfig.opacity]}\n                        onValueChange={(value) => setTempWatermarkConfig(prev => ({...prev, opacity: value[0]}))}\n                        className=\"mt-1\"\n                    />\n                </div>\n                <div className=\"pt-4 flex justify-end gap-2\">\n                  <Button variant=\"outline\" onClick={() => setIsWatermarkPreviewModalOpen(false)}>{texts.cancel}</Button>\n                  <Button onClick={confirmWatermarkSettings}>{texts.watermarkConfirmPosition}</Button>\n                </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n      <AlertDialog open={isInsertConfirmOpen} onOpenChange={setIsInsertConfirmOpen}>\n        <AlertDialogContent>\n          <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{texts.insertConfirmTitle}</ShadAlertDialogTitle>\n            <AlertDialogDescription>\n              {texts.insertConfirmDescription}\n            </AlertDialogDescription>\n          </ShadAlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setPendingInsertFile(null)}>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={() => proceedWithInsert()}>{texts.confirm}</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={showPaymentModal} onOpenChange={setShowPaymentModal}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{texts.downloadLimitTitle}</ShadAlertDialogTitle>\n            <AlertDialogDescription>\n                {texts.downloadLimitDescription}\n            </AlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n            <AlertDialogCancel>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={() => router.push('/login')}>{texts.login}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={isDeleteConfirmOpen} onOpenChange={setIsDeleteConfirmOpen}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{texts.deletePageConfirmTitle}</ShadAlertDialogTitle>\n            <AlertDialogDescription>\n                {texts.deletePageConfirmDescription}\n            </AlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n            <AlertDialogCancel>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={() => handleDeletePages()}>{texts.confirm}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog open={showWordLimitModal} onOpenChange={setShowWordLimitModal}>\n        <AlertDialogContent>\n            <ShadAlertDialogHeader>\n            <ShadAlertDialogTitle>{texts.wordConvertLimitTitle}</ShadAlertDialogTitle>\n            <AlertDialogDescription>\n                {texts.wordConvertLimitDescription}\n            </AlertDialogDescription>\n            </ShadAlertDialogHeader>\n            <AlertDialogFooter>\n            <AlertDialogCancel>{texts.cancel}</AlertDialogCancel>\n            <AlertDialogAction onClick={() => router.push('/login')}>{texts.login}</AlertDialogAction>\n            </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <header className=\"p-4 border-b bg-card sticky top-0 z-40 flex-shrink-0\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n            <h1 className=\"text-xl font-bold text-primary flex items-center\">\n              <MenuSquare className=\"mr-2 h-6 w-6\"/> {texts.pageTitle}\n            </h1>\n\n            {pageObjects.length > 0 && (\n                <div className='flex items-center gap-2'>\n                    <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setViewMode(viewMode === 'editor' ? 'grid' : 'editor')}\n                        title={viewMode === 'editor' ? texts.gridMode : texts.editorMode}\n                    >\n                        {viewMode === 'editor' ? <LayoutGrid className='h-4 w-4 mr-2' /> : <PanelLeft className='h-4 w-4 mr-2' />}\n                        {viewMode === 'editor' ? texts.gridMode : texts.editorMode}\n                    </Button>\n                    <Button onClick={handleDownloadPdf} disabled={isDownloading}>\n                        <Download className=\"mr-2 h-4 w-4\" />\n                        {texts.downloadPdf}\n                    </Button>\n                </div>\n            )}\n\n            <div className=\"flex items-center gap-4\">\n                <div className=\"flex gap-2\">\n                    <Button variant={currentLanguage === 'en' ? \"secondary\" : \"outline\"} size=\"sm\" onClick={() => updateLanguage('en')}>English</Button>\n                    <Button variant={currentLanguage === 'zh' ? \"secondary\" : \"outline\"} size=\"sm\" onClick={() => updateLanguage('zh')}></Button>\n                </div>\n                {isLoggedIn ? (\n                    <div className=\"flex items-center gap-2\">\n                        <UserCircle className=\"h-5 w-5 text-muted-foreground\" />\n                        <span className=\"text-sm text-muted-foreground\">{texts.loggedInAs}</span>\n                        <Button variant=\"outline\" size=\"sm\" onClick={handleLogout}>\n                            <LogOut className=\"mr-2 h-4 w-4\"/> {texts.logout}\n                        </Button>\n                    </div>\n                ) : (\n                   <div className=\"flex items-center gap-2\">\n                        <UserCircle className=\"h-5 w-5 text-muted-foreground\" />\n                         <span className=\"text-sm text-muted-foreground\">{texts.guest}</span>\n                        <Link href=\"/login\" passHref>\n                            <Button variant=\"ghost\" size=\"sm\">\n                                <LogIn className=\"mr-2 h-4 w-4\"/> {texts.login}\n                            </Button>\n                        </Link>\n                    </div>\n                )}\n            </div>\n        </div>\n      </header>\n\n      <main className=\"flex-grow flex overflow-hidden relative\">\n        {editingAnnotation && (\n            <TextAnnotationToolbar\n                annotation={editingAnnotation}\n                onAnnotationChange={handleAnnotationChange}\n                onDelete={() => handleDeleteAnnotation(editingAnnotation.id)}\n            />\n        )}\n        {pageObjects.length === 0 ? (\n            <div className=\"flex-grow flex flex-col items-center justify-center p-4 space-y-8\">\n              <Card className=\"w-full max-w-lg shadow-xl\">\n                <CardHeader className=\"text-center\">\n                  <Upload className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n                  <CardTitle className=\"text-2xl font-bold\">{texts.startEditingYourPdf}</CardTitle>\n                  <CardDescription>{texts.uploadLabel}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div\n                    className=\"flex flex-col items-center justify-center p-10 border-2 border-dashed rounded-md hover:border-primary transition-colors cursor-pointer bg-muted/20\"\n                    onClick={() => pdfUploadRef.current?.click()}\n                    onDragOver={commonDragEvents.onDragOver}\n                    onDragLeave={commonDragEvents.onDragLeave}\n                    onDrop={(e) => commonDragEvents.onDrop(e, (ev) => handlePdfUpload(ev as any))}\n                  >\n                    <Upload className=\"h-12 w-12 text-muted-foreground mb-3\" />\n                    <p className=\"text-md text-muted-foreground text-center\">{texts.dropFileHere}</p>\n                  </div>\n                  <Input\n                    type=\"file\"\n                    id=\"pdfUploadInput\"\n                    accept=\"application/pdf\"\n                    onChange={handlePdfUpload}\n                    ref={pdfUploadRef}\n                    className=\"hidden\"\n                  />\n                </CardContent>\n              </Card>\n\n              <div className=\"w-full max-w-lg grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <Card className=\"shadow-lg\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center text-lg\"><ImageIcon className=\"mr-2 h-5 w-5 text-primary\" /> {texts.imageToPdfTitle}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div\n                        className=\"flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-md hover:border-primary transition-colors cursor-pointer bg-muted/20\"\n                        onClick={() => imageToPdfUploadRef.current?.click()}\n                        onDragOver={commonDragEvents.onDragOver}\n                        onDragLeave={commonDragEvents.onDragLeave}\n                        onDrop={(e) => {\n                            commonDragEvents.onDrop(e, (ev) => {\n                                if (ev.dataTransfer.files) setImageFiles(ev.dataTransfer.files);\n                            });\n                        }}\n                    >\n                        <Upload className=\"h-10 w-10 text-muted-foreground mb-2\" />\n                        <p className=\"text-sm text-muted-foreground text-center\">{texts.dropImagesHere}</p>\n                        <Input type=\"file\" id=\"imageToPdfInput\" accept=\"image/*\" multiple\n                            ref={imageToPdfUploadRef}\n                            onChange={(e) => setImageFiles(e.target.files)}\n                            className=\"hidden\" />\n                    </div>\n                    {imageFiles && imageFiles.length > 0 && <p className=\"text-xs text-muted-foreground\">{imageFiles.length} image(s) selected.</p>}\n                    <Button onClick={handleImageToPdf} disabled={!imageFiles || imageFiles.length === 0 || isConvertingImagesToPdf} className=\"w-full\">\n                        {isConvertingImagesToPdf ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Download className=\"mr-2 h-4 w-4\" />}\n                        {texts.convertToPdfButton}\n                    </Button>\n                  </CardContent>\n                </Card>\n\n                <Card className=\"shadow-lg\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center text-lg\"><Minimize2 className=\"mr-2 h-5 w-5 text-primary\" /> {texts.pdfCompressionTitle}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                     <div\n                        className=\"flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-md hover:border-primary transition-colors cursor-pointer bg-muted/20\"\n                        onClick={() => pdfCompressUploadRef.current?.click()}\n                        onDragOver={commonDragEvents.onDragOver}\n                        onDragLeave={commonDragEvents.onDragLeave}\n                        onDrop={(e) => {\n                            commonDragEvents.onDrop(e, (ev) => {\n                                if (ev.dataTransfer.files && ev.dataTransfer.files.length > 0) setPdfToCompress(ev.dataTransfer.files[0]);\n                            });\n                        }}\n                    >\n                        <Upload className=\"h-10 w-10 text-muted-foreground mb-2\" />\n                        <p className=\"text-sm text-muted-foreground text-center\">{texts.dropPdfToCompressHere}</p>\n                        <Input type=\"file\" id=\"pdfCompressInput\" accept=\"application/pdf\"\n                            ref={pdfCompressUploadRef}\n                            onChange={(e) => setPdfToCompress(e.target.files ? e.target.files[0] : null)}\n                            className=\"hidden\" />\n                    </div>\n                     {pdfToCompress && <p className=\"text-xs text-muted-foreground\">{pdfToCompress.name} selected.</p>}\n                    <Button onClick={handlePdfCompression} disabled={!pdfToCompress || isCompressingPdf} className=\"w-full\">\n                        {isCompressingPdf ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Download className=\"mr-2 h-4 w-4\" />}\n                        {texts.compressPdfButton}\n                    </Button>\n                    <p className=\"text-xs text-muted-foreground\">{texts.pdfCompressionNote}</p>\n                  </CardContent>\n                </Card>\n              </div>\n\n            </div>\n          ) : viewMode === 'grid' ? (\n              <div ref={mainViewContainerRef} className=\"flex-grow p-6 overflow-y-auto\">\n                <Card className=\"shadow-lg\">\n                  <CardHeader className=\"flex flex-row items-center justify-between\">\n                    <div>\n                      <CardTitle className=\"flex items-center text-xl\"><Shuffle className=\"mr-2 h-5 w-5 text-primary\" /> {texts.pageManagement}</CardTitle>\n                      <CardDescription>\n                        {pageObjects.length} {texts.pagesLoaded}.\n                        {selectedPageIds.size > 0 ? ` ${selectedPageIds.size} ${texts.pageSelectedSuffix}.` : ''}\n                      </CardDescription>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button onClick={handleSplitPdf} variant=\"outline\" size=\"sm\" disabled={selectedPageIds.size === 0}>\n                        <Scissors className=\"mr-2 h-4 w-4\" /> {texts.splitPages}\n                      </Button>\n                      <Button onClick={() => { setPageToDelete(null); setIsDeleteConfirmOpen(true); }} variant=\"destructive\" size=\"sm\" disabled={selectedPageIds.size === 0}>\n                        <Trash2 className=\"mr-2 h-4 w-4\" /> {texts.deletePages}\n                      </Button>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <div\n                      id=\"previewContainer\"\n                      className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-1 bg-muted/20 rounded-md min-h-[200px]\"\n                    >\n                      {pageObjects.map((pageObj, index) => (\n                        <PagePreviewItem\n                          key={pageObj.id}\n                          pageObj={pageObj}\n                          index={index}\n                          isSelected={selectedPageIds.has(pageObj.id)}\n                          onClick={(e) => handleThumbnailClick(index, e)}\n                          onDoubleClick={() => {\n                            setActivePageIndex(index);\n                            setViewMode('editor');\n                          }}\n                          watermarkConfig={watermarkConfig}\n                          texts={texts}\n                        />\n                      ))}\n                    </div>\n                    <div className=\"mt-4 text-sm text-muted-foreground space-y-1\">\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> {texts.instSelect}</p>\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> {texts.instDrag}</p>\n                      <p><Info className=\"inline h-4 w-4 mr-1 text-primary/80\" /> Double-click page to enter editor mode.</p>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n          ) : (\n            <>\n                <div ref={thumbnailContainerRef} className=\"w-[13%] border-r bg-card flex-shrink-0 overflow-y-auto p-2 space-y-2\">\n                    {pageObjects.map((page, index) => {\n                        const isActive = activePageIndex === index;\n                        return (\n                           <div key={page.id}\n                                ref={el => thumbnailRefs.current[index] = el}\n                                data-id={page.id}\n                                onClick={(e) => handleThumbnailClick(index, e)}\n                                className={cn(\n                                    \"p-1 rounded-md cursor-pointer border-2\",\n                                    isActive ? \"border-primary\" : \"border-transparent\"\n                                )}>\n                                <canvas\n                                    ref={canvas => {\n                                        if (canvas) {\n                                            const ctx = canvas.getContext('2d');\n                                            if (!ctx) return;\n                                            const source = page.sourceCanvas;\n                                            const aspectRatio = source.width / source.height;\n                                            canvas.width = 240;\n                                            canvas.height = 240 / aspectRatio;\n                                            ctx.drawImage(source, 0, 0, canvas.width, canvas.height);\n                                        }\n                                    }}\n                                    className=\"w-full h-auto rounded-sm shadow-md bg-white\"\n                                />\n                               <p className='text-center text-xs mt-1 text-muted-foreground'>{texts.page} {index + 1}</p>\n                           </div>\n                        )\n                    })}\n                </div>\n\n                <div ref={mainViewContainerRef} className=\"flex-grow bg-muted/30 overflow-y-auto flex flex-col items-center p-4 space-y-4 relative\" onClick={() => {setSelectedAnnotationId(null); setEditingAnnotationId(null); setSelectedImageId(null); setSelectedHighlightId(null)}}>\n                    {pageObjects.map((page, index) => {\n                        const {sourceCanvas, rotation} = page;\n                        \n                        return (\n                            <div \n                                key={page.id} \n                                ref={el => pageRefs.current[index] = el} \n                                data-page-index={index} \n                                className=\"shadow-lg bg-white relative my-2 main-page-container\" \n                                style={{\n                                    width: (rotation % 180 !== 0 ? sourceCanvas.height : sourceCanvas.width) * mainCanvasZoom,\n                                    height: (rotation % 180 !== 0 ? sourceCanvas.width : sourceCanvas.height) * mainCanvasZoom\n                                }}\n                            >\n                                <canvas\n                                    ref={canvas => {\n                                        if (canvas) {\n                                            const isRotated = rotation % 180 !== 0;\n                                            const canvasWidth = isRotated ? sourceCanvas.height : sourceCanvas.width;\n                                            const canvasHeight = isRotated ? sourceCanvas.width : sourceCanvas.height;\n                                            \n                                            canvas.width = canvasWidth;\n                                            canvas.height = canvasHeight;\n\n                                            const ctx = canvas.getContext('2d');\n                                            if (!ctx) return;\n                                            \n                                            ctx.save();\n                                            ctx.fillStyle = 'white';\n                                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                            ctx.restore();\n\n                                            ctx.save();\n                                            ctx.translate(canvas.width / 2, canvas.height / 2);\n                                            ctx.rotate(rotation * Math.PI / 180);\n                                            ctx.drawImage(sourceCanvas, -sourceCanvas.width / 2, -sourceCanvas.height / 2);\n                                            ctx.restore();\n                                            \n                                            canvas.style.width = `${canvasWidth * mainCanvasZoom}px`;\n                                            canvas.style.height = `${canvasHeight * mainCanvasZoom}px`;\n                                        }\n                                    }}\n                                />\n                                {((watermarkConfig.type === 'text' && watermarkConfig.text) || (watermarkConfig.type === 'image' && watermarkConfig.imageUrl)) && (\n                                    <div\n                                        style={{\n                                            position: 'absolute',\n                                            top: `${watermarkConfig.topRatio * 100}%`,\n                                            left: `${watermarkConfig.leftRatio * 100}%`,\n                                            transform: 'translate(-50%, -50%)',\n                                            opacity: watermarkConfig.opacity,\n                                            pointerEvents: 'none',\n                                            zIndex: 10,\n                                        }}\n                                    >\n                                        {watermarkConfig.type === 'text' ? (\n                                            <span style={{\n                                              color: watermarkConfig.color,\n                                              fontSize: `${watermarkConfig.fontSize * mainCanvasZoom}px`,\n                                              whiteSpace: 'nowrap',\n                                            }}>\n                                              {watermarkConfig.text}\n                                            </span>\n                                        ) : (\n                                            <img\n                                                src={watermarkConfig.imageUrl!}\n                                                alt=\"watermark\"\n                                                style={{\n                                                    maxWidth: '200px', // Adjust as needed\n                                                    maxHeight: '200px',\n                                                    width: 'auto',\n                                                    height: 'auto'\n                                                }}\n                                            />\n                                        )}\n                                    </div>\n                                )}\n                                {highlightAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <div\n                                        key={ann.id}\n                                        onMouseDown={(e) => handleDragMouseDown(e, 'highlight', ann.id)}\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            if (!isDraggingRef.current) {\n                                                setSelectedHighlightId(ann.id);\n                                                setSelectedAnnotationId(null);\n                                                setEditingAnnotationId(null);\n                                                setSelectedImageId(null);\n                                            }\n                                        }}\n                                        className={cn(\n                                            \"absolute cursor-grab\",\n                                            selectedHighlightId === ann.id && \"border-2 border-dashed border-primary\"\n                                        )}\n                                        style={{\n                                            left: `${ann.leftRatio * 100}%`,\n                                            top: `${ann.topRatio * 100}%`,\n                                            width: `${ann.widthRatio * 100}%`,\n                                            height: `${ann.heightRatio * 100}%`,\n                                            backgroundColor: ann.color,\n                                            mixBlendMode: 'multiply',\n                                            zIndex: 15\n                                        }}\n                                    >\n                                        {selectedHighlightId === ann.id && (\n                                            <div\n                                                className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                                                onMouseDown={(e) => handleDragMouseDown(e, 'highlight-resize', ann.id)}\n                                            />\n                                        )}\n                                    </div>\n                                ))}\n                                {imageAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <div\n                                        key={ann.id}\n                                        onMouseDown={(e) => {\n                                            e.stopPropagation();\n                                            setSelectedImageId(ann.id);\n                                            setSelectedAnnotationId(null);\n                                            setEditingAnnotationId(null);\n                                            setSelectedHighlightId(null);\n                                            handleDragMouseDown(e, 'image', ann.id);\n                                        }}\n                                        onClick={(e) => e.stopPropagation()}\n                                        className={cn(\n                                            \"absolute cursor-grab\",\n                                            selectedImageId === ann.id && \"border-2 border-dashed border-primary\"\n                                        )}\n                                        style={{\n                                            left: `${ann.leftRatio * 100}%`,\n                                            top: `${ann.topRatio * 100}%`,\n                                            width: `${ann.widthRatio * 100}%`,\n                                            height: `${ann.heightRatio * 100}%`,\n                                            zIndex: 20\n                                        }}\n                                    >\n                                        <img src={ann.dataUrl} className=\"w-full h-full object-contain pointer-events-none\" alt=\"user content\" />\n                                        {selectedImageId === ann.id && (\n                                          <>\n                                            <div\n                                                className=\"absolute -right-1 -bottom-1 w-4 h-4 bg-primary rounded-full border-2 border-white cursor-se-resize\"\n                                                onMouseDown={(e) => handleDragMouseDown(e, 'image-resize', ann.id)}\n                                            />\n                                            {ann.link && <LinkIcon className=\"absolute -top-1 -right-1 h-4 w-4 text-white bg-blue-500 p-0.5 rounded-full\" />}\n                                          </>\n                                        )}\n                                    </div>\n                                ))}\n                                {textAnnotations.filter(ann => ann.pageIndex === index).map(ann => (\n                                    <TextAnnotationComponent\n                                        key={ann.id}\n                                        annotation={ann}\n                                        mainCanvasZoom={mainCanvasZoom}\n                                        isSelected={selectedAnnotationId === ann.id}\n                                        isEditing={editingAnnotationId === ann.id}\n                                        onAnnotationChange={handleAnnotationChange}\n                                        onSelect={handleAnnotationSelect}\n                                        onDoubleClick={handleAnnotationDoubleClick}\n                                        onDelete={handleDeleteAnnotation}\n                                        onDragStart={(e, id) => {\n                                            if (editingAnnotationId !== id) {\n                                                handleDragMouseDown(e, 'annotation', id);\n                                            }\n                                        }}\n                                        onResizeStart={(e, id) => {\n                                            handleDragMouseDown(e, 'annotation-resize', id)\n                                        }}\n                                    />\n                                ))}\n                            </div>\n                        )\n                    })}\n                    <div className=\"sticky bottom-4 mx-auto bg-card p-2 rounded-full shadow-lg flex items-center gap-1 border\">\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleZoom('out')} title={texts.zoomOut}><ZoomOut className=\"h-5 w-5\" /></Button>\n                        <div className=\"w-20 text-center text-sm font-medium tabular-nums text-foreground\" title=\"Current zoom\">{`${Math.round(mainCanvasZoom * 100)}%`}</div>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleZoom('in')} title={texts.zoomIn}><ZoomIn className=\"h-5 w-5\" /></Button>\n                        <Separator orientation=\"vertical\" className=\"h-6 mx-1\" />\n                        <Button variant=\"ghost\" size=\"icon\" onClick={handleFitPage} title={texts.fitToPage}><Expand className=\"h-5 w-5\" /></Button>\n                        <Button variant=\"ghost\" size=\"icon\" onClick={handleFitToWidth} title={texts.fitToWidth}><Columns className=\"h-5 w-5\" /></Button>\n                    </div>\n                </div>\n\n                <div className=\"w-[17%] border-l bg-card flex-shrink-0 p-4 space-y-4 overflow-y-auto\">\n                    <div className=\"grid grid-cols-2 gap-2\">\n                        <ToolbarButton icon={RotateCw} label={texts.toolRotate} onClick={() => handleRotatePage('cw')} disabled={activePageIndex === null}/>\n                        <ToolbarButton icon={Trash2} label={texts.toolDelete} onClick={() => { if(activePageIndex !== null) { setPageToDelete(activePageIndex); setIsDeleteConfirmOpen(true); } }} disabled={activePageIndex === null}/>\n                        <ToolbarButton icon={FilePlus2} label={texts.toolAddBlank} onClick={handleAddBlankPage} />\n                        <ToolbarButton icon={Combine} label={texts.toolMerge} onClick={() => insertPdfRef.current?.click()} />\n                        <ToolbarButton icon={Scissors} label={texts.toolSplit} onClick={handleSplitPdf} disabled={selectedPageIds.size === 0}/>\n                        <ToolbarButton icon={Droplet} label={texts.toolWatermark} onClick={openWatermarkPreviewModal} disabled={pageObjects.length === 0} />\n                        <ToolbarButton icon={Type} label={texts.toolInsertText} onClick={handleAddTextAnnotation} disabled={activePageIndex === null}/>\n                        <ToolbarButton icon={ImagePlus} label={texts.toolInsertImage} onClick={() => imageUploadRef.current?.click()} disabled={activePageIndex === null}/>\n                        <ToolbarButton icon={Highlighter} label={texts.toolHighlight} onClick={handleAddHighlightAnnotation} disabled={activePageIndex === null} />\n                        <Popover open={isLinkPopoverOpen} onOpenChange={setIsLinkPopoverOpen}>\n                          <PopoverTrigger asChild>\n                            <Button\n                                variant=\"ghost\"\n                                className=\"flex flex-col items-center justify-center h-20 w-full text-xs space-y-1\"\n                                disabled={!selectedAnnotationId && !selectedImageId}\n                                onClick={handleOpenLinkPopover}\n                            >\n                                <LinkIcon className=\"h-6 w-6 text-primary\" />\n                                <span className=\"text-muted-foreground\">{texts.toolInsertLink}</span>\n                            </Button>\n                           </PopoverTrigger>\n                           <PopoverContent className=\"w-80\" side=\"left\" align=\"start\">\n                            {linkPopoverContent}\n                           </PopoverContent>\n                        </Popover>\n                    </div>\n                     <Input\n                        type=\"file\"\n                        id=\"insertPdfInput\"\n                        accept=\"application/pdf\"\n                        onChange={handleInsertPdfFileSelected}\n                        ref={insertPdfRef}\n                        className=\"hidden\"\n                     />\n                      <Input\n                        type=\"file\"\n                        id=\"imageUploadInput\"\n                        accept=\"image/*\"\n                        onChange={handleImageFileSelected}\n                        ref={imageUploadRef}\n                        className=\"hidden\"\n                      />\n\n                      <Separator />\n\n                      <Accordion type=\"single\" collapsible className=\"w-full\">\n                          <AccordionItem value=\"page-numbering\">\n                              <AccordionTrigger>{texts.pageNumberingSectionTitle}</AccordionTrigger>\n                              <AccordionContent className=\"space-y-4\">\n                                  <div className=\"flex items-center space-x-2\">\n                                      <Switch id=\"enable-page-numbers\" checked={pageNumberingConfig.enabled} onCheckedChange={(checked) => setPageNumberingConfig(p => ({ ...p, enabled: checked }))} />\n                                      <Label htmlFor=\"enable-page-numbers\">{texts.enablePageNumbering}</Label>\n                                  </div>\n                                  {pageNumberingConfig.enabled && (\n                                      <>\n                                          <div>\n                                              <Label htmlFor=\"pn-position\">{texts.pageNumberPosition}</Label>\n                                              <Select value={pageNumberingConfig.position} onValueChange={(value: PageNumberPosition) => setPageNumberingConfig(p => ({ ...p, position: value }))}>\n                                                  <SelectTrigger id=\"pn-position\"><SelectValue /></SelectTrigger>\n                                                  <SelectContent>\n                                                      {pageNumberPositions.map(pos => <SelectItem key={pos.value} value={pos.value}>{texts[pos.labelKey]}</SelectItem>)}\n                                                  </SelectContent>\n                                              </Select>\n                                          </div>\n                                          <div>\n                                              <Label htmlFor=\"pn-start\">{texts.pageNumberStart}</Label>\n                                              <Input id=\"pn-start\" type=\"number\" value={pageNumberingConfig.start} onChange={e => setPageNumberingConfig(p => ({ ...p, start: parseInt(e.target.value, 10) || 1 }))} />\n                                          </div>\n                                          <div>\n                                              <Label htmlFor=\"pn-format\">{texts.pageNumberFormat}</Label>\n                                              <Input id=\"pn-format\" value={pageNumberingConfig.format} onChange={e => setPageNumberingConfig(p => ({ ...p, format: e.target.value }))} placeholder={texts.pageNumberFormatPlaceholder} />\n                                          </div>\n                                      </>\n                                  )}\n                              </AccordionContent>\n                          </AccordionItem>\n                          <AccordionItem value=\"pdf-protection\">\n                              <AccordionTrigger>{texts.protectPdfSectionTitle}</AccordionTrigger>\n                              <AccordionContent className=\"space-y-4\">\n                                  <div className=\"flex items-center space-x-2\">\n                                      <Switch id=\"enable-protection\" checked={pdfProtectionConfig.enabled} onCheckedChange={(checked) => setPdfProtectionConfig(p => ({...p, enabled: checked}))} />\n                                      <Label htmlFor=\"enable-protection\">{texts.enablePdfProtection}</Label>\n                                  </div>\n                                  {pdfProtectionConfig.enabled && (\n                                      <div>\n                                          <Label htmlFor=\"pdf-password\">{texts.pdfPassword}</Label>\n                                          <Input id=\"pdf-password\" type=\"password\" value={pdfProtectionConfig.password} onChange={e => setPdfProtectionConfig(p => ({...p, password: e.target.value}))} placeholder={texts.pdfPasswordPlaceholder} />\n                                      </div>\n                                  )}\n                              </AccordionContent>\n                          </AccordionItem>\n                          <AccordionItem value=\"convert-word\">\n                              <AccordionTrigger>{texts.convertToWord}</AccordionTrigger>\n                              <AccordionContent className=\"space-y-4\">\n                                 <Button onClick={handleConvertToWord} disabled={!uploadedPdfFile || isConvertingToWord || !isFirebaseSystemReady} className=\"w-full\">\n                                    {isConvertingToWord ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <FileType className=\"mr-2 h-4 w-4\" />}\n                                    {texts.convertToWord}\n                                 </Button>\n                                 {wordFileUrl && (\n                                     <a href={wordFileUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                                         <Button variant=\"outline\" className=\"w-full\">{texts.downloadWordFile}</Button>\n                                     </a>\n                                 )}\n                                 {wordConversionError && <p className=\"text-sm text-destructive\">{wordConversionError}</p>}\n                                 {!isFirebaseSystemReady && <p className=\"text-xs text-destructive\">{firebaseConfigWarning}</p>}\n                              </AccordionContent>\n                          </AccordionItem>\n                      </Accordion>\n\n                </div>\n            </>\n          )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,oNAA8F,eAAe;AAC7G;AAAA;AACA;;;AA/BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,wCAAmC;IACjC,gJAAA,CAAA,sBAA4B,CAAC,SAAS,GAAG,CAAC,wCAAwC,EAAE,gJAAA,CAAA,UAAgB,CAAC,kBAAkB,CAAC;AAC1H;AAoDA,MAAM,eAAe;IACjB,IAAI;QACA,WAAW;QACX,aAAa;QACb,aAAa;QACb,YAAY;QACZ,aAAa;QACb,aAAa;QACb,eAAe;QACf,kBAAkB;QAClB,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,kBAAkB;QAClB,YAAY;QACZ,UAAU;QACV,UAAU;QACV,kBAAkB;QAClB,YAAY;QACZ,aAAa;QACb,eAAe;QACf,gBAAgB;QAChB,gBAAgB;QAChB,WAAW;QACX,eAAe;QACf,iBAAiB;QACjB,eAAe;QACf,kBAAkB;QAClB,kBAAkB;QAClB,0BAA0B;QAC1B,uBAAuB;QACvB,6BAA6B;QAC7B,oBAAoB;QACpB,kBAAkB;QAClB,aAAa;QACb,oBAAoB;QACpB,0BAA0B;QAC1B,SAAS;QACT,QAAQ;QACR,sBAAsB;QACtB,gBAAgB;QAChB,gBAAgB;QAChB,uBAAuB;QACvB,2BAA2B;QAC3B,wBAAwB;QACxB,qBAAqB;QACrB,uBAAuB;QACvB,oBAAoB;QACpB,mBAAmB;QACnB,oBAAoB;QACpB,qBAAqB;QACrB,wBAAwB;QACxB,4BAA4B;QAC5B,sBAAsB;QACtB,0BAA0B;QAC1B,0BAA0B;QAC1B,2BAA2B;QAC3B,qBAAqB;QACrB,oBAAoB;QACpB,iBAAiB;QACjB,kBAAkB;QAClB,kBAAkB;QAClB,6BAA6B;QAC7B,wBAAwB;QACxB,qBAAqB;QACrB,aAAa;QACb,wBAAwB;QACxB,MAAM;QACN,qBAAqB;QACrB,gBAAgB;QAChB,mBAAmB;QACnB,oBAAoB;QACpB,gBAAgB;QAChB,gBAAgB;QAChB,YAAY;QACZ,cAAc;QACd,WAAW;QACX,cAAc;QACd,oBAAoB;QACpB,oBAAoB;QACpB,0BAA0B;QAC1B,YAAY;QACZ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,uBAAuB,CAAC,gOAAgO,CAAC;QACzP,sBAAsB;QACtB,uBAAuB;QACvB,YAAY;QACZ,cAAc;QACd,aAAa;QACb,YAAY;QACZ,aAAa;QACb,SAAS;QACT,WAAW;QACX,UAAU;QACV,iBAAiB;QACjB,yBAAyB;QACzB,qBAAqB;QACrB,aAAa;QACb,oBAAoB;QACpB,aAAa;QACb,cAAc;QACd,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,4BAA4B;QAC5B,iBAAiB;QACjB,mBAAmB;QACnB,gBAAgB;QAChB,oBAAoB;QACpB,yBAAyB;QACzB,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,qBAAqB;QACrB,0BAA0B;QAC1B,uBAAuB;QACvB,mBAAmB;QACnB,gBAAgB;QAChB,uBAAuB;QACvB,qBAAqB;QACrB,oBAAoB;QACpB,YAAY;QACZ,uBAAuB;QACvB,YAAY;QACZ,UAAU;QACV,wBAAwB;QACxB,8BAA8B;QAC9B,YAAY;QACZ,YAAY;QACZ,cAAc;QACd,WAAW;QACX,WAAW;QACX,eAAe;QACf,gBAAgB;QAChB,iBAAiB;QACjB,eAAe;QACf,gBAAgB;QAChB,mBAAmB;QACnB,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,WAAW;QACX,sBAAsB;QACtB,qBAAqB;QACrB,oBAAoB;QACpB,kBAAkB;QAClB,mBAAmB;QACnB,YAAY;QACZ,aAAa;QACb,cAAc;QACd,eAAe;QACf,UAAU;QACV,YAAY;QACZ,eAAe;QACf,cAAc;QACd,aAAa;IACjB;IACA,IAAI;QACA,WAAW;QACX,aAAa;QACb,aAAa;QACb,YAAY;QACZ,aAAa;QACb,aAAa;QACb,eAAe;QACf,kBAAkB;QAClB,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,kBAAkB;QAClB,YAAY;QACZ,UAAU;QACV,UAAU;QACV,kBAAkB;QAClB,YAAY;QACZ,aAAa;QACb,eAAe;QACf,gBAAgB;QAChB,gBAAgB;QAChB,WAAW;QACX,eAAe;QACf,iBAAiB;QACjB,eAAe;QACf,kBAAkB;QAClB,kBAAkB;QAClB,0BAA0B;QAC1B,uBAAuB;QACvB,6BAA6B;QAC7B,oBAAoB;QACpB,kBAAkB;QAClB,aAAa;QACb,oBAAoB;QACpB,0BAA0B;QAC1B,SAAS;QACT,QAAQ;QACR,sBAAsB;QACtB,gBAAgB;QAChB,gBAAgB;QAChB,uBAAuB;QACvB,2BAA2B;QAC3B,wBAAwB;QACxB,qBAAqB;QACrB,uBAAuB;QACvB,oBAAoB;QACpB,mBAAmB;QACnB,oBAAoB;QACpB,qBAAqB;QACrB,wBAAwB;QACxB,4BAA4B;QAC5B,sBAAsB;QACtB,0BAA0B;QAC1B,0BAA0B;QAC1B,2BAA2B;QAC3B,qBAAqB;QACrB,oBAAoB;QACpB,iBAAiB;QACjB,kBAAkB;QAClB,kBAAkB;QAClB,6BAA6B;QAC7B,wBAAwB;QACxB,qBAAqB;QACrB,aAAa;QACb,wBAAwB;QACxB,MAAM;QACN,qBAAqB;QACrB,gBAAgB;QAChB,mBAAmB;QACnB,oBAAoB;QACpB,gBAAgB;QAChB,gBAAgB;QAChB,YAAY;QACZ,cAAc;QACd,WAAW;QACX,cAAc;QACd,oBAAoB;QACpB,oBAAoB;QACpB,0BAA0B;QAC1B,YAAY;QACZ,OAAO;QACP,QAAQ;QACR,OAAO;QACP,uBAAuB,CAAC,6GAA6G,CAAC;QACtI,sBAAsB;QACtB,uBAAuB;QACvB,YAAY;QACZ,cAAc;QACd,aAAa;QACb,YAAY;QACZ,aAAa;QACb,SAAS;QACT,WAAW;QACX,UAAU;QACV,iBAAiB;QACjB,yBAAyB;QACzB,qBAAqB;QACrB,aAAa;QACb,oBAAoB;QACpB,aAAa;QACb,cAAc;QACd,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,4BAA4B;QAC5B,iBAAiB;QACjB,mBAAmB;QACnB,gBAAgB;QAChB,oBAAoB;QACpB,yBAAyB;QACzB,mBAAmB;QACnB,iBAAiB;QACjB,kBAAkB;QAClB,qBAAqB;QACrB,0BAA0B;QAC1B,uBAAuB;QACvB,mBAAmB;QACnB,gBAAgB;QAChB,uBAAuB;QACvB,qBAAqB;QACrB,oBAAoB;QACpB,YAAY;QACZ,uBAAuB;QACvB,YAAY;QACZ,UAAU;QACV,wBAAwB;QACxB,8BAA8B;QAC9B,YAAY;QACZ,YAAY;QACZ,cAAc;QACd,WAAW;QACX,WAAW;QACX,eAAe;QACf,gBAAgB;QAChB,iBAAiB;QACjB,eAAe;QACf,gBAAgB;QAChB,mBAAmB;QACnB,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,WAAW;QACX,sBAAsB;QACtB,qBAAqB;QACrB,oBAAoB;QACpB,kBAAkB;QAClB,mBAAmB;QACnB,YAAY;QACZ,aAAa;QACb,cAAc;QACd,eAAe;QACf,UAAU;QACV,YAAY;QACZ,eAAe;QACf,cAAc;QACd,aAAa;IACjB;AACJ;AAEA,MAAM,uBAAuB;AAC7B,MAAM,8BAA8B;AAIpC,MAAM,sBAA6F;IACjG;QAAE,OAAO;QAAiB,UAAU;IAAc;IAClD;QAAE,OAAO;QAAe,UAAU;IAAY;IAC9C;QAAE,OAAO;QAAgB,UAAU;IAAa;IAChD;QAAE,OAAO;QAAc,UAAU;IAAW;IAC5C;QAAE,OAAO;QAAY,UAAU;IAAS;IACxC;QAAE,OAAO;QAAa,UAAU;IAAU;CAC3C;AAuBD,MAAM,gCAAkB,6JAAA,CAAA,UAAK,CAAC,IAAI,IAAC,CAAC,EAClC,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,KAAK,EAC3E;;IACC,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAC5C,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,UAAU,OAAO,EAAE;gBACrB,MAAM,uBAAuB,UAAU,OAAO;gBAC9C,MAAM,aAAa,qBAAqB,UAAU,CAAC;gBACnD,IAAI,CAAC,YAAY;gBAEjB,MAAM,eAAe,QAAQ,YAAY;gBACzC,MAAM,WAAW,QAAQ,QAAQ;gBACjC,MAAM,MAAM,WAAW,KAAK,EAAE,GAAG;gBAEjC,IAAI,oBAAoB;gBACxB,IAAI,WAAW,QAAQ,GAAG;oBACxB,qBAAqB,aAAa,MAAM;oBACxC,sBAAsB,aAAa,KAAK;gBAC1C,OAAO;oBACL,qBAAqB,aAAa,KAAK;oBACvC,sBAAsB,aAAa,MAAM;gBAC3C;gBAEA,MAAM,oBAAoB,qBAAqB;gBAC/C,MAAM,kBAAkB;gBACxB,MAAM,mBAAmB,kBAAkB;gBAE3C,qBAAqB,KAAK,GAAG;gBAC7B,qBAAqB,MAAM,GAAG;gBAE9B,WAAW,IAAI;gBACf,WAAW,SAAS,CAAC,qBAAqB,KAAK,GAAG,GAAG,qBAAqB,MAAM,GAAG;gBACnF,WAAW,MAAM,CAAC;gBAClB,WAAW,SAAS,CAAC,cAAc,CAAC,aAAa,KAAK,GAAG,GAAG,CAAC,aAAa,MAAM,GAAG,GAAG,aAAa,KAAK,EAAE,aAAa,MAAM;gBAC7H,WAAW,OAAO;gBAElB,qBAAqB,KAAK,CAAC,KAAK,GAAG,GAAG,gBAAgB,EAAE,CAAC;gBACzD,qBAAqB,KAAK,CAAC,MAAM,GAAG,GAAG,iBAAiB,EAAE,CAAC;YAC7D;QACF;oCAAG;QAAC,QAAQ,YAAY;QAAE,QAAQ,QAAQ;KAAC;IAG3C,MAAM,2BAA2B,KAAK,GAAG,CAAC,GAAG,gBAAgB,QAAQ,GAAG,CAAC,MAAI,EAAE;IAE/E,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,wGAAwG,EAAE,aAAa,uCAAuC,sBAAsB;QAChM,WAAS,QAAQ,EAAE;QACnB,cAAY;QACZ,SAAS;QACT,eAAe;QACf,OAAO;YAAE,UAAU;QAAW;;0BAE9B,6LAAC;gBAAO,KAAK;gBAAW,WAAU;gBAAuB,OAAO;oBAAE,oBAAoB;gBAAK;;;;;;0BAC3F,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,IAAI;oBAAC;oBAAE,QAAQ;;;;;;;YAGvB,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,kBACtD,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK,GAAG,gBAAgB,QAAQ,GAAG,IAAI,CAAC,CAAC;oBACzC,MAAM,GAAG,gBAAgB,SAAS,GAAG,IAAI,CAAC,CAAC;oBAC3C,SAAS;oBACT,iBAAiB;oBACjB,QAAQ;oBACR,cAAc;oBACd,YAAY;oBACZ,YAAY;oBACZ,UAAU,GAAG,yBAAyB,EAAE,CAAC;oBACzC,OAAO,gBAAgB,KAAK;oBAC5B,SAAS,gBAAgB,OAAO;oBAChC,QAAQ;oBACR,eAAe;oBACf,WAAW;gBACb;0BAEC,gBAAgB,IAAI;;;;;;YAGxB,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,kBAC3D,6LAAC;gBACC,KAAK,gBAAgB,QAAQ;gBAC7B,KAAI;gBACJ,OAAO;oBACL,UAAU;oBACV,KAAK,GAAG,gBAAgB,QAAQ,GAAG,IAAI,CAAC,CAAC;oBACzC,MAAM,GAAG,gBAAgB,SAAS,GAAG,IAAI,CAAC,CAAC;oBAC3C,SAAS,gBAAgB,OAAO;oBAChC,QAAQ;oBACR,eAAe;oBACf,UAAU;oBACV,WAAW;oBACX,WAAW;oBACX,WAAW;gBACb;;;;;;;;;;;;AAKV;KAxGM;AAyGN,gBAAgB,WAAW,GAAG;AAE9B,MAAM,gBAAgB,CAAC,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,KAAK,EAAE,cAAc,EAA0H;IAC3M,MAAM,uBACF,6LAAC,qIAAA,CAAA,SAAM;QACH,SAAQ;QACR,WAAU;QACV,SAAS;QACT,UAAU;;0BAEV,6LAAC;gBAAK,WAAU;;;;;;0BAChB,6LAAC;gBAAK,WAAU;0BAAyB;;;;;;;;;;;;IAIjD,IAAI,gBAAgB;QAChB,qBACI,6LAAC,sIAAA,CAAA,UAAO;;8BACJ,6LAAC,sIAAA,CAAA,iBAAc;oBAAC,OAAO;oBAAC,UAAU;8BAAW;;;;;;8BAC7C,6LAAC,sIAAA,CAAA,iBAAc;oBAAC,WAAU;oBAAO,MAAK;oBAAO,OAAM;8BAC9C;;;;;;;;;;;;IAIjB;IAEA,OAAO;AACX;MAzBM;AA2BN,MAAM,QAAQ;IACZ;QAAE,MAAM;QAAS,OAAO;IAAY;IACpC;QAAE,MAAM;QAAmB,OAAO;IAAc;IAChD;QAAE,MAAM;QAAW,OAAO;IAAU;CACrC;AAED,MAAM,YAAY;IAAC;IAAG;IAAG;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;IAAI;CAAG;AAEhF,MAAM,wBAAwB,CAAC,EAAE,UAAU,EAAE,kBAAkB,EAAE,QAAQ,EAA6H;IAClM,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,qIAAA,CAAA,SAAM;gBAAC,OAAO,WAAW,UAAU;gBAAE,eAAe,CAAC,QAAU,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,YAAY;oBAAM;;kCAClH,6LAAC,qIAAA,CAAA,gBAAa;wBAAC,WAAU;kCACrB,cAAA,6LAAC,qIAAA,CAAA,cAAW;4BAAC,aAAY;;;;;;;;;;;kCAE7B,6LAAC,qIAAA,CAAA,gBAAa;kCACT,MAAM,GAAG,CAAC,CAAA,qBAAQ,6LAAC,qIAAA,CAAA,aAAU;gCAAkB,OAAO,KAAK,KAAK;gCAAE,WAAU;0CAAW,KAAK,IAAI;+BAA7D,KAAK,KAAK;;;;;;;;;;;;;;;;0BAGtD,6LAAC,qIAAA,CAAA,SAAM;gBAAC,OAAO,OAAO,WAAW,QAAQ;gBAAG,eAAe,CAAC,QAAU,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,UAAU,OAAO;oBAAO;;kCAC9H,6LAAC,qIAAA,CAAA,gBAAa;wBAAC,WAAU;kCACrB,cAAA,6LAAC,qIAAA,CAAA,cAAW;4BAAC,aAAY;;;;;;;;;;;kCAE7B,6LAAC,qIAAA,CAAA,gBAAa;kCACT,UAAU,GAAG,CAAC,CAAA,qBAAQ,6LAAC,qIAAA,CAAA,aAAU;gCAAY,OAAO,OAAO;gCAAO,WAAU;0CAAW;+BAAhD;;;;;;;;;;;;;;;;0BAGhD,6LAAC,wIAAA,CAAA,YAAS;gBAAC,aAAY;gBAAW,WAAU;;;;;;0BAC5C,6LAAC,qIAAA,CAAA,SAAM;gBAAC,SAAS,WAAW,IAAI;gBAAE,iBAAiB,CAAC,UAAY,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,MAAM;oBAAQ;0BAC9G,cAAA,6LAAC,qMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;;;;;;0BAEpB,6LAAC,qIAAA,CAAA,SAAM;gBAAC,SAAS,WAAW,MAAM;gBAAE,iBAAiB,CAAC,UAAY,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,QAAQ;oBAAQ;0BAClH,cAAA,6LAAC,yMAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;;;;;;0BAEtB,6LAAC,qIAAA,CAAA,SAAM;gBAAC,SAAS,WAAW,SAAS;gBAAE,iBAAiB,CAAC,UAAY,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,WAAW;oBAAQ;0BACxH,cAAA,6LAAC,+MAAA,CAAA,YAAS;oBAAC,WAAU;;;;;;;;;;;0BAEzB,6LAAC,wIAAA,CAAA,YAAS;gBAAC,aAAY;gBAAW,WAAU;;;;;;0BAC5C,6LAAC,sIAAA,CAAA,UAAO;;kCACJ,6LAAC,sIAAA,CAAA,iBAAc;wBAAC,OAAO;kCACnB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAU,MAAK;4BAAO,WAAU;sCAC5C,cAAA,6LAAC;gCAAI,WAAU;gCAAuB,OAAO;oCAAE,iBAAiB,WAAW,KAAK;gCAAC;;;;;;;;;;;;;;;;kCAGzF,6LAAC,sIAAA,CAAA,iBAAc;wBAAC,WAAU;kCACtB,cAAA,6LAAC,oIAAA,CAAA,QAAK;4BAAC,MAAK;4BAAQ,OAAO,WAAW,KAAK;4BAAE,UAAU,CAAC,IAAM,mBAAmB;oCAAE,GAAG,UAAU;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;0BAG9I,6LAAC,wIAAA,CAAA,YAAS;gBAAC,aAAY;gBAAW,WAAU;;;;;;0BAC5C,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAK;gBAAS,OAAO,WAAW,SAAS;gBAAE,eAAe,CAAC,QAAuC,SAAS,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,WAAW;oBAAM;;kCACzK,6LAAC,8IAAA,CAAA,kBAAe;wBAAC,OAAM;kCAAO,cAAA,6LAAC,mNAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;;;;;;kCACnD,6LAAC,8IAAA,CAAA,kBAAe;wBAAC,OAAM;kCAAS,cAAA,6LAAC,uNAAA,CAAA,cAAW;4BAAC,WAAU;;;;;;;;;;;kCACvD,6LAAC,8IAAA,CAAA,kBAAe;wBAAC,OAAM;kCAAQ,cAAA,6LAAC,qNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAEzD,6LAAC,wIAAA,CAAA,YAAS;gBAAC,aAAY;gBAAW,WAAU;;;;;;0BAC5C,6LAAC,qIAAA,CAAA,SAAM;gBAAC,SAAQ;gBAAQ,MAAK;gBAAO,WAAU;gBAA2B,SAAS,IAAM,SAAS,WAAW,EAAE;0BAC1G,cAAA,6LAAC,6MAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIlC;MApDM;AAsDN,MAAM,0BAA0B,CAAC,EAC7B,UAAU,EACV,cAAc,EACd,UAAU,EACV,SAAS,EACT,kBAAkB,EAClB,QAAQ,EACR,aAAa,EACb,QAAQ,EACR,WAAW,EACX,aAAa,EAYhB;;IACG,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAuB;IAEhD,CAAA,GAAA,6JAAA,CAAA,kBAAe,AAAD;mDAAE;YACZ,MAAM,WAAW,YAAY,OAAO;YACpC,IAAI,UAAU;gBACV,SAAS,KAAK,CAAC,MAAM,GAAG;gBACxB,SAAS,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,YAAY,CAAC,EAAE,CAAC;YACxD;QACJ;kDAAG;QAAC,WAAW,IAAI;QAAE,WAAW,QAAQ;QAAE,WAAW,UAAU;QAAE;KAAe;IAGhF,qBACI,6LAAC;QACG,aAAa,CAAC;YACV,IAAI,CAAC,WAAW,YAAY,GAAG,WAAW,EAAE;QAChD;QACA,SAAS,CAAC;YACN,EAAE,eAAe;YACjB,IAAI,CAAC,WAAW,SAAS,WAAW,EAAE,EAAE;QAC5C;QACA,eAAe,CAAC,IAAM,cAAc,WAAW,EAAE,EAAE;QACnD,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,YACA,CAAC,aAAa,eACd,cAAc,CAAC,aAAa,yCAC5B,WAAW,IAAI,IAAI,CAAC,aAAa;QAErC,OAAO;YACH,MAAM,GAAG,WAAW,SAAS,GAAG,IAAI,CAAC,CAAC;YACtC,KAAK,GAAG,WAAW,QAAQ,GAAG,IAAI,CAAC,CAAC;YACpC,OAAO,GAAG,WAAW,UAAU,GAAG,IAAI,CAAC,CAAC;YACxC,QAAQ;YACR,QAAQ;QACZ;;0BAED,6LAAC,uIAAA,CAAA,WAAQ;gBACJ,KAAK;gBACL,OAAO,WAAW,IAAI;gBACtB,UAAU,CAAC,IAAM,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oBAAC;gBAC1E,aAAa,CAAC;oBACV,IAAI,WAAW;wBACX,EAAE,eAAe;oBACrB;gBACJ;gBACA,UAAU,CAAC;gBACX,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,+EACA,YAAY,oCAAoC;gBAEpD,OAAO;oBACH,YAAY,WAAW,UAAU,CAAC,QAAQ,CAAC,WAAW,oCAAoC,WAAW,UAAU;oBAC/G,UAAU,GAAG,WAAW,QAAQ,GAAG,eAAe,EAAE,CAAC;oBACrD,YAAY,WAAW,IAAI,GAAG,SAAS;oBACvC,WAAW,WAAW,MAAM,GAAG,WAAW;oBAC1C,gBAAgB,WAAW,SAAS,GAAG,cAAc;oBACrD,OAAO,WAAW,KAAK;oBACvB,WAAW,WAAW,SAAS;oBAC/B,YAAY;gBAChB;;;;;;YAEH,WAAW,IAAI,IAAI,CAAC,2BAAa,6LAAC,qMAAA,CAAA,OAAQ;gBAAC,WAAU;;;;;;YACrD,cAAc,CAAC,2BACZ,6LAAC;gBACG,WAAU;gBACV,aAAa,CAAC,IAAM,cAAc,GAAG,WAAW,EAAE;;;;;;;;;;;;AAKtE;IA5FM;MAAA;AA+FS,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAEzB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB,EAAE;IAC/D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe,IAAI;IAExE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB;IAE5D,MAAM,uBAAuB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IACpD,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA6B,EAAE;IACrD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,aAAa,EAAE;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAsB;IACzE,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAExE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoB,EAAE;IAC3E,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAChF,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9E,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB,EAAE;IAC9E,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAyB,EAAE;IAC1F,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9E,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB;QAAE,MAAM;QAAO,OAAO;IAAG;IAE3F,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;QAAE,GAAG;QAAG,GAAG;QAAG,aAAa;QAAG,YAAY;QAAG,cAAc;QAAG,eAAe;IAAE;IAC3G,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE7B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;QACtE,MAAM;QACN,MAAM;QACN,UAAU;QACV,UAAU;QACV,WAAW;QACX,UAAU;QACV,OAAO;QACP,SAAS;IACX;IAEA,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;IAChF,MAAM,CAAC,6BAA6B,+BAA+B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/E,MAAM,0BAA0B,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IACzD,MAAM,iCAAiC,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAEjE,MAAM,qCAAqC,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAElE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA+B;IACtF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAEpE,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9E,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7D,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnE,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnE,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC7D,SAAS;QACT,UAAU;QACV,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IAEA,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC7D,SAAS;QACT,UAAU;IACZ;IAEA,MAAM,wBAAwB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IACrD,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA6B,EAAE;IAE1D,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC9C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC9C,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAChD,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAmB;IAEpD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;IAC9D,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IACrD,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAChE,MAAM,uBAAuB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA+B;IAExD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,SAAS,YAAY,CAAC,gBAAgB,IAAI,aAAa,EAAE;QAC3D;sCAAG;QAAC;KAAgB;IAEpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,MAAM,yBAAyB,CAAC,CAAC,yHAAA,CAAA,MAAW,IAAI,CAAC,CAAC,yHAAA,CAAA,UAAO,IAAI,CAAC,CAAC,yHAAA,CAAA,YAAiB;YAChF,IAAI,wBAAwB;gBACxB,yBAAyB;gBACzB,yBAAyB;YAC7B,OAAO;gBACH,yBAAyB;gBACzB,IAAI,aAAa,OAAO,wBAAwB;gBAChD,yBAAyB;YAC7B;QACF;sCAAG;QAAC;QAAiB;KAAM;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,wCAAmC;gBACjC,MAAM,iBAAiB,aAAa,OAAO,CAAC,kBAAkB;gBAC9D,cAAc;gBAEd,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBACpD,IAAI,qBAAqB,aAAa,OAAO,CAAC;gBAC9C,IAAI,oBAAoB;oBACtB,IAAI,eAAe,KAAK,KAAK,CAAC;oBAC9B,IAAI,aAAa,IAAI,KAAK,OAAO;wBAC/B,aAAa,UAAU,CAAC;oBAC1B;gBACF;gBACA,IAAI,2BAA2B,aAAa,OAAO,CAAC;gBACpD,IAAI,0BAA0B;oBAC5B,IAAI,WAAW,KAAK,KAAK,CAAC;oBAC1B,IAAI,SAAS,IAAI,KAAK,OAAO;wBACzB,aAAa,UAAU,CAAC;oBAC5B;gBACF;YACF;QACF;sCAAG,EAAE;IAEL,MAAM,yBAAyB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iEAAE,CAAC;YAC1C,IAAI,aAAa,OAAO,IAAI,CAAC,oBAAoB,OAAO,EAAE;gBACtD,oBAAoB,OAAO,GAAG,2JAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,aAAa,OAAO,EAAE;oBAChE,WAAW;oBACX,YAAY;oBACZ,aAAa;oBACb,WAAW;oBACX,KAAK;iFAAE,CAAC;4BACJ,IAAI,IAAI,QAAQ,KAAK,aAAa,IAAI,QAAQ,KAAK,aAAa,IAAI,QAAQ,KAAK,IAAI,QAAQ,EAAE;4BAE/F;yFAAe,CAAA;oCACX,MAAM,uBAAuB,MAAM,IAAI,CAAC;oCACxC,MAAM,CAAC,UAAU,GAAG,qBAAqB,MAAM,CAAC,IAAI,QAAQ,EAAG;oCAC/D,qBAAqB,MAAM,CAAC,IAAI,QAAQ,EAAG,GAAG;oCAC9C,OAAO;gCACX;;wBACJ;;gBACJ;YACJ;QACF;gEAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,YAAY,MAAM,GAAG,KAAK,aAAa,YAAY,sBAAsB,OAAO,EAAE;gBAClF,uBAAuB;YAC3B,OAAO,IAAI,YAAY,MAAM,GAAG,KAAK,aAAa,UAAU,qBAAqB,OAAO,EAAE;gBACtF,uBAAuB;YAC3B,OAAO,IAAI,oBAAoB,OAAO,EAAE;gBACpC,oBAAoB,OAAO,CAAC,OAAO;gBACnC,oBAAoB,OAAO,GAAG;YAClC;YAEA;+CAAO;oBACH,IAAI,oBAAoB,OAAO,EAAE;wBAC7B,oBAAoB,OAAO,CAAC,OAAO;wBACnC,oBAAoB,OAAO,GAAG;oBAClC;gBACJ;;QACF;sCAAG;QAAC,YAAY,MAAM;QAAE;QAAU;KAAuB;IAEzD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,YAAY,OAAO,EAAE,YAAY,OAAO,CAAC,UAAU;YAEvD,MAAM,UAAU;gBACd,MAAM,qBAAqB,OAAO;gBAClC,YAAY;gBACZ,WAAW;YACb;YAEA,YAAY,OAAO,GAAG,IAAI;+CAAqB,CAAC;oBAC9C,QAAQ,OAAO;uDAAC,CAAA;4BACd,IAAI,MAAM,cAAc,EAAE;gCACxB,MAAM,QAAQ,SAAS,MAAM,MAAM,CAAC,YAAY,CAAC,sBAAsB,KAAK;gCAC5E,mBAAmB;4BACrB;wBACF;;gBACF;8CAAG;YAEH,MAAM,EAAE,SAAS,QAAQ,EAAE,GAAG;YAC9B,MAAM,EAAE,SAAS,YAAY,EAAE,GAAG;YAElC,aAAa,OAAO;+CAAC,CAAA;oBACnB,IAAI,IAAI,SAAS,OAAO,CAAC;gBAC3B;;YAEA;+CAAO;oBACL,IAAI,UAAU;wBACZ,aAAa,OAAO;2DAAC,CAAA;gCACnB,IAAI,IAAI,SAAS,SAAS,CAAC;4BAC7B;;oBACF;gBACF;;QACF;sCAAG;QAAC;QAAa;KAAe;IAEhC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,oBAAoB,QAAQ,cAAc,OAAO,CAAC,gBAAgB,EAAE;gBACtE,cAAc,OAAO,CAAC,gBAAgB,EAAE,eAAe;oBACrD,UAAU;oBACV,OAAO;gBACT;YACF;QACF;sCAAG;QAAC;KAAgB;IAGpB,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;wDAAE;YAC9B,IAAI,CAAC,qBAAqB,OAAO,IAAI,YAAY,MAAM,KAAK,KAAK,oBAAoB,MAAM;YAC3F,MAAM,YAAY,qBAAqB,OAAO;YAC9C,MAAM,iBAAiB,UAAU,WAAW,GAAG;YAC/C,MAAM,kBAAkB,UAAU,YAAY,GAAG;YAEjD,MAAM,aAAa,WAAW,CAAC,gBAAgB;YAC/C,IAAI,CAAC,YAAY;YAEjB,MAAM,aAAa,WAAW,YAAY;YAC1C,MAAM,WAAW,WAAW,QAAQ;YAEpC,IAAI,kBAAkB,AAAC,WAAW,QAAQ,IAAK,WAAW,MAAM,GAAG,WAAW,KAAK;YACnF,IAAI,mBAAmB,AAAC,WAAW,QAAQ,IAAK,WAAW,KAAK,GAAG,WAAW,MAAM;YAEpF,MAAM,aAAa,iBAAiB;YACpC,MAAM,cAAc,kBAAkB;YAEtC,MAAM,UAAU,KAAK,GAAG,CAAC,YAAY;YACrC,kBAAkB;QACtB;uDAAG;QAAC;QAAiB;KAAY;IAEjC,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2DAAE;YACjC,IAAI,CAAC,qBAAqB,OAAO,IAAI,YAAY,MAAM,KAAK,KAAK,oBAAoB,MAAM;YAC3F,MAAM,iBAAiB,qBAAqB,OAAO,CAAC,WAAW,GAAG;YAClE,MAAM,aAAa,WAAW,CAAC,gBAAgB;YAC/C,IAAI,CAAC,YAAY;YAEjB,MAAM,aAAa,WAAW,YAAY;YAC1C,MAAM,WAAW,WAAW,QAAQ;YACpC,IAAI,kBAAkB,AAAC,WAAW,QAAQ,IAAK,WAAW,MAAM,GAAG,WAAW,KAAK;YAEnF,MAAM,UAAU,iBAAiB;YACjC,kBAAkB;QACtB;0DAAG;QAAC;QAAiB;KAAY;IAGjC,MAAM,iBAAiB,CAAC;QACtB,mBAAmB;IACrB;IAEA,MAAM,eAAe;QACnB,wCAAmC;YACjC,aAAa,UAAU,CAAC;QAC1B;QACA,cAAc;QACd,MAAM;YAAE,OAAO,MAAM,MAAM;YAAE,aAAa,oBAAoB,OAAO,YAAY;QAAyC;IAC5H;IAGA,MAAM,iBAAiB,OAAO;QAC5B,MAAM,cAAc,MAAM,KAAK,WAAW;QAC1C,MAAM,cAAc,MAAM,CAAA,GAAA,gJAAA,CAAA,cAAoB,AAAD,EAAE;YAC7C,MAAM;YACN,SAAS,CAAC,kCAAkC,EAAE,gJAAA,CAAA,UAAgB,CAAC,OAAO,CAAC;YACvE,YAAY;QACd,GAAG,OAAO;QAEV,MAAM,WAAW,YAAY,QAAQ;QACrC,MAAM,oBAAkC,EAAE;QAC1C,IAAK,IAAI,IAAI,GAAG,KAAK,UAAU,IAAK;YAClC,MAAM,OAAO,MAAM,YAAY,OAAO,CAAC;YACvC,MAAM,WAAW,KAAK,WAAW,CAAC;gBAAE,OAAO;YAAI;YAC/C,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,KAAK,GAAG,SAAS,KAAK;YAC7B,OAAO,MAAM,GAAG,SAAS,MAAM;YAC/B,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,IAAI,CAAC,KAAK;YACV,MAAM,KAAK,MAAM,CAAC;gBAAE,eAAe;gBAAK;YAAS,GAAG,OAAO;YAC3D,kBAAkB,IAAI,CAAC;gBAAE,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;gBAAK,cAAc;gBAAQ,UAAU;YAAE;QAC3E;QACA,OAAO;YAAE,gBAAgB;YAAmB,UAAU;QAAY;IACpE;IAEA,MAAM,kBAAkB,OAAO;QAC7B,IAAI,OAAoB;QACxB,IAAI,kBAAkB,OAAO;YACzB,MAAM,cAAc;YACpB,MAAM,eAAe;YACrB,IAAI,MAAM,YAAY,CAAC,KAAK,IAAI,MAAM,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;gBACjE,OAAO,MAAM,YAAY,CAAC,KAAK,CAAC,EAAE;gBAClC,MAAM,YAAY,CAAC,SAAS;YAChC;QACJ,OAAO;YACH,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;QACtC;QAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ;YACrC,IAAI,MAAM,MAAM;gBAAE,OAAO,MAAM,SAAS;gBAAE,aAAa,oBAAoB,OAAO,qBAAqB;gBAA2C,SAAS;YAAc;YACzK;QACJ;QACA,mBAAmB;QACnB,eAAe;QACf,uBAAuB;QACvB,mBAAmB,EAAE;QACrB,wBAAwB;QACxB,oBAAoB,EAAE;QACtB,mBAAmB;QACnB,wBAAwB,EAAE;QAC1B,uBAAuB;QAEvB,aAAa;QACb,kBAAkB,MAAM,UAAU;QAClC,IAAI;YACF,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,GAAG,MAAM,eAAe;YAC1D,eAAe;YACf,oBAAoB;YACpB,mBAAmB,IAAI;YACvB,mBAAmB;YACnB,YAAY;YAEZ,qEAAqE;YACrE,WAAW,IAAM,iBAAiB;QAEpC,EAAE,OAAO,KACT;YACE,MAAM;gBAAE,OAAO,MAAM,SAAS;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;YACjF,oBAAoB;YACpB,mBAAmB;YACnB,eAAe,EAAE;YACjB,mBAAmB;QACrB,SAAU;YACR,aAAa;YACb,kBAAkB;YAClB,IAAI,aAAa,OAAO,EAAE,aAAa,OAAO,CAAC,KAAK,GAAG;QACzD;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,iBAAiB,MAAM;YACvB,MAAM,WAAW,YAAY,MAAM,CAAC,CAAC,GAAG,QAAU,UAAU;YAC5D,MAAM,iBAAiB,gBAAgB,SAAS,MAAM,GAAG,SAAS,MAAM,GAAG,IAAI;YAE/E,eAAe;YACf,mBAAmB;YACnB,mBAAmB,IAAI;QAC3B,OAAO;YACH,IAAI,gBAAgB,IAAI,KAAK,GAAG;gBAC5B,MAAM;oBAAE,OAAO,MAAM,cAAc;oBAAE,aAAa,MAAM,cAAc;oBAAE,SAAS;gBAAc;gBAC/F;YACJ;YACA,MAAM,WAAW,YAAY,MAAM,CAAC,CAAA,IAAK,CAAC,gBAAgB,GAAG,CAAC,EAAE,EAAE;YAElE,eAAe;YACf,mBAAmB;YACnB,mBAAmB,IAAI;QAC3B;QAEA,IAAI,YAAY,MAAM,GAAG,CAAC,iBAAiB,OAAO,IAAI,gBAAgB,IAAI,MAAM,GAAG;YACjF,oBAAoB;YACpB,mBAAmB;QACrB;QAEA,MAAM;YAAE,OAAO,MAAM,cAAc;YAAE,aAAa,oBAAoB,OAAO,cAAc;QAAoC;QAC/H,gBAAgB;QAChB,uBAAuB;IACzB;IAGA,MAAM,WAAW,CAAC;QAChB,MAAM,SAAS,4CAA4C,IAAI,CAAC;QAChE,OAAO,SAAS;YACd,GAAG,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;YAC7B,GAAG,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;YAC7B,GAAG,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;QAC/B,IAAI;YAAE,GAAG;YAAG,GAAG;YAAG,GAAG;QAAE;IACzB;IAEA,MAAM,YAAY,CAAC;QACjB,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,IAAI,CAAC,UAAU,OAAO,MAAM,GAAG,GAAG,OAAO;YAAE,GAAG;YAAG,GAAG;YAAG,GAAG;YAAG,GAAG;QAAE;QAClE,OAAO;YACH,GAAG,SAAS,MAAM,CAAC,EAAE,IAAI;YACzB,GAAG,SAAS,MAAM,CAAC,EAAE,IAAI;YACzB,GAAG,SAAS,MAAM,CAAC,EAAE,IAAI;YACzB,GAAG,WAAW,MAAM,CAAC,EAAE;QAC3B;IACF;IAEA,MAAM,aAAa,OAAO,QAAwB;QAChD,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG;QACrC,IAAI,OAAO,2JAAA,CAAA,gBAAa,CAAC,SAAS;QAElC,IAAI,eAAe,aAAa;YAC5B,IAAI,QAAQ,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,oBAAoB;iBACxD,IAAI,MAAM,OAAO,2JAAA,CAAA,gBAAa,CAAC,aAAa;iBAC5C,IAAI,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,gBAAgB;iBACjD,OAAO,2JAAA,CAAA,gBAAa,CAAC,SAAS;QACvC,OAAO,IAAI,eAAe,eAAe;YACrC,IAAI,QAAQ,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,oBAAoB;iBACxD,IAAI,MAAM,OAAO,2JAAA,CAAA,gBAAa,CAAC,cAAc;iBAC7C,IAAI,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,gBAAgB;iBACjD,OAAO,2JAAA,CAAA,gBAAa,CAAC,UAAU;QACxC,OAAO,IAAI,eAAe,WAAW;YACjC,IAAI,QAAQ,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,kBAAkB;iBACtD,IAAI,MAAM,OAAO,2JAAA,CAAA,gBAAa,CAAC,WAAW;iBAC1C,IAAI,QAAQ,OAAO,2JAAA,CAAA,gBAAa,CAAC,cAAc;iBAC/C,OAAO,2JAAA,CAAA,gBAAa,CAAC,OAAO;QACrC;QACA,OAAO,MAAM,OAAO,SAAS,CAAC;IAChC;IAGA,MAAM,oBAAoB;QACxB,IAAI,YAAY,MAAM,KAAK,GAAG;YAC5B,MAAM;gBAAE,OAAO,MAAM,WAAW;gBAAE,aAAa,MAAM,iBAAiB;gBAAE,SAAS;YAAc;YAC/F;QACF;QAEA,IAAI,CAAC,cAAc,aAAkB,aAAa;YAChD,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,qBAAqB,aAAa,OAAO,CAAC;YAC9C,IAAI,eAAe,qBAAqB,KAAK,KAAK,CAAC,sBAAsB;gBAAE,OAAO;gBAAG,MAAM;YAAM;YAEjG,IAAI,aAAa,IAAI,KAAK,OAAO;gBAC/B,eAAe;oBAAE,OAAO;oBAAG,MAAM;gBAAM;YACzC;YAEA,IAAI,aAAa,KAAK,IAAI,sBAAsB;gBAC9C,oBAAoB;gBACpB;YACF;YACA,aAAa,KAAK;YAClB,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC;QAC/D;QAEA,iBAAiB;QACjB,kBAAkB,MAAM,cAAc;QACtC,IAAI;YACF,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YACjD,MAAM,YAAY,MAAM,mMAAA,CAAA,cAAc,CAAC,MAAM;YAE7C,KAAK,MAAM,CAAC,OAAO,QAAQ,IAAI,YAAY,OAAO,GAAI;gBACpD,MAAM,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG;gBAEnC,MAAM,mBAAmB,SAAS,aAAa,CAAC;gBAChD,MAAM,UAAU,iBAAiB,UAAU,CAAC;gBAC5C,IAAI,CAAC,SAAS;gBAEd,MAAM,MAAM,WAAW,KAAK,EAAE,GAAG;gBAEjC,IAAI,WAAW,QAAQ,GAAG;oBACxB,iBAAiB,KAAK,GAAG,aAAa,MAAM;oBAC5C,iBAAiB,MAAM,GAAG,aAAa,KAAK;gBAC9C,OAAO;oBACL,iBAAiB,KAAK,GAAG,aAAa,KAAK;oBAC3C,iBAAiB,MAAM,GAAG,aAAa,MAAM;gBAC/C;gBAEA,QAAQ,SAAS,CAAC,iBAAiB,KAAK,GAAG,GAAG,iBAAiB,MAAM,GAAG;gBACxE,QAAQ,MAAM,CAAC;gBACf,QAAQ,SAAS,CAAC,cAAc,CAAC,aAAa,KAAK,GAAG,GAAG,CAAC,aAAa,MAAM,GAAG,GAAG,aAAa,KAAK,EAAE,aAAa,MAAM;gBAE1H,MAAM,aAAa,iBAAiB,SAAS,CAAC;gBAC9C,MAAM,WAAW,MAAM,UAAU,QAAQ,CAAC;gBAE1C,MAAM,aAAa,UAAU,OAAO,CAAC;oBAAC,iBAAiB,KAAK;oBAAE,iBAAiB,MAAM;iBAAC;gBACtF,WAAW,SAAS,CAAC,UAAU;oBAAE,GAAG;oBAAG,GAAG;oBAAG,OAAO,iBAAiB,KAAK;oBAAE,QAAQ,iBAAiB,MAAM;gBAAC;gBAE5G,MAAM,EAAE,OAAO,SAAS,EAAE,QAAQ,UAAU,EAAE,GAAG,WAAW,OAAO;gBAEnE,yDAAyD;gBACzD,KAAK,MAAM,cAAc,qBAAqB,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,OAAQ;oBAC9E,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,UAAU,WAAW,KAAK;oBACjD,WAAW,aAAa,CAAC;wBACrB,GAAG,WAAW,SAAS,GAAG;wBAC1B,GAAG,aAAc,WAAW,QAAQ,GAAG,aAAe,WAAW,WAAW,GAAG;wBAC/E,OAAO,WAAW,UAAU,GAAG;wBAC/B,QAAQ,WAAW,WAAW,GAAG;wBACjC,OAAO,CAAA,GAAA,oJAAA,CAAA,MAAG,AAAD,EAAE,GAAG,GAAG;wBACjB,SAAS;wBACT,WAAW,4JAAA,CAAA,YAAS,CAAC,QAAQ;oBACjC;gBACJ;gBAEA,0BAA0B;gBAC1B,KAAK,MAAM,cAAc,iBAAiB,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,OAAQ;oBAC1E,IAAI;oBACJ,IAAI,WAAW,OAAO,CAAC,UAAU,CAAC,mBAAmB;wBACjD,gBAAgB,MAAM,UAAU,QAAQ,CAAC,WAAW,OAAO;oBAC/D,OAAO,IAAI,WAAW,OAAO,CAAC,UAAU,CAAC,oBAAoB;wBACzD,gBAAgB,MAAM,UAAU,QAAQ,CAAC,WAAW,OAAO;oBAC/D,OAAO;wBACH;oBACJ;oBAEA,MAAM,OAAO,WAAW,SAAS,GAAG;oBACpC,MAAM,YAAY,WAAW,WAAW,GAAG;oBAC3C,MAAM,OAAO,aAAc,WAAW,QAAQ,GAAG,aAAc;oBAC/D,MAAM,WAAW,WAAW,UAAU,GAAG;oBAEzC,WAAW,SAAS,CAAC,eAAe;wBAAE,GAAG;wBAAM,GAAG;wBAAM,OAAO;wBAAU,QAAQ;oBAAU;oBAE3F,IAAI,WAAW,IAAI,EAAE;wBACjB,MAAM,WAAW;4BAAE,GAAG;4BAAM,GAAG;4BAAM,OAAO;4BAAU,QAAQ;wBAAU;wBACxE,IAAG,WAAW,IAAI,CAAC,IAAI,KAAK,OAAO;4BAC/B,WAAW,gBAAgB,CAAC,UAAU,WAAW,IAAI,CAAC,KAAK;wBAC/D,OAAO,IAAI,WAAW,IAAI,CAAC,IAAI,KAAK,QAAQ;4BACxC,MAAM,gBAAgB,SAAS,WAAW,IAAI,CAAC,KAAK,EAAE;4BACtD,IAAI,CAAC,MAAM,kBAAkB,gBAAgB,KAAK,iBAAiB,UAAU,YAAY,IAAI;gCAC1F,MAAM,aAAa,UAAU,QAAQ,EAAE,CAAC,gBAAgB,EAAE;gCAC1D,WAAW,iBAAiB,CAAC,UAAU;4BAC1C;wBACJ;oBACJ;gBACJ;gBAEA,yBAAyB;gBACzB,KAAK,MAAM,cAAc,gBAAgB,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,OAAQ;oBACzE,MAAM,OAAO,MAAM,WAAW,WAAW;oBACzC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,SAAS,WAAW,KAAK;oBAC7C,MAAM,WAAW,WAAW,UAAU,GAAG;oBAEzC,MAAM,aAAa,CAAA,GAAA,4JAAA,CAAA,sBAAmB,AAAD,EAAE,WAAW,IAAI,EAAE;wBACpD;wBACA,QAAQ;4BAAE,OAAO;4BAAU,QAAQ;wBAAS;wBAC5C,UAAU,WAAW,QAAQ;wBAC7B,YAAY,WAAW,QAAQ,GAAG;wBAClC,WAAW,WAAW,SAAS,KAAK,SAAS,IAAI,WAAW,SAAS,KAAK,WAAW,IAAI;oBAC7F;oBAEA,MAAM,aAAa,WAAW,KAAK,CAAC,MAAM,GAAG,WAAW,QAAQ,GAAG;oBACnE,MAAM,IAAI,WAAW,SAAS,GAAG;oBACjC,MAAM,IAAI,aAAc,WAAW,QAAQ,GAAG;oBAE9C,WAAW,iBAAiB;oBAC5B,WAAW,QAAQ,CAAC,WAAW,KAAK,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO;wBAC9D;wBACA,GAAG,IAAI,KAAK,MAAM,GAAG,CAAC,WAAW,QAAQ,GAAG,KAAK,UAAU;wBAC3D;wBACA,MAAM,WAAW,QAAQ;wBACzB,OAAO,CAAA,GAAA,oJAAA,CAAA,MAAG,AAAD,EAAE,GAAG,GAAG;wBACjB,YAAY,WAAW,QAAQ,GAAG;wBAClC,UAAU;wBACV,YAAY;4BAAC;yBAAI;oBACrB;oBAEA,IAAI,WAAW,SAAS,EAAE;wBACxB,MAAM,YAAY,KAAK,iBAAiB,CAAC,WAAW,KAAK,CAAC,GAAG,CAAC,CAAA,IAAG,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,WAAW,QAAQ;wBACxG,WAAW,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM;4BAC5B,MAAM,QAAQ,IAAK,KAAK,MAAM,GAAG,CAAC,WAAW,QAAQ,GAAG,KAAK,UAAU,IAAM,IAAI,WAAW,QAAQ,GAAG,MAAO;4BAC7G,WAAW,QAAQ,CAAC;gCACjB,OAAO;oCAAE,GAAG;oCAAG,GAAG;gCAAM;gCACxB,KAAK;oCAAE,GAAG,IAAI,KAAK,KAAK;oCAAE,GAAG;gCAAM;gCACnC,WAAW;gCACX,OAAO,CAAA,GAAA,oJAAA,CAAA,MAAG,AAAD,EAAE,GAAG,GAAG;4BACrB;wBACJ;oBACF;oBACA,WAAW,gBAAgB;oBAE3B,IAAI,WAAW,IAAI,EAAE;wBACjB,MAAM,WAAW;4BAAE;4BAAG,GAAG,IAAI;4BAAY,OAAO;4BAAU,QAAQ;wBAAW;wBAC7E,IAAG,WAAW,IAAI,CAAC,IAAI,KAAK,OAAO;4BAC/B,WAAW,gBAAgB,CAAC,UAAU,WAAW,IAAI,CAAC,KAAK;wBAC/D,OAAO,IAAI,WAAW,IAAI,CAAC,IAAI,KAAK,QAAQ;4BACxC,MAAM,gBAAgB,SAAS,WAAW,IAAI,CAAC,KAAK,EAAE;4BACtD,IAAI,CAAC,MAAM,kBAAkB,gBAAgB,KAAK,iBAAiB,UAAU,YAAY,IAAI;gCAC1F,MAAM,aAAa,UAAU,QAAQ,EAAE,CAAC,gBAAgB,EAAE;gCAC1D,WAAW,iBAAiB,CAAC,UAAU;4BAC1C;wBACJ;oBACJ;gBACJ;gBAEA,IAAI,AAAC,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,IAAM,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,EAAG;oBAC7H,WAAW,iBAAiB;oBAC5B,WAAW,UAAU,CAAC,gBAAgB,OAAO;oBAC7C,MAAM,gBAAgB,MAAM,UAAU,SAAS,CAAC,2JAAA,CAAA,gBAAa,CAAC,SAAS;oBACvE,IAAI,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,EAAE;wBACzD,MAAM,uBAAuB,gBAAgB,QAAQ;wBACrD,MAAM,YAAY,SAAS,gBAAgB,KAAK;wBAChD,MAAM,YAAY,cAAc,iBAAiB,CAAC,gBAAgB,IAAI,EAAE;wBACxE,MAAM,aAAa,cAAc,YAAY,CAAC;wBAE9C,MAAM,eAAe,gBAAgB,SAAS,GAAG,YAAY,YAAY;wBACzE,MAAM,eAAe,aAAc,gBAAgB,QAAQ,GAAG,aAAc,aAAa;wBAGzF,WAAW,QAAQ,CAAC,gBAAgB,IAAI,EAAE;4BACtC,GAAG;4BACH,GAAG;4BACH,MAAM;4BACN,MAAM;4BACN,OAAO,CAAA,GAAA,oJAAA,CAAA,MAAG,AAAD,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC;wBACpD;oBACJ,OAAO,IAAI,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,EAAE;wBACrE,IAAI;4BACA,MAAM,aAAa,MAAM,MAAM,gBAAgB,QAAQ,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,WAAW;4BACpF,IAAI;4BACJ,IAAI,gBAAgB,QAAQ,CAAC,UAAU,CAAC,mBAAmB;gCACvD,eAAe,MAAM,UAAU,QAAQ,CAAC;4BAC5C,OAAO,IAAI,gBAAgB,QAAQ,CAAC,UAAU,CAAC,sBAAsB,gBAAgB,QAAQ,CAAC,UAAU,CAAC,mBAAmB;gCACxH,eAAe,MAAM,UAAU,QAAQ,CAAC;4BAC5C;4BAEA,IAAI,cAAc;gCACd,MAAM,EAAE,OAAO,gBAAgB,EAAE,QAAQ,iBAAiB,EAAE,GAAG,aAAa,KAAK,CAAC;gCAClF,MAAM,cAAc,gBAAgB,SAAS,GAAG,YAAY,mBAAmB;gCAC/E,MAAM,cAAc,aAAc,gBAAgB,QAAQ,GAAG,aAAc,oBAAoB;gCAE/F,WAAW,SAAS,CAAC,cAAc;oCAC/B,GAAG;oCACH,GAAG;oCACH,OAAO;oCACP,QAAQ;gCACZ;4BACJ;wBACJ,EAAE,OAAO,QAAQ;4BACb,QAAQ,KAAK,CAAC,oCAAoC;4BAClD,MAAM;gCAAE,OAAO;gCAAmB,aAAa;gCAAoC,SAAS;4BAAc;wBAC9G;oBACJ;oBACA,WAAW,gBAAgB;gBAC/B;gBAGA,IAAI,oBAAoB,OAAO,EAAE;oBAC7B,MAAM,EAAE,OAAO,WAAW,EAAE,QAAQ,YAAY,EAAE,GAAG,WAAW,OAAO;oBACvE,MAAM,iBAAiB,QAAQ,oBAAoB,KAAK;oBACxD,MAAM,gBAAgB,YAAY,MAAM;oBAExC,IAAI,OAAO,oBAAoB,MAAM,CAChC,OAAO,CAAC,UAAU,eAAe,QAAQ,IACzC,OAAO,CAAC,WAAW,cAAc,QAAQ;oBAE9C,MAAM,WAAW,oBAAoB,QAAQ;oBAC7C,MAAM,SAAS,MAAM,UAAU,SAAS,CAAC,2JAAA,CAAA,gBAAa,CAAC,SAAS;oBAChE,MAAM,eAAe,OAAO,iBAAiB,CAAC,MAAM;oBACpD,MAAM,WAAW,OAAO,QAAQ,GAAG,OAAO,UAAU,GAAG;oBAEvD,IAAI,GAAG;oBACP,OAAQ,oBAAoB,QAAQ;wBAChC,KAAK;4BAAY,IAAI,oBAAoB,MAAM;4BAAE,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBAC3G,KAAK;4BAAc,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBACrH,KAAK;4BAAa,IAAI,cAAc,oBAAoB,MAAM,GAAG;4BAAc,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBACzI,KAAK;4BAAe,IAAI,oBAAoB,MAAM;4BAAE,IAAI,oBAAoB,MAAM;4BAAE;wBACpF,KAAK;4BAAiB,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,oBAAoB,MAAM;4BAAE;wBAC9F,KAAK;4BAAgB,IAAI,cAAc,oBAAoB,MAAM,GAAG;4BAAc,IAAI,oBAAoB,MAAM;4BAAE;wBAClH;4BAAS,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,oBAAoB,MAAM;oBACnF;oBACA,WAAW,QAAQ,CAAC,MAAM;wBAAE;wBAAG;wBAAG,MAAM;wBAAQ,MAAM;wBAAU,OAAO,CAAA,GAAA,oJAAA,CAAA,YAAS,AAAD,EAAE;oBAAG;gBACxF;YACF;YAEA,IAAI,oBAAoB,OAAO,IAAI,oBAAoB,QAAQ,EAAE;gBAC/D,MAAM,UAAU,OAAO,CAAC;oBACtB,cAAc,oBAAoB,QAAQ;oBAC1C,eAAe,oBAAoB,QAAQ;oBAC3C,aAAa,CAAC;gBAChB;YACF;YAEA,MAAM,WAAW,MAAM,UAAU,IAAI;YACrC,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAS,EAAE;gBAAE,MAAM;YAAkB;YAC5D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG;YACb,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,IAAI,eAAe,CAAC;YACpB,MAAM;gBAAE,OAAO,MAAM,WAAW;gBAAE,aAAa,oBAAoB,OAAO,cAAc;YAA+B;QACzH,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;gBAAE,OAAO,MAAM,aAAa;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;QACvF,SAAU;YACR,iBAAiB;YACjB,kBAAkB;QACpB;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,gBAAgB,YAAY,MAAM,CAAC,CAAA,IAAK,gBAAgB,GAAG,CAAC,EAAE,EAAE;QACtE,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,MAAM;gBAAE,OAAO,MAAM,UAAU;gBAAE,aAAa,MAAM,cAAc;gBAAE,SAAS;YAAc;YAC3F;QACF;QAEA,IAAI,CAAC,cAAc,aAAkB,aAAa;YAChD,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,qBAAqB,aAAa,OAAO,CAAC;YAC9C,IAAI,eAAe,qBAAqB,KAAK,KAAK,CAAC,sBAAsB;gBAAE,OAAO;gBAAG,MAAM;YAAM;YAEjG,IAAI,aAAa,IAAI,KAAK,OAAO;gBAC/B,eAAe;oBAAE,OAAO;oBAAG,MAAM;gBAAM;YACzC;YAEA,IAAI,aAAa,KAAK,IAAI,sBAAsB;gBAC9C,oBAAoB;gBACpB;YACF;YACA,aAAa,KAAK;YAClB,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC;QAC/D;QAEA,iBAAiB;QACjB,kBAAkB,MAAM,cAAc;QACtC,IAAI;YACF,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YACjD,MAAM,YAAY,MAAM,mMAAA,CAAA,cAAc,CAAC,MAAM;YAC7C,MAAM,gBAAgB,MAAM,UAAU,SAAS,CAAC,2JAAA,CAAA,gBAAa,CAAC,SAAS;YAEvE,KAAK,MAAM,CAAC,OAAO,QAAQ,IAAI,cAAc,OAAO,GAAI;gBACtD,MAAM,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG;gBACnC,MAAM,mBAAmB,SAAS,aAAa,CAAC;gBAChD,MAAM,UAAU,iBAAiB,UAAU,CAAC;gBAC5C,IAAI,CAAC,SAAS;gBAEd,MAAM,MAAM,WAAW,KAAK,EAAE,GAAG;gBACjC,IAAI,WAAW,QAAQ,GAAG;oBACxB,iBAAiB,KAAK,GAAG,aAAa,MAAM;oBAC5C,iBAAiB,MAAM,GAAG,aAAa,KAAK;gBAC9C,OAAO;oBACL,iBAAiB,KAAK,GAAG,aAAa,KAAK;oBAC3C,iBAAiB,MAAM,GAAG,aAAa,MAAM;gBAC/C;gBAEA,QAAQ,SAAS,CAAC,iBAAiB,KAAK,GAAG,GAAG,iBAAiB,MAAM,GAAG;gBACxE,QAAQ,MAAM,CAAC;gBACf,QAAQ,SAAS,CAAC,cAAc,CAAC,aAAa,KAAK,GAAG,GAAG,CAAC,aAAa,MAAM,GAAG,GAAG,aAAa,KAAK,EAAE,aAAa,MAAM;gBAE1H,MAAM,aAAa,iBAAiB,SAAS,CAAC;gBAC9C,MAAM,WAAW,MAAM,UAAU,QAAQ,CAAC;gBAC1C,MAAM,aAAa,UAAU,OAAO,CAAC;oBAAC,iBAAiB,KAAK;oBAAE,iBAAiB,MAAM;iBAAC;gBACtF,WAAW,SAAS,CAAC,UAAU;oBAAE,GAAG;oBAAG,GAAG;oBAAG,OAAO,iBAAiB,KAAK;oBAAE,QAAQ,iBAAiB,MAAM;gBAAC;gBAE5G,MAAM,EAAE,OAAO,SAAS,EAAE,QAAQ,UAAU,EAAE,GAAG,WAAW,OAAO;gBACnE,IAAI,AAAC,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,IAAM,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,EAAG;oBAC7H,WAAW,iBAAiB;oBAC5B,WAAW,UAAU,CAAC,gBAAgB,OAAO;oBAC7C,IAAI,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,EAAE;wBACzD,MAAM,uBAAuB,gBAAgB,QAAQ;wBACrD,MAAM,YAAY,SAAS,gBAAgB,KAAK;wBAChD,MAAM,YAAY,cAAc,iBAAiB,CAAC,gBAAgB,IAAI,EAAE;wBACxE,MAAM,aAAa,cAAc,YAAY,CAAC;wBAC9C,MAAM,eAAe,gBAAgB,SAAS,GAAG,YAAY,YAAY;wBACzE,MAAM,eAAe,aAAc,gBAAgB,QAAQ,GAAG,aAAc,aAAa;wBACzF,WAAW,QAAQ,CAAC,gBAAgB,IAAI,EAAE;4BAAE,GAAG;4BAAc,GAAG;4BAAc,MAAM;4BAAe,MAAM;4BAAsB,OAAO,CAAA,GAAA,oJAAA,CAAA,MAAG,AAAD,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC,EAAE,UAAU,CAAC;wBAAE;oBACrL,OAAO,IAAI,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,EAAE;wBACrE,IAAI;4BACA,MAAM,aAAa,MAAM,MAAM,gBAAgB,QAAQ,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,WAAW;4BACpF,IAAI;4BACJ,IAAI,gBAAgB,QAAQ,CAAC,UAAU,CAAC,mBAAmB;gCACvD,eAAe,MAAM,UAAU,QAAQ,CAAC;4BAC5C,OAAO,IAAI,gBAAgB,QAAQ,CAAC,UAAU,CAAC,sBAAsB,gBAAgB,QAAQ,CAAC,UAAU,CAAC,mBAAmB;gCACxH,eAAe,MAAM,UAAU,QAAQ,CAAC;4BAC5C;4BACA,IAAI,cAAc;gCACd,MAAM,EAAE,OAAO,gBAAgB,EAAE,QAAQ,iBAAiB,EAAE,GAAG,aAAa,KAAK,CAAC;gCAClF,MAAM,cAAc,gBAAgB,SAAS,GAAG,YAAY,mBAAmB;gCAC/E,MAAM,cAAc,aAAc,gBAAgB,QAAQ,GAAG,aAAc,oBAAoB;gCAC/F,WAAW,SAAS,CAAC,cAAc;oCAAE,GAAG;oCAAa,GAAG;oCAAa,OAAO;oCAAkB,QAAQ;gCAAkB;4BAC5H;wBACJ,EAAE,OAAO,QAAQ;4BAAE,QAAQ,KAAK,CAAC,oCAAoC;4BAAS,MAAM;gCAAE,OAAO;gCAAmB,aAAa;gCAAoC,SAAS;4BAAc;wBAAI;oBAChM;oBACA,WAAW,gBAAgB;gBAC/B;gBAEA,IAAI,oBAAoB,OAAO,EAAE;oBAC7B,MAAM,EAAE,OAAO,WAAW,EAAE,QAAQ,YAAY,EAAE,GAAG,WAAW,OAAO;oBACvE,MAAM,iBAAiB,QAAQ,oBAAoB,KAAK;oBACxD,MAAM,gBAAgB,cAAc,MAAM;oBAC1C,IAAI,OAAO,oBAAoB,MAAM,CAAC,OAAO,CAAC,UAAU,eAAe,QAAQ,IAAI,OAAO,CAAC,WAAW,cAAc,QAAQ;oBAC5H,MAAM,WAAW,oBAAoB,QAAQ;oBAC7C,MAAM,SAAS,MAAM,UAAU,SAAS,CAAC,2JAAA,CAAA,gBAAa,CAAC,SAAS;oBAChE,MAAM,eAAe,OAAO,iBAAiB,CAAC,MAAM;oBACpD,MAAM,WAAW,OAAO,QAAQ,GAAG,OAAO,UAAU,GAAG;oBACvD,IAAI,GAAG;oBACP,OAAQ,oBAAoB,QAAQ;wBAChC,KAAK;4BAAY,IAAI,oBAAoB,MAAM;4BAAE,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBAC3G,KAAK;4BAAc,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBACrH,KAAK;4BAAa,IAAI,cAAc,oBAAoB,MAAM,GAAG;4BAAc,IAAI,eAAe,oBAAoB,MAAM,GAAG;4BAAU;wBACzI,KAAK;4BAAe,IAAI,oBAAoB,MAAM;4BAAE,IAAI,oBAAoB,MAAM;4BAAE;wBACpF,KAAK;4BAAiB,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,oBAAoB,MAAM;4BAAE;wBAC9F,KAAK;4BAAgB,IAAI,cAAc,oBAAoB,MAAM,GAAG;4BAAc,IAAI,oBAAoB,MAAM;4BAAE;wBAClH;4BAAS,IAAI,cAAc,IAAI,eAAe;4BAAG,IAAI,oBAAoB,MAAM;oBACnF;oBACA,WAAW,QAAQ,CAAC,MAAM;wBAAE;wBAAG;wBAAG,MAAM;wBAAQ,MAAM;wBAAU,OAAO,CAAA,GAAA,oJAAA,CAAA,YAAS,AAAD,EAAE;oBAAG;gBACxF;YACF;YAEA,IAAI,oBAAoB,OAAO,IAAI,oBAAoB,QAAQ,EAAE;gBAC/D,MAAM,UAAU,OAAO,CAAC;oBAAE,cAAc,oBAAoB,QAAQ;oBAAE,eAAe,oBAAoB,QAAQ;oBAAE,aAAa,CAAC;gBAAE;YACrI;YAEA,MAAM,WAAW,MAAM,UAAU,IAAI;YACrC,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAS,EAAE;gBAAE,MAAM;YAAkB;YAC5D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG;YACb,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,IAAI,eAAe,CAAC;YACpB,MAAM;gBAAE,OAAO,MAAM,UAAU;gBAAE,aAAa,MAAM,eAAe;YAAC;QACtE,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM;gBAAE,OAAO,MAAM,aAAa;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;QACvF,SAAU;YACR,iBAAiB;YACjB,kBAAkB;QACpB;IACF;IAEA,MAAM,8BAA8B,CAAC;QACnC,IAAI,OAAoB;QACxB,IAAI,kBAAkB,OAAO;YACzB,MAAM,cAAc;YACpB,MAAM,eAAe;YACrB,IAAI,MAAM,YAAY,CAAC,KAAK,IAAI,MAAM,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;gBACjE,OAAO,MAAM,YAAY,CAAC,KAAK,CAAC,EAAE;gBAClC,MAAM,YAAY,CAAC,SAAS;YAChC;QACJ,OAAO;YACH,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;QACtC;QAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ;YACrC,IAAG,MAAM,MAAM;gBAAE,OAAO,MAAM,WAAW;gBAAE,aAAa,oBAAoB,OAAO,qBAAqB;gBAA2C,SAAS;YAAc;YAC1K;QACJ;QAEA,qBAAqB;QACrB,IAAI,YAAY,MAAM,GAAG,KAAK,gBAAgB,IAAI,KAAK,GAAG;YACtD,uBAAuB;QAC3B,OAAO;YACH,kBAAkB;QACtB;IACF;IAEA,MAAM,oBAAoB,OAAO;QAC/B,MAAM,OAAO,gBAAgB;QAC7B,IAAI,CAAC,MAAM;QAEX,aAAa;QACb,kBAAkB,MAAM,YAAY;QACpC,IAAI;YACF,MAAM,EAAE,gBAAgB,iBAAiB,EAAE,GAAG,MAAM,eAAe;YAEnE,IAAI,gBAAgB,oBAAoB,OAAO,kBAAkB,IAAI,YAAY,MAAM;YAEvF,MAAM,yBAAyB;mBAAI;aAAY;YAC/C,uBAAuB,MAAM,CAAC,eAAe,MAAM;YACnD,eAAe;YAEf,MAAM,kBAAkB,iBAAiB,CAAC,EAAE,EAAE;YAC9C,IAAI,iBAAiB;gBACnB,mBAAmB,IAAI,IAAI;oBAAC;iBAAgB;YAC9C;YACA,mBAAmB;YAEnB,MAAM;gBAAE,OAAO,MAAM,eAAe;gBAAE,aAAa,oBAAoB,OAAO,cAAc;YAA6B;QAE3H,EAAE,OAAO,KAAU;YACjB,MAAM;gBAAE,OAAO,MAAM,WAAW;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;QACrF,SAAU;YACR,aAAa;YACb,kBAAkB;YAClB,qBAAqB;YACrB,IAAI,aAAa,OAAO,EAAE,aAAa,OAAO,CAAC,KAAK,GAAG;QACzD;IACF;IAED,MAAM,sBAAsB;QACzB,IAAI,CAAC,iBAAiB;YACpB,MAAM;gBAAE,OAAO,MAAM,gBAAgB;gBAAE,aAAa,MAAM,cAAc;gBAAE,SAAS;YAAc;YACjG;QACF;QAEA,IAAI,CAAC,yBAAyB,CAAC,yHAAA,CAAA,UAAO,IAAI,CAAC,yHAAA,CAAA,YAAiB,EAAE;YAC1D,MAAM;gBAAE,OAAO,MAAM,gBAAgB;gBAAE,aAAa,yBAAyB,CAAC,oBAAoB,OAAO,aAAa,EAAE,CAAC,oBAAoB,GAAG,aAAa,EAAE,CAAC,oBAAoB;gBAAG,SAAS;YAAc;YAC9M;QACJ;QAEA,eAAe;QACf,uBAAuB;QAEvB,IAAI,CAAC,cAAc,aAAkB,aAAa;YAChD,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,2BAA2B,aAAa,OAAO,CAAC;YACpD,IAAI,qBAAqB,2BAA2B,KAAK,KAAK,CAAC,4BAA4B;gBAAE,OAAO;gBAAG,MAAM;YAAM;YAEnH,IAAI,mBAAmB,IAAI,KAAK,OAAO;gBACrC,qBAAqB;oBAAE,OAAO;oBAAG,MAAM;gBAAM;YAC/C;YAEA,IAAI,mBAAmB,KAAK,IAAI,6BAA6B;gBAC3D,sBAAsB;gBACtB;YACF;QACF;QAEA,sBAAsB;QACtB,kBAAkB,MAAM,gBAAgB;QAExC,IAAI;YACF,MAAM,WAAW,CAAC,QAAQ,EAAE,IAAI,OAAO,OAAO,GAAG,CAAC,EAAE,gBAAgB,IAAI,EAAE;YAC1E,MAAM,iBAAiB,CAAA,GAAA,oKAAA,CAAA,MAAU,AAAD,EAAE,yHAAA,CAAA,UAAO,EAAE;YAC3C,MAAM,CAAA,GAAA,oKAAA,CAAA,cAAW,AAAD,EAAE,gBAAgB;YAClC,MAAM,gBAAgB,MAAM,CAAA,GAAA,oKAAA,CAAA,iBAAc,AAAD,EAAE;YAE3C,MAAM,cAAc,CAAC,sEAAsE,CAAC;YAE5F,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS;gBAAc;YAChD;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI;gBACJ,IAAI;oBACA,YAAY,MAAM,SAAS,IAAI;gBACnC,EAAE,OAAO,GAAG;oBACR,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,YAAY;wBAAE,QAAQ,aAAa,SAAS,UAAU;oBAAC;gBAC3D;gBAEA,MAAM,gBAAgB,WAAW,UAAU,WAAW,SAAS,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;gBACvG,IAAI,mBAAmB;gBACvB,IAAI,OAAO,kBAAkB,YAAY,CAAC,cAAc,WAAW,GAAG,QAAQ,CAAC,uBAAuB,cAAc,WAAW,GAAG,QAAQ,CAAC,6BAA6B,cAAc,WAAW,GAAG,QAAQ,CAAC,8BAA8B,GAAI;oBAC1O,mBAAmB,MAAM,wBAAwB;gBACtD;gBACA,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,OAAO,OAAO,EAAE;gBACnB,MAAM,IAAI,MAAM;YAClB;YAEA,eAAe,OAAO,OAAO;YAC7B,MAAM;gBAAE,OAAO,MAAM,kBAAkB;gBAAE,aAAa,MAAM,gBAAgB;YAAC;YAE7E,IAAI,CAAC,cAAc,aAAkB,aAAa;gBAChD,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBACpD,IAAI,2BAA2B,aAAa,OAAO,CAAC;gBACpD,IAAI,qBAAqB,2BAA2B,KAAK,KAAK,CAAC,4BAA4B;oBAAE,OAAO;oBAAG,MAAM;gBAAM;gBACnH,IAAI,mBAAmB,IAAI,KAAK,OAAO;oBAAE,qBAAqB;wBAAE,OAAO;wBAAG,MAAM;oBAAM;gBAAE;gBACxF,mBAAmB,KAAK;gBACxB,aAAa,OAAO,CAAC,+BAA+B,KAAK,SAAS,CAAC;YACrE;QAEF,EAAE,OAAO,OAAY;YACnB,IAAI,SAAS,MAAM,OAAO,IAAI,CAAC,oBAAoB,OAAO,SAAS,eAAe;YAElF,IAAI,OAAO,WAAW,YAAY,CAAC,OAAO,WAAW,GAAG,QAAQ,CAAC,uBAAuB,OAAO,WAAW,GAAG,QAAQ,CAAC,cAAc,OAAO,WAAW,GAAG,QAAQ,CAAC,8BAA+B,GAAG;gBAClM,SAAS,MAAM,wBAAwB;YACzC,OAAO,IAAI,OAAO,WAAW,GAAG,QAAQ,CAAC,8CAA8C;gBACrF,SAAU,oBAAoB,OAAO,0BAA0B;YACjE;YAEA,uBAAuB,GAAG,MAAM,gBAAgB,CAAC,EAAE,EAAE,QAAQ;YAC7D,MAAM;gBAAE,OAAO,MAAM,gBAAgB;gBAAE,aAAa;gBAAQ,SAAS;YAAc;QACrF,SAAU;YACR,sBAAsB;YACtB,kBAAkB;QACpB;IACF;IAEA,MAAM,mBAAmB;QACvB,YAAY,CAAC;YACT,EAAE,cAAc;YAChB,EAAE,eAAe;YACjB,EAAE,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB;QACpD;QACA,aAAa,CAAC;YACV,EAAE,cAAc;YAChB,EAAE,eAAe;YACjB,EAAE,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB;QACvD;QACA,QAAQ,CAAC,GAAoC;YACzC,EAAE,cAAc;YAChB,EAAE,eAAe;YACjB,EAAE,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB;YACnD,QAAQ;QACZ;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG;YAC1C,MAAM;gBAAE,OAAO,MAAM,eAAe;gBAAE,aAAa,MAAM,gBAAgB;gBAAE,SAAS;YAAc;YAClG;QACF;QACA,2BAA2B;QAC3B,kBAAkB,MAAM,uBAAuB;QAC/C,IAAI;YACF,MAAM,SAAS,MAAM,mMAAA,CAAA,cAAc,CAAC,MAAM;YAC1C,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,MAAM,EAAE,IAAK;gBAC1C,MAAM,OAAO,UAAU,CAAC,EAAE;gBAC1B,MAAM,aAAa,MAAM,KAAK,WAAW;gBACzC,IAAI;gBACJ,IAAI,KAAK,IAAI,KAAK,gBAAgB,KAAK,IAAI,KAAK,aAAa;oBAC3D,QAAQ,MAAM,OAAO,QAAQ,CAAC;gBAChC,OAAO,IAAI,KAAK,IAAI,KAAK,aAAa;oBACpC,QAAQ,MAAM,OAAO,QAAQ,CAAC;gBAChC,OAAO;oBACL,QAAQ,IAAI,CAAC,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;oBAC5D,MAAM;wBAAE,OAAO,MAAM,eAAe;wBAAE,aAAa,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;wBAAE,SAAS;oBAAc;oBAClH;gBACF;gBACA,MAAM,OAAO,OAAO,OAAO,CAAC;oBAAC,MAAM,KAAK;oBAAE,MAAM,MAAM;iBAAC;gBACvD,KAAK,SAAS,CAAC,OAAO;oBACpB,GAAG;oBACH,GAAG;oBACH,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;gBACtB;YACF;YACA,IAAI,OAAO,YAAY,OAAO,GAAG;gBAC/B,MAAM;oBAAE,OAAO,MAAM,eAAe;oBAAE,aAAa,MAAM,gBAAgB;oBAAE,SAAS;gBAAc;gBAClG,2BAA2B;gBAC3B,kBAAkB;gBAClB;YACF;YACA,MAAM,WAAW,MAAM,OAAO,IAAI;YAClC,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAS,EAAE;gBAAE,MAAM;YAAkB;YAC5D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG;YACb,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,IAAI,eAAe,CAAC;YACpB,MAAM;gBAAE,OAAO,MAAM,eAAe;gBAAE,aAAa,MAAM,iBAAiB;YAAC;QAC7E,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;gBAAE,OAAO,MAAM,eAAe;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;QACzF,SAAU;YACR,2BAA2B;YAC3B,kBAAkB;YAClB,cAAc;YACd,IAAG,oBAAoB,OAAO,EAAE,oBAAoB,OAAO,CAAC,KAAK,GAAG;QACtE;IACF;IAEA,MAAM,uBAAuB;QAC3B,IAAI,CAAC,eAAe;YAClB,MAAM;gBAAE,OAAO,MAAM,mBAAmB;gBAAE,aAAa,MAAM,eAAe;gBAAE,SAAS;YAAc;YACrG;QACF;QACA,oBAAoB;QACpB,kBAAkB,MAAM,cAAc;QACtC,IAAI;YACF,MAAM,cAAc,MAAM,cAAc,WAAW;YACnD,MAAM,SAAS,MAAM,mMAAA,CAAA,cAAc,CAAC,IAAI,CAAC;YACzC,MAAM,WAAW,MAAM,OAAO,IAAI,CAAC;gBAAE,kBAAkB;YAAM;YAC7D,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAS,EAAE;gBAAE,MAAM;YAAkB;YAC5D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG,GAAG,cAAc,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,eAAe,CAAC;YAC1E,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,IAAI,eAAe,CAAC;YACpB,MAAM;gBAAE,OAAO,MAAM,mBAAmB;gBAAE,aAAa,MAAM,qBAAqB;YAAC;QACrF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;gBAAE,OAAO,MAAM,mBAAmB;gBAAE,aAAa,IAAI,OAAO;gBAAE,SAAS;YAAc;QAC7F,SAAU;YACR,oBAAoB;YACpB,kBAAkB;YAClB,iBAAiB;YACjB,IAAG,qBAAqB,OAAO,EAAE,qBAAqB,OAAO,CAAC,KAAK,GAAG;QACxE;IACF;IAEE,MAAM,sBAAsB,CACxB,OACA,MACA;QAEA,MAAM,eAAe;QAErB,MAAM,WAAW,KAAK,QAAQ,CAAC;QAC/B,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE;QAEnC,MAAM,iBAAiB,MAAM,aAAa;QAC1C,MAAM,mBAAoB,aAAa,cAAc,mCAAmC,OAAO,GAAG,eAAe,OAAO,CAAC;QACzH,IAAI,CAAC,kBAAkB;QAEvB,MAAM,gBAAgB,iBAAiB,qBAAqB;QAE5D,IAAI;QACJ,OAAQ;YACJ,KAAK;gBAAa,mBAAmB;gBAAqB;YAC1D,KAAK;gBAAc,mBAAmB,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAAK;YAC9E,KAAK;gBAAS,mBAAmB,iBAAiB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAAK;YAC1E,KAAK;gBAAa,mBAAmB,qBAAqB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAAK;QACtF;QAEA,IAAI,CAAC,kBAAkB;QAEvB,aAAa,OAAO,GAAG;YACnB,GAAG,MAAM,OAAO;YAChB,GAAG,MAAM,OAAO;YAChB,aAAa,iBAAiB,SAAS,GAAG,cAAc,KAAK;YAC7D,YAAY,iBAAiB,QAAQ,GAAG,cAAc,MAAM;YAC5D,cAAc,gBAAgB,mBAAmB,iBAAiB,UAAU,GAAG,cAAc,KAAK,GAAG;YACrG,eAAe,iBAAiB,mBAAmB,iBAAiB,WAAW,GAAG,cAAc,MAAM,GAAG;QAC7G;QAEA,MAAM,kBAAkB,CAAC;YACrB,UAAU,cAAc;YACxB,cAAc,OAAO,GAAG;YACxB,eAAe,KAAK,CAAC,MAAM,GAAG;YAE9B,MAAM,SAAS,UAAU,OAAO,GAAG,aAAa,OAAO,CAAC,CAAC;YACzD,MAAM,SAAS,UAAU,OAAO,GAAG,aAAa,OAAO,CAAC,CAAC;YAEzD,IAAI,YAAY,iBAAiB,oBAAoB,aAAa,SAAS;gBACvE,MAAM,aAAa,aAAa,OAAO,CAAC,YAAY,GAAG;gBACvD,MAAM,gBAAgB,KAAK,GAAG,CAAC,MAAM,aAAa,cAAc,KAAK;gBACrE,oBAAoB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MACjC,IAAI,EAAE,KAAK,KAAK;4BACZ,GAAG,GAAG;4BACN,YAAY;4BACZ,aAAa,gBAAgB,IAAI,WAAW,GAAG,CAAC,cAAc,KAAK,GAAG,cAAc,MAAM;wBAC9F,IAAI;YAEZ,OAAO,IAAI,YAAY,aAAa,aAAa;gBAC7C,MAAM,aAAa,aAAa,OAAO,CAAC,YAAY,GAAG;gBACvD,MAAM,cAAc,aAAa,OAAO,CAAC,aAAa,GAAG;gBACzD,wBAAwB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MACrC,IAAI,EAAE,KAAK,KAAK;4BACZ,GAAG,GAAG;4BACN,YAAY,KAAK,GAAG,CAAC,MAAM,aAAa,cAAc,KAAK;4BAC3D,aAAa,KAAK,GAAG,CAAC,MAAM,cAAc,cAAc,MAAM;wBAClE,IAAI;YAEZ,OAAO,IAAI,YAAY,aAAa,cAAc;gBAC9C,MAAM,aAAa,aAAa,OAAO,CAAC,YAAY,GAAG;gBACvD,MAAM,gBAAgB,KAAK,GAAG,CAAC,KAAK,aAAa,cAAc,KAAK;gBACnE,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MACjC,IAAI,EAAE,KAAK,KAAK;4BAAE,GAAG,GAAG;4BAAE,YAAY;wBAAc,IAAI;YAEhE,OACK;gBACD,MAAM,YAAY,aAAa,OAAO,CAAC,WAAW,GAAG;gBACrD,MAAM,WAAW,aAAa,OAAO,CAAC,UAAU,GAAG;gBAEnD,MAAM,eAAe,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,YAAY,cAAc,KAAK;gBAC5E,MAAM,cAAc,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,WAAW,cAAc,MAAM;gBAE3E,MAAM,UAAU,CAAC,OAAc,CAAC;wBAAE,GAAG,IAAI;wBAAE,UAAU;wBAAa,WAAW;oBAAa,CAAC;gBAE3F,OAAQ;oBACJ,KAAK;wBAAa,uBAAuB,CAAA,OAAQ,CAAC;gCAAE,GAAG,IAAI;gCAAE,UAAU,WAAW,YAAY,OAAO,CAAC;gCAAK,WAAW,WAAW,aAAa,OAAO,CAAC;4BAAI,CAAC;wBAAI;oBAC/J,KAAK;wBACD,IAAI,wBAAwB,IAAI;wBAChC,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,KAAK,QAAQ,OAAO;wBAC1E;oBACJ,KAAK;wBAAS,oBAAoB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,KAAK,QAAQ,OAAO;wBAAO;oBAChG,KAAK;wBAAa,wBAAwB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,KAAK,QAAQ,OAAO;wBAAO;gBAC5G;YACJ;QACJ;QAEA,MAAM,gBAAgB;YAClB,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,WAAW;YACxC,eAAe,KAAK,CAAC,MAAM,GAAG;YAE9B,WAAW;gBAAQ,cAAc,OAAO,GAAG;YAAO,GAAG;QACzD;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,WAAW;IACzC;IAGF,MAAM,4BAA4B;QAChC,IAAI,YAAY,MAAM,KAAK,GAAG;YAC1B,MAAM;gBAAE,OAAO,MAAM,qBAAqB;gBAAE,aAAa,MAAM,wBAAwB;gBAAE,SAAS;YAAa;YAC/G;QACJ;QACA,uBAAuB;QACvB,+BAA+B;IACjC;IAEC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACT,IAAI,+BAA+B,YAAY,MAAM,GAAG,GAAG;gBACzD,MAAM,SAAS,+BAA+B,OAAO;gBACrD,MAAM,MAAM,QAAQ,WAAW;gBAC/B,MAAM,eAAe,WAAW,CAAC,EAAE,CAAC,YAAY;gBAChD,IAAI,UAAU,OAAO,cAAc;oBACjC,MAAM,YAAY,mCAAmC,OAAO;oBAC5D,IAAI,WAAW;wBACb,MAAM,cAAc,KAAK,GAAG,CAC1B,AAAC,UAAU,WAAW,GAAG,OAAQ,aAAa,KAAK,EACnD,AAAC,UAAU,YAAY,GAAG,OAAQ,aAAa,MAAM;wBAEvD,OAAO,KAAK,GAAG,aAAa,KAAK,GAAG;wBACpC,OAAO,MAAM,GAAG,aAAa,MAAM,GAAG;wBACtC,IAAI,SAAS,CAAC,cAAc,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;oBAC/D;gBACF;YACF;QACF;sCAAG;QAAC;QAA6B;QAAa,oBAAoB,QAAQ;KAAC,GAAG,gCAAgC;IAE9G,MAAM,iCAAiC,OAAO;QAC5C,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG;gBACd,uBAAuB,CAAA,OAAQ,CAAC;wBAC9B,GAAG,IAAI;wBACP,UAAU,OAAO,MAAM;wBACvB,MAAM;oBACR,CAAC;YACH;YACA,OAAO,aAAa,CAAC;QACvB;QACA,IAAI,wBAAwB,OAAO,EAAE,wBAAwB,OAAO,CAAC,KAAK,GAAG;IAC/E;IAGA,MAAM,2BAA2B;QAC/B,mBAAmB;QACnB,+BAA+B;IACjC;IAEA,MAAM,uBAAuB,CAAC,OAAe;QACzC,IAAI,aAAa,UAAU;YACvB,mBAAmB;YACnB,MAAM,aAAa,SAAS,OAAO,CAAC,MAAM;YAC1C,IAAI,YAAY;gBACZ,WAAW,cAAc,CAAC;oBAAE,UAAU;oBAAU,OAAO;gBAAS;YACpE;QACJ,OAAO;YACH,MAAM,YAAY,WAAW,CAAC,MAAM,CAAC,EAAE;YACvC,MAAM,qBAAqB,IAAI,IAAI;YACnC,IAAI,mBAAmB,GAAG,CAAC,YAAY;gBACnC,mBAAmB,MAAM,CAAC;YAC9B,OAAO;gBACH,mBAAmB,GAAG,CAAC;YAC3B;YACA,mBAAmB;QACvB;IACJ;IAEE,MAAM,mBAAmB,CAAC;QACtB,IAAI,oBAAoB,MAAM;QAC9B,eAAe,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAC,MAAM;gBACnC,IAAI,UAAU,iBAAiB;oBAC3B,MAAM,cAAc,CAAC,KAAK,QAAQ,GAAG,CAAC,cAAc,OAAO,KAAK,CAAC,EAAE,IAAI,GAAG,IAAI;oBAC9E,OAAO;wBAAE,GAAG,IAAI;wBAAE,UAAU;oBAAY;gBAC5C;gBACA,OAAO;YACX;IACJ;IAEA,MAAM,qBAAqB;QACvB,MAAM,cAAc,SAAS,aAAa,CAAC;QAE3C,IAAI,YAAY,MAAM,GAAG,KAAK,WAAW,CAAC,EAAE,CAAC,YAAY,EAAE;YACvD,YAAY,KAAK,GAAG,WAAW,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK;YACrD,YAAY,MAAM,GAAG,WAAW,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM;QAC3D,OAAO;YACH,YAAY,KAAK,GAAG;YACpB,YAAY,MAAM,GAAG;QACzB;QAEA,MAAM,MAAM,YAAY,UAAU,CAAC;QACnC,IAAI,KAAK;YACL,IAAI,SAAS,GAAG;YAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,YAAY,KAAK,EAAE,YAAY,MAAM;QAC5D;QACA,MAAM,gBAA4B;YAAE,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;YAAK,cAAc;YAAa,UAAU;QAAE;QAEzF,MAAM,WAAW,CAAC,oBAAoB,OAAO,YAAY,MAAM,GAAG,IAAI,eAAe,IAAI;QAEzF,eAAe,CAAA;YACX,MAAM,WAAW;mBAAI;aAAK;YAC1B,SAAS,MAAM,CAAC,UAAU,GAAG;YAC7B,OAAO;QACX;QAEA,mBAAmB;QACnB,mBAAmB,IAAI,IAAI;YAAC,cAAc,EAAE;SAAC;QAE7C,WAAW;YACP,MAAM,iBAAiB,SAAS,OAAO,CAAC,SAAS;YACjD,IAAI,gBAAgB;gBAChB,eAAe,cAAc,CAAC;oBAAE,UAAU;oBAAU,OAAO;gBAAS;YACxE;QACJ,GAAG;IACP;IAEA,MAAM,0BAA0B;QAC9B,IAAI,oBAAoB,MAAM;YAC1B,MAAM;gBAAE,OAAO,MAAM,cAAc;gBAAE,aAAa,MAAM,cAAc;gBAAE,SAAS;YAAc;YAC/F;QACJ;QACA,MAAM,gBAAgC;YAClC,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;YACT,WAAW;YACX,MAAM,MAAM,oBAAoB;YAChC,UAAU;YACV,WAAW;YACX,YAAY;YACZ,UAAU;YACV,YAAY;YACZ,MAAM;YACN,QAAQ;YACR,WAAW;YACX,OAAO;YACP,WAAW;QACf;QACA,mBAAmB,CAAA,OAAQ;mBAAI;gBAAM;aAAc;QACnD,wBAAwB,cAAc,EAAE;QACxC,uBAAuB;QACvB,mBAAmB;QACnB,uBAAuB;IACzB;IAEA,MAAM,yBAAyB,CAAC;QAC9B,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MAChC,IAAI,EAAE,KAAK,kBAAkB,EAAE,GAAG,oBAAoB;IAE5D;IAEA,MAAM,yBAAyB,CAAC;QAC5B,mBAAmB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;QACzD,IAAI,yBAAyB,IAAI,wBAAwB;QACzD,IAAI,wBAAwB,IAAI,uBAAuB;IAC3D;IAEA,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;6DAAE,CAAC,SAAiB;YACrD,MAAM,MAAM,IAAI,OAAO,KAAK;YAC5B,IAAI,MAAM;qEAAG;oBACT,MAAM,YAAY,SAAS,OAAO,CAAC,UAAU;oBAC7C,IAAI,CAAC,WAAW;oBAChB,MAAM,iBAAiB,UAAU,WAAW;oBAC5C,MAAM,kBAAkB,UAAU,YAAY;oBAE9C,MAAM,cAAc,IAAI,KAAK,GAAG,IAAI,MAAM;oBAC1C,IAAI,aAAa;oBACjB,IAAI,cAAc,aAAa,cAAc,CAAC,iBAAiB,eAAe;oBAE9E,MAAM,gBAAiC;wBACnC,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;wBACT;wBACA;wBACA,UAAU;wBACV,WAAW;wBACX;wBACA;wBACA;oBACJ;oBACA;6EAAoB,CAAA,OAAQ;mCAAI;gCAAM;6BAAc;;oBACpD,mBAAmB,cAAc,EAAE;oBACnC,wBAAwB;oBACxB,uBAAuB;oBACvB,uBAAuB;gBAC3B;;YACA,IAAI,GAAG,GAAG;QACd;4DAAG,EAAE;IAEL,MAAM,0BAA0B,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kEAAE,CAAC;YACzC,IAAI,oBAAoB,MAAM;YAC9B,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;YACpC,IAAI,CAAC,MAAM;YAEX,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM;0EAAG,CAAC;oBACb,MAAM,UAAU,EAAE,MAAM,EAAE;oBAC1B,IAAI,SAAS;wBACT,mBAAmB,SAAS;wBAC5B,MAAM;4BAAE,OAAO,MAAM,kBAAkB;wBAAC;oBAC5C;gBACJ;;YACA,OAAO,aAAa,CAAC;YACrB,IAAG,eAAe,OAAO,EAAE,eAAe,OAAO,CAAC,KAAK,GAAG;QAC9D;iEAAG;QAAC;QAAiB;QAAoB,MAAM,kBAAkB;KAAC;IAElE,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDAAE,CAAC;YAC7B,IAAI,oBAAoB,MAAM;YAC9B,MAAM,QAAQ,MAAM,aAAa,EAAE;YACnC,IAAI,CAAC,OAAO;YAEZ,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;gBACnC,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG;oBACvC,MAAM,OAAO,KAAK,CAAC,EAAE,CAAC,SAAS;oBAC/B,IAAI,CAAC,MAAM;oBAEX,MAAM,SAAS,IAAI;oBACnB,OAAO,MAAM;sEAAG,CAAC;4BACb,MAAM,UAAU,EAAE,MAAM,EAAE;4BAC1B,IAAI,SAAS;gCACT,mBAAmB,SAAS;gCAC5B,MAAM;oCAAE,OAAO,MAAM,iBAAiB;gCAAC;4BAC3C;wBACJ;;oBACA,OAAO,aAAa,CAAC;oBACrB,MAAM,cAAc;oBACpB;gBACJ;YACJ;QACJ;qDAAG;QAAC;QAAiB;QAAoB,MAAM,iBAAiB;KAAC;IAEjE,MAAM,8BAA8B,CAAC;QACjC,oBAAoB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;QAC1D,IAAI,oBAAoB,IAAI,mBAAmB;IACnD;IAEA,MAAM,+BAA+B;QACnC,IAAI,oBAAoB,MAAM;QAC9B,MAAM,gBAAqC;YACzC,IAAI,CAAA,GAAA,wLAAA,CAAA,KAAM,AAAD;YACT,WAAW;YACX,UAAU;YACV,WAAW;YACX,YAAY;YACZ,aAAa;YACb,OAAO;QACT;QACA,wBAAwB,CAAA,OAAQ;mBAAI;gBAAM;aAAc;QACxD,uBAAuB,cAAc,EAAE;QACvC,wBAAwB;QACxB,uBAAuB;QACvB,mBAAmB;IACrB;IAEA,MAAM,kCAAkC,CAAC;QACrC,wBAAwB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;QAC9D,IAAI,wBAAwB,IAAI,uBAAuB;IAC3D;IAEA,MAAM,yBAAyB,CAAC,IAAY;QACxC,IAAI,qBAAqB;QAEzB,wBAAwB;QACxB,uBAAuB;QACvB,mBAAmB;QACnB,uBAAuB;IAC3B;IAEA,MAAM,8BAA8B,CAAC,IAAY;QAC7C,EAAE,eAAe;QACjB,wBAAwB;QACxB,uBAAuB;IAC3B;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACN,MAAM;6DAAgB,CAAC;oBACnB,IAAI,EAAE,GAAG,KAAK,YAAY,EAAE,GAAG,KAAK,aAAa;wBAC7C,IAAI,wBAAwB,CAAC,qBAAqB;4BAC9C,uBAAuB;wBAC3B;wBACA,IAAI,iBAAiB;4BACjB,4BAA4B;wBAChC;wBACA,IAAI,qBAAqB;4BACrB,gCAAgC;wBACpC;oBACJ;gBACJ;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC,OAAO,gBAAgB,CAAC,SAAS;YACjC;+CAAO;oBACH,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,SAAS;gBACxC;;QACJ;sCAAG;QAAC;QAAsB;QAAqB;QAAiB;QAAqB;KAAY;IAGjG,MAAM,wBAAwB;QAC1B,MAAM,WAAW,wBAAwB;QACzC,IAAI,CAAC,UAAU;QAEf,MAAM,SAAS,CAAC,CAAC;QACjB,MAAM,aAAa,SACb,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,YACnC,iBAAiB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAE1C,IAAI,YAAY,MAAM;YAClB,eAAe,WAAW,IAAI;QAClC,OAAO;YACH,eAAe;gBAAE,MAAM;gBAAO,OAAO;YAAG;QAC5C;IACJ;IAEA,MAAM,iBAAiB;QACnB,MAAM,WAAW,wBAAwB;QACzC,IAAI,CAAC,UAAU;QAEf,MAAM,SAAS,CAAC,CAAC;QACjB,IAAI,QAAQ;YACR,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MAChC,IAAI,EAAE,KAAK,WAAW;wBAAE,GAAG,GAAG;wBAAE,MAAM;oBAAY,IAAI;QAE9D,OAAO;YACH,oBAAoB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,MACjC,IAAI,EAAE,KAAK,WAAW;wBAAE,GAAG,GAAG;wBAAE,MAAM;oBAAY,IAAI;QAE9D;QACA,qBAAqB;QACrB,MAAM;YAAE,OAAO,MAAM,YAAY;QAAC;IACtC;IAEA,MAAM,mBAAmB;QACrB,MAAM,WAAW,wBAAwB;QACzC,IAAI,CAAC,UAAU;QAEf,MAAM,SAAS,CAAC,CAAC;QACjB,IAAI,QAAQ;YACR,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;oBAChC,IAAI,IAAI,EAAE,KAAK,UAAU;wBACrB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,GAAG;wBAC1B,OAAO;oBACX;oBACA,OAAO;gBACX;QACJ,OAAO;YACH,oBAAoB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;oBACjC,IAAI,IAAI,EAAE,KAAK,UAAU;wBACrB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,GAAG;wBAC1B,OAAO;oBACX;oBACA,OAAO;gBACX;QACJ;QACA,qBAAqB;QACrB,MAAM;YAAE,OAAO,MAAM,WAAW;YAAE,SAAS;QAAc;IAC7D;IAGA,MAAM,mCACJ,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAA4B,MAAM,aAAa;;;;;;;;;;;0BAE/D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6IAAA,CAAA,aAAU;wBAAC,OAAO,YAAY,IAAI;wBAAE,eAAe,CAAC,OAAyB,eAAe;gCAAE,GAAG,WAAW;gCAAE;4BAAK;;0CAChH,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6IAAA,CAAA,iBAAc;wCAAC,OAAM;wCAAM,IAAG;;;;;;kDAC/B,6LAAC,oIAAA,CAAA,QAAK;wCAAC,SAAQ;kDAAS,MAAM,UAAU;;;;;;;;;;;;0CAE5C,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6IAAA,CAAA,iBAAc;wCAAC,OAAM;wCAAO,IAAG;;;;;;kDAChC,6LAAC,oIAAA,CAAA,QAAK;wCAAC,SAAQ;kDAAU,MAAM,WAAW;;;;;;;;;;;;;;;;;;kCAGlD,6LAAC;wBAAI,WAAU;kCACZ,YAAY,IAAI,KAAK,sBAClB,6LAAC,oIAAA,CAAA,QAAK;4BACF,IAAG;4BACH,aAAY;4BACZ,OAAO,YAAY,KAAK;4BACxB,UAAU,CAAC,IAAM,eAAe;oCAAE,GAAG,WAAW;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;iDAG5E,6LAAC,oIAAA,CAAA,QAAK;4BACF,IAAG;4BACH,MAAK;4BACL,aAAY;4BACZ,KAAI;4BACJ,KAAK,YAAY,MAAM;4BACvB,OAAO,YAAY,KAAK;4BACxB,UAAU,CAAC,IAAM,eAAe;oCAAE,GAAG,WAAW;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;;;;;;;;;;;;0BAKpF,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAc,MAAK;wBAAK,SAAS;kCAAmB,MAAM,UAAU;;;;;;kCACpF,6LAAC,qIAAA,CAAA,SAAM;wBAAC,MAAK;wBAAK,SAAS;kCAAiB,MAAM,QAAQ;;;;;;;;;;;;;;;;;;IAKlE,MAAM,oBAAoB,gBAAgB,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;IAGjE,MAAM,yBAAyB,CAAC;QAC5B,MAAM;YACF,OAAO,MAAM,UAAU;YACvB,aAAa,GAAG,YAAY,CAAC,EAAE,MAAM,qBAAqB,EAAE;QAChE;IACJ;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,YAAY;QAClB,kBAAkB,CAAA;YAChB,IAAI,UAAU,cAAc,OAAO,OAAO,YAAY,OAAO;YAC7D,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,SAAS;QACzC;IACF;IAEF,qBACE,6LAAC;QAAI,WAAU;;YACZ,CAAC,aAAa,iBAAiB,sBAAsB,2BAA2B,gBAAgB,mBAC/F,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oNAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;kCACnB,6LAAC;wBAAE,WAAU;kCACV,YAAY,iBACZ,qBAAqB,MAAM,gBAAgB,GAC3C,gBAAgB,MAAM,cAAc,GACpC,0BAA0B,MAAM,uBAAuB,GACvD,mBAAmB,MAAM,cAAc,GAAG;;;;;;;;;;;;YAKhD,6CACC,6LAAC;gBACC,MAAK;gBACL,cAAW;gBACX,mBAAgB;gBAChB,WAAU;gBACV,SAAS,IAAM,+BAA+B;0BAE9C,cAAA,6LAAC;oBACC,WAAU;oBACV,SAAS,CAAC,IAAM,EAAE,eAAe;oBACjC,MAAK;;sCAEL,6LAAC;4BACG,KAAK;4BACL,WAAU;;8CAEZ,6LAAC;oCACC,KAAK;oCACL,WAAU;;;;;;gCAGX,mCAAmC,OAAO,kBACzC;;wCACC,oBAAoB,IAAI,KAAK,UAAU,oBAAoB,IAAI,kBAC5D,6LAAC;4CACD,aAAa,CAAC,IAAM,oBAAoB,GAAG,aAAa;4CACxD,OAAO;gDACH,UAAU;gDACV,KAAK,GAAG,oBAAoB,QAAQ,GAAG,IAAI,CAAC,CAAC;gDAC7C,MAAM,GAAG,oBAAoB,SAAS,GAAG,IAAI,CAAC,CAAC;gDAC/C,WAAW,CAAC,qBAAqB,CAAC;gDAClC,UAAU,GAAG,KAAK,GAAG,CAAC,GAAG,oBAAoB,QAAQ,GAAG,CAAC,CAAC,+BAA+B,OAAO,EAAE,UAAU,GAAG,IAAI,MAAM,CAAC,GAAI,EAAE,CAAC;gDACjI,OAAO,oBAAoB,KAAK;gDAChC,SAAS,oBAAoB,OAAO;gDACpC,QAAQ;gDACR,SAAS;gDACT,iBAAiB;gDACjB,QAAQ;gDACR,YAAY;gDACZ,YAAY;gDACZ,QAAQ;4CACZ;4CACA,WAAU;sDAET,oBAAoB,IAAI;;;;;;wCAG5B,oBAAoB,IAAI,KAAK,WAAW,oBAAoB,QAAQ,kBACjE,6LAAC;4CACD,KAAK,oBAAoB,QAAQ;4CACjC,KAAI;4CACJ,aAAa,CAAC,IAAM,oBAAoB,GAAG,aAAa;4CACxD,OAAO;gDACH,UAAU;gDACV,KAAK,GAAG,oBAAoB,QAAQ,GAAG,IAAI,CAAC,CAAC;gDAC7C,MAAM,GAAG,oBAAoB,SAAS,GAAG,IAAI,CAAC,CAAC;gDAC/C,WAAW,CAAC,qBAAqB,CAAC;gDAClC,SAAS,oBAAoB,OAAO;gDACpC,QAAQ;gDACR,UAAU;gDACV,WAAW;gDACX,YAAY;gDACZ,QAAQ;gDACR,WAAW;gDACX,QAAQ;4CACZ;4CACA,WAAU;;;;;;;;;;;;;;sCAMlB,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,IAAG;oCAA0B,WAAU;8CAAyB,MAAM,0BAA0B;;;;;;8CACpG,6LAAC;oCAAE,WAAU;8CAAiC,MAAM,oBAAoB;;;;;;8CACxE,6LAAC,wIAAA,CAAA,YAAS;;;;;8CAEV,6LAAC,6IAAA,CAAA,aAAU;oCAAC,OAAO,oBAAoB,IAAI;oCAAE,eAAe,CAAC,QAAU,uBAAuB,CAAA,IAAK,CAAC;gDAAC,GAAG,CAAC;gDAAE,MAAM;4CAAyB,CAAC;oCAAI,WAAU;;sDACrJ,6LAAC;4CAAI,WAAU;;8DAA8B,6LAAC,6IAAA,CAAA,iBAAc;oDAAC,OAAM;oDAAO,IAAG;;;;;;8DAAa,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;8DAAY,MAAM,iBAAiB;;;;;;;;;;;;sDAC5I,6LAAC;4CAAI,WAAU;;8DAA8B,6LAAC,6IAAA,CAAA,iBAAc;oDAAC,OAAM;oDAAQ,IAAG;;;;;;8DAAa,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;8DAAY,MAAM,kBAAkB;;;;;;;;;;;;;;;;;;gCAGjJ,oBAAoB,IAAI,KAAK,uBAC5B;;sDACE,6LAAC;;8DACG,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAqB,WAAU;8DAAuB,MAAM,yBAAyB;;;;;;8DACpG,6LAAC,oIAAA,CAAA,QAAK;oDACF,IAAG;oDACH,MAAK;oDACL,OAAO,oBAAoB,IAAI;oDAC/B,UAAU,CAAC,IAAM,uBAAuB,CAAA,OAAQ,CAAC;gEAAC,GAAG,IAAI;gEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4DAAA,CAAC;oDAChF,WAAU;;;;;;;;;;;;sDAGlB,6LAAC;;8DACG,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAyB,WAAU;;wDAAuB,MAAM,sBAAsB;wDAAC;;;;;;;8DACtG,6LAAC,oIAAA,CAAA,QAAK;oDACF,IAAG;oDACH,MAAK;oDACL,OAAO,oBAAoB,QAAQ;oDACnC,UAAU,CAAC,IAAM,uBAAuB,CAAA,OAAQ,CAAC;gEAAC,GAAG,IAAI;gEAAE,UAAU,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO;4DAAE,CAAC;oDACxG,KAAI;oDACJ,KAAI;oDACJ,WAAU;;;;;;;;;;;;sDAGlB,6LAAC;;8DACG,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAsB,WAAU;8DAAuB,MAAM,mBAAmB;;;;;;8DAC/F,6LAAC,oIAAA,CAAA,QAAK;oDACF,IAAG;oDACH,MAAK;oDACL,OAAO,oBAAoB,KAAK;oDAChC,UAAU,CAAC,IAAM,uBAAuB,CAAA,OAAQ,CAAC;gEAAC,GAAG,IAAI;gEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4DAAA,CAAC;oDACjF,WAAU;;;;;;;;;;;;;iEAKpB;;sDACE,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAU,SAAS,IAAM,wBAAwB,OAAO,EAAE;4CAAS,WAAU;sDAAU,MAAM,mBAAmB;;;;;;sDAChI,6LAAC,oIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAO,QAAO;4CAAuB,KAAK;4CAAyB,UAAU;4CAAgC,WAAU;;;;;;wCAClI,oBAAoB,QAAQ,kBAAI,6LAAC;4CAAI,KAAK,oBAAoB,QAAQ;4CAAE,KAAI;4CAAY,WAAU;;;;;;;;8CAItG,6LAAC;;sDACE,6LAAC,oIAAA,CAAA,QAAK;4CAAC,SAAQ;4CAAwB,WAAU;;gDAAuB,MAAM,qBAAqB;gDAAC;gDAAG,KAAK,KAAK,CAAC,oBAAoB,OAAO,GAAG;gDAAK;;;;;;;sDACrJ,6LAAC,qIAAA,CAAA,SAAM;4CACH,IAAG;4CACH,KAAK;4CAAG,KAAK;4CAAG,MAAM;4CACtB,OAAO;gDAAC,oBAAoB,OAAO;6CAAC;4CACpC,eAAe,CAAC,QAAU,uBAAuB,CAAA,OAAQ,CAAC;wDAAC,GAAG,IAAI;wDAAE,SAAS,KAAK,CAAC,EAAE;oDAAA,CAAC;4CACtF,WAAU;;;;;;;;;;;;8CAGlB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAU,SAAS,IAAM,+BAA+B;sDAAS,MAAM,MAAM;;;;;;sDAC7F,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAS;sDAA2B,MAAM,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQtF,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;gBAAqB,cAAc;0BACpD,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACjB,6LAAC,8IAAA,CAAA,oBAAqB;;8CACpB,6LAAC,8IAAA,CAAA,mBAAoB;8CAAE,MAAM,kBAAkB;;;;;;8CAC/C,6LAAC,8IAAA,CAAA,yBAAsB;8CACpB,MAAM,wBAAwB;;;;;;;;;;;;sCAGnC,6LAAC,8IAAA,CAAA,oBAAiB;;8CAChB,6LAAC,8IAAA,CAAA,oBAAiB;oCAAC,SAAS,IAAM,qBAAqB;8CAAQ,MAAM,MAAM;;;;;;8CAC3E,6LAAC,8IAAA,CAAA,oBAAiB;oCAAC,SAAS,IAAM;8CAAsB,MAAM,OAAO;;;;;;;;;;;;;;;;;;;;;;;0BAK3E,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;gBAAkB,cAAc;0BACjD,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACf,6LAAC,8IAAA,CAAA,oBAAqB;;8CACtB,6LAAC,8IAAA,CAAA,mBAAoB;8CAAE,MAAM,kBAAkB;;;;;;8CAC/C,6LAAC,8IAAA,CAAA,yBAAsB;8CAClB,MAAM,wBAAwB;;;;;;;;;;;;sCAGnC,6LAAC,8IAAA,CAAA,oBAAiB;;8CAClB,6LAAC,8IAAA,CAAA,oBAAiB;8CAAE,MAAM,MAAM;;;;;;8CAChC,6LAAC,8IAAA,CAAA,oBAAiB;oCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;8CAAY,MAAM,KAAK;;;;;;;;;;;;;;;;;;;;;;;0BAK3E,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;gBAAqB,cAAc;0BACpD,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACf,6LAAC,8IAAA,CAAA,oBAAqB;;8CACtB,6LAAC,8IAAA,CAAA,mBAAoB;8CAAE,MAAM,sBAAsB;;;;;;8CACnD,6LAAC,8IAAA,CAAA,yBAAsB;8CAClB,MAAM,4BAA4B;;;;;;;;;;;;sCAGvC,6LAAC,8IAAA,CAAA,oBAAiB;;8CAClB,6LAAC,8IAAA,CAAA,oBAAiB;8CAAE,MAAM,MAAM;;;;;;8CAChC,6LAAC,8IAAA,CAAA,oBAAiB;oCAAC,SAAS,IAAM;8CAAsB,MAAM,OAAO;;;;;;;;;;;;;;;;;;;;;;;0BAK3E,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;gBAAoB,cAAc;0BACnD,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACf,6LAAC,8IAAA,CAAA,oBAAqB;;8CACtB,6LAAC,8IAAA,CAAA,mBAAoB;8CAAE,MAAM,qBAAqB;;;;;;8CAClD,6LAAC,8IAAA,CAAA,yBAAsB;8CAClB,MAAM,2BAA2B;;;;;;;;;;;;sCAGtC,6LAAC,8IAAA,CAAA,oBAAiB;;8CAClB,6LAAC,8IAAA,CAAA,oBAAiB;8CAAE,MAAM,MAAM;;;;;;8CAChC,6LAAC,8IAAA,CAAA,oBAAiB;oCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;8CAAY,MAAM,KAAK;;;;;;;;;;;;;;;;;;;;;;;0BAK3E,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;;8CACZ,6LAAC,qNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;gCAAgB;gCAAE,MAAM,SAAS;;;;;;;wBAGxD,YAAY,MAAM,GAAG,mBAClB,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,qIAAA,CAAA,SAAM;oCACH,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,YAAY,aAAa,WAAW,SAAS;oCAC5D,OAAO,aAAa,WAAW,MAAM,QAAQ,GAAG,MAAM,UAAU;;wCAE/D,aAAa,yBAAW,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;iEAAoB,6LAAC,mNAAA,CAAA,YAAS;4CAAC,WAAU;;;;;;wCACvF,aAAa,WAAW,MAAM,QAAQ,GAAG,MAAM,UAAU;;;;;;;8CAE9D,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAS;oCAAmB,UAAU;;sDAC1C,6LAAC,6MAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;wCACnB,MAAM,WAAW;;;;;;;;;;;;;sCAK9B,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAS,oBAAoB,OAAO,cAAc;4CAAW,MAAK;4CAAK,SAAS,IAAM,eAAe;sDAAO;;;;;;sDACpH,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAS,oBAAoB,OAAO,cAAc;4CAAW,MAAK;4CAAK,SAAS,IAAM,eAAe;sDAAO;;;;;;;;;;;;gCAEvH,2BACG,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;sDACtB,6LAAC;4CAAK,WAAU;sDAAiC,MAAM,UAAU;;;;;;sDACjE,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAU,MAAK;4CAAK,SAAS;;8DACzC,6LAAC,6MAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;gDAAgB;gDAAE,MAAM,MAAM;;;;;;;;;;;;yDAIzD,6LAAC;oCAAI,WAAU;;sDACV,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAK,WAAU;sDAAiC,MAAM,KAAK;;;;;;sDAC7D,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAS,QAAQ;sDACxB,cAAA,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,MAAK;;kEACzB,6LAAC,2MAAA,CAAA,QAAK;wDAAC,WAAU;;;;;;oDAAgB;oDAAE,MAAM,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASxE,6LAAC;gBAAK,WAAU;;oBACb,mCACG,6LAAC;wBACG,YAAY;wBACZ,oBAAoB;wBACpB,UAAU,IAAM,uBAAuB,kBAAkB,EAAE;;;;;;oBAGlE,YAAY,MAAM,KAAK,kBACpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,mIAAA,CAAA,OAAI;gCAAC,WAAU;;kDACd,6LAAC,mIAAA,CAAA,aAAU;wCAAC,WAAU;;0DACpB,6LAAC,yMAAA,CAAA,SAAM;gDAAC,WAAU;;;;;;0DAClB,6LAAC,mIAAA,CAAA,YAAS;gDAAC,WAAU;0DAAsB,MAAM,mBAAmB;;;;;;0DACpE,6LAAC,mIAAA,CAAA,kBAAe;0DAAE,MAAM,WAAW;;;;;;;;;;;;kDAErC,6LAAC,mIAAA,CAAA,cAAW;;0DACV,6LAAC;gDACC,WAAU;gDACV,SAAS,IAAM,aAAa,OAAO,EAAE;gDACrC,YAAY,iBAAiB,UAAU;gDACvC,aAAa,iBAAiB,WAAW;gDACzC,QAAQ,CAAC,IAAM,iBAAiB,MAAM,CAAC,GAAG,CAAC,KAAO,gBAAgB;;kEAElE,6LAAC,yMAAA,CAAA,SAAM;wDAAC,WAAU;;;;;;kEAClB,6LAAC;wDAAE,WAAU;kEAA6C,MAAM,YAAY;;;;;;;;;;;;0DAE9E,6LAAC,oIAAA,CAAA,QAAK;gDACJ,MAAK;gDACL,IAAG;gDACH,QAAO;gDACP,UAAU;gDACV,KAAK;gDACL,WAAU;;;;;;;;;;;;;;;;;;0CAKhB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,mIAAA,CAAA,OAAI;wCAAC,WAAU;;0DACd,6LAAC,mIAAA,CAAA,aAAU;0DACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;oDAAC,WAAU;;sEAA4B,6LAAC,uMAAA,CAAA,QAAS;4DAAC,WAAU;;;;;;wDAA8B;wDAAE,MAAM,eAAe;;;;;;;;;;;;0DAE7H,6LAAC,mIAAA,CAAA,cAAW;gDAAC,WAAU;;kEACrB,6LAAC;wDACG,WAAU;wDACV,SAAS,IAAM,oBAAoB,OAAO,EAAE;wDAC5C,YAAY,iBAAiB,UAAU;wDACvC,aAAa,iBAAiB,WAAW;wDACzC,QAAQ,CAAC;4DACL,iBAAiB,MAAM,CAAC,GAAG,CAAC;gEACxB,IAAI,GAAG,YAAY,CAAC,KAAK,EAAE,cAAc,GAAG,YAAY,CAAC,KAAK;4DAClE;wDACJ;;0EAEA,6LAAC,yMAAA,CAAA,SAAM;gEAAC,WAAU;;;;;;0EAClB,6LAAC;gEAAE,WAAU;0EAA6C,MAAM,cAAc;;;;;;0EAC9E,6LAAC,oIAAA,CAAA,QAAK;gEAAC,MAAK;gEAAO,IAAG;gEAAkB,QAAO;gEAAU,QAAQ;gEAC7D,KAAK;gEACL,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gEAC7C,WAAU;;;;;;;;;;;;oDAEjB,cAAc,WAAW,MAAM,GAAG,mBAAK,6LAAC;wDAAE,WAAU;;4DAAiC,WAAW,MAAM;4DAAC;;;;;;;kEACxG,6LAAC,qIAAA,CAAA,SAAM;wDAAC,SAAS;wDAAkB,UAAU,CAAC,cAAc,WAAW,MAAM,KAAK,KAAK;wDAAyB,WAAU;;4DACrH,wCAA0B,6LAAC,oNAAA,CAAA,UAAO;gEAAC,WAAU;;;;;qFAAiC,6LAAC,6MAAA,CAAA,WAAQ;gEAAC,WAAU;;;;;;4DAClG,MAAM,kBAAkB;;;;;;;;;;;;;;;;;;;kDAKjC,6LAAC,mIAAA,CAAA,OAAI;wCAAC,WAAU;;0DACd,6LAAC,mIAAA,CAAA,aAAU;0DACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;oDAAC,WAAU;;sEAA4B,6LAAC,mNAAA,CAAA,YAAS;4DAAC,WAAU;;;;;;wDAA8B;wDAAE,MAAM,mBAAmB;;;;;;;;;;;;0DAEjI,6LAAC,mIAAA,CAAA,cAAW;gDAAC,WAAU;;kEACpB,6LAAC;wDACE,WAAU;wDACV,SAAS,IAAM,qBAAqB,OAAO,EAAE;wDAC7C,YAAY,iBAAiB,UAAU;wDACvC,aAAa,iBAAiB,WAAW;wDACzC,QAAQ,CAAC;4DACL,iBAAiB,MAAM,CAAC,GAAG,CAAC;gEACxB,IAAI,GAAG,YAAY,CAAC,KAAK,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,iBAAiB,GAAG,YAAY,CAAC,KAAK,CAAC,EAAE;4DAC5G;wDACJ;;0EAEA,6LAAC,yMAAA,CAAA,SAAM;gEAAC,WAAU;;;;;;0EAClB,6LAAC;gEAAE,WAAU;0EAA6C,MAAM,qBAAqB;;;;;;0EACrF,6LAAC,oIAAA,CAAA,QAAK;gEAAC,MAAK;gEAAO,IAAG;gEAAmB,QAAO;gEAC5C,KAAK;gEACL,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG;gEACvE,WAAU;;;;;;;;;;;;oDAEhB,+BAAiB,6LAAC;wDAAE,WAAU;;4DAAiC,cAAc,IAAI;4DAAC;;;;;;;kEACpF,6LAAC,qIAAA,CAAA,SAAM;wDAAC,SAAS;wDAAsB,UAAU,CAAC,iBAAiB;wDAAkB,WAAU;;4DAC1F,iCAAmB,6LAAC,oNAAA,CAAA,UAAO;gEAAC,WAAU;;;;;qFAAiC,6LAAC,6MAAA,CAAA,WAAQ;gEAAC,WAAU;;;;;;4DAC3F,MAAM,iBAAiB;;;;;;;kEAE5B,6LAAC;wDAAE,WAAU;kEAAiC,MAAM,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAM5E,aAAa,uBACb,6LAAC;wBAAI,KAAK;wBAAsB,WAAU;kCACxC,cAAA,6LAAC,mIAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,mIAAA,CAAA,aAAU;oCAAC,WAAU;;sDACpB,6LAAC;;8DACC,6LAAC,mIAAA,CAAA,YAAS;oDAAC,WAAU;;sEAA4B,6LAAC,2MAAA,CAAA,UAAO;4DAAC,WAAU;;;;;;wDAA8B;wDAAE,MAAM,cAAc;;;;;;;8DACxH,6LAAC,mIAAA,CAAA,kBAAe;;wDACb,YAAY,MAAM;wDAAC;wDAAE,MAAM,WAAW;wDAAC;wDACvC,gBAAgB,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE,gBAAgB,IAAI,CAAC,CAAC,EAAE,MAAM,kBAAkB,CAAC,CAAC,CAAC,GAAG;;;;;;;;;;;;;sDAG1F,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,qIAAA,CAAA,SAAM;oDAAC,SAAS;oDAAgB,SAAQ;oDAAU,MAAK;oDAAK,UAAU,gBAAgB,IAAI,KAAK;;sEAC9F,6LAAC,6MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;;wDAAiB;wDAAE,MAAM,UAAU;;;;;;;8DAEzD,6LAAC,qIAAA,CAAA,SAAM;oDAAC,SAAS;wDAAQ,gBAAgB;wDAAO,uBAAuB;oDAAO;oDAAG,SAAQ;oDAAc,MAAK;oDAAK,UAAU,gBAAgB,IAAI,KAAK;;sEAClJ,6LAAC,6MAAA,CAAA,SAAM;4DAAC,WAAU;;;;;;wDAAiB;wDAAE,MAAM,WAAW;;;;;;;;;;;;;;;;;;;8CAI5D,6LAAC,mIAAA,CAAA,cAAW;;sDACV,6LAAC;4CACC,IAAG;4CACH,WAAU;sDAET,YAAY,GAAG,CAAC,CAAC,SAAS,sBACzB,6LAAC;oDAEC,SAAS;oDACT,OAAO;oDACP,YAAY,gBAAgB,GAAG,CAAC,QAAQ,EAAE;oDAC1C,SAAS,CAAC,IAAM,qBAAqB,OAAO;oDAC5C,eAAe;wDACb,mBAAmB;wDACnB,YAAY;oDACd;oDACA,iBAAiB;oDACjB,OAAO;mDAVF,QAAQ,EAAE;;;;;;;;;;sDAcrB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;sEAAE,6LAAC,qMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;wDAAwC;wDAAE,MAAM,UAAU;;;;;;;8DAC7E,6LAAC;;sEAAE,6LAAC,qMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;wDAAwC;wDAAE,MAAM,QAAQ;;;;;;;8DAC3E,6LAAC;;sEAAE,6LAAC,qMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;wDAAwC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6CAMrE;;0CACI,6LAAC;gCAAI,KAAK;gCAAuB,WAAU;0CACtC,YAAY,GAAG,CAAC,CAAC,MAAM;oCACpB,MAAM,WAAW,oBAAoB;oCACrC,qBACG,6LAAC;wCACI,KAAK,CAAA,KAAM,cAAc,OAAO,CAAC,MAAM,GAAG;wCAC1C,WAAS,KAAK,EAAE;wCAChB,SAAS,CAAC,IAAM,qBAAqB,OAAO;wCAC5C,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,0CACA,WAAW,mBAAmB;;0DAElC,6LAAC;gDACG,KAAK,CAAA;oDACD,IAAI,QAAQ;wDACR,MAAM,MAAM,OAAO,UAAU,CAAC;wDAC9B,IAAI,CAAC,KAAK;wDACV,MAAM,SAAS,KAAK,YAAY;wDAChC,MAAM,cAAc,OAAO,KAAK,GAAG,OAAO,MAAM;wDAChD,OAAO,KAAK,GAAG;wDACf,OAAO,MAAM,GAAG,MAAM;wDACtB,IAAI,SAAS,CAAC,QAAQ,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;oDAC3D;gDACJ;gDACA,WAAU;;;;;;0DAEf,6LAAC;gDAAE,WAAU;;oDAAkD,MAAM,IAAI;oDAAC;oDAAE,QAAQ;;;;;;;;uCAtB9E,KAAK,EAAE;;;;;gCAyBxB;;;;;;0CAGJ,6LAAC;gCAAI,KAAK;gCAAsB,WAAU;gCAA0F,SAAS;oCAAO,wBAAwB;oCAAO,uBAAuB;oCAAO,mBAAmB;oCAAO,uBAAuB;gCAAK;;oCAClQ,YAAY,GAAG,CAAC,CAAC,MAAM;wCACpB,MAAM,EAAC,YAAY,EAAE,QAAQ,EAAC,GAAG;wCAEjC,qBACI,6LAAC;4CAEG,KAAK,CAAA,KAAM,SAAS,OAAO,CAAC,MAAM,GAAG;4CACrC,mBAAiB;4CACjB,WAAU;4CACV,OAAO;gDACH,OAAO,CAAC,WAAW,QAAQ,IAAI,aAAa,MAAM,GAAG,aAAa,KAAK,IAAI;gDAC3E,QAAQ,CAAC,WAAW,QAAQ,IAAI,aAAa,KAAK,GAAG,aAAa,MAAM,IAAI;4CAChF;;8DAEA,6LAAC;oDACG,KAAK,CAAA;wDACD,IAAI,QAAQ;4DACR,MAAM,YAAY,WAAW,QAAQ;4DACrC,MAAM,cAAc,YAAY,aAAa,MAAM,GAAG,aAAa,KAAK;4DACxE,MAAM,eAAe,YAAY,aAAa,KAAK,GAAG,aAAa,MAAM;4DAEzE,OAAO,KAAK,GAAG;4DACf,OAAO,MAAM,GAAG;4DAEhB,MAAM,MAAM,OAAO,UAAU,CAAC;4DAC9B,IAAI,CAAC,KAAK;4DAEV,IAAI,IAAI;4DACR,IAAI,SAAS,GAAG;4DAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;4DAC9C,IAAI,OAAO;4DAEX,IAAI,IAAI;4DACR,IAAI,SAAS,CAAC,OAAO,KAAK,GAAG,GAAG,OAAO,MAAM,GAAG;4DAChD,IAAI,MAAM,CAAC,WAAW,KAAK,EAAE,GAAG;4DAChC,IAAI,SAAS,CAAC,cAAc,CAAC,aAAa,KAAK,GAAG,GAAG,CAAC,aAAa,MAAM,GAAG;4DAC5E,IAAI,OAAO;4DAEX,OAAO,KAAK,CAAC,KAAK,GAAG,GAAG,cAAc,eAAe,EAAE,CAAC;4DACxD,OAAO,KAAK,CAAC,MAAM,GAAG,GAAG,eAAe,eAAe,EAAE,CAAC;wDAC9D;oDACJ;;;;;;gDAEH,CAAC,AAAC,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,IAAM,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,QAAQ,AAAC,mBACzH,6LAAC;oDACG,OAAO;wDACH,UAAU;wDACV,KAAK,GAAG,gBAAgB,QAAQ,GAAG,IAAI,CAAC,CAAC;wDACzC,MAAM,GAAG,gBAAgB,SAAS,GAAG,IAAI,CAAC,CAAC;wDAC3C,WAAW;wDACX,SAAS,gBAAgB,OAAO;wDAChC,eAAe;wDACf,QAAQ;oDACZ;8DAEC,gBAAgB,IAAI,KAAK,uBACtB,6LAAC;wDAAK,OAAO;4DACX,OAAO,gBAAgB,KAAK;4DAC5B,UAAU,GAAG,gBAAgB,QAAQ,GAAG,eAAe,EAAE,CAAC;4DAC1D,YAAY;wDACd;kEACG,gBAAgB,IAAI;;;;;6EAGvB,6LAAC;wDACG,KAAK,gBAAgB,QAAQ;wDAC7B,KAAI;wDACJ,OAAO;4DACH,UAAU;4DACV,WAAW;4DACX,OAAO;4DACP,QAAQ;wDACZ;;;;;;;;;;;gDAKf,qBAAqB,MAAM,CAAC,CAAA,MAAO,IAAI,SAAS,KAAK,OAAO,GAAG,CAAC,CAAA,oBAC7D,6LAAC;wDAEG,aAAa,CAAC,IAAM,oBAAoB,GAAG,aAAa,IAAI,EAAE;wDAC9D,SAAS,CAAC;4DACN,EAAE,eAAe;4DACjB,IAAI,CAAC,cAAc,OAAO,EAAE;gEACxB,uBAAuB,IAAI,EAAE;gEAC7B,wBAAwB;gEACxB,uBAAuB;gEACvB,mBAAmB;4DACvB;wDACJ;wDACA,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,wBACA,wBAAwB,IAAI,EAAE,IAAI;wDAEtC,OAAO;4DACH,MAAM,GAAG,IAAI,SAAS,GAAG,IAAI,CAAC,CAAC;4DAC/B,KAAK,GAAG,IAAI,QAAQ,GAAG,IAAI,CAAC,CAAC;4DAC7B,OAAO,GAAG,IAAI,UAAU,GAAG,IAAI,CAAC,CAAC;4DACjC,QAAQ,GAAG,IAAI,WAAW,GAAG,IAAI,CAAC,CAAC;4DACnC,iBAAiB,IAAI,KAAK;4DAC1B,cAAc;4DACd,QAAQ;wDACZ;kEAEC,wBAAwB,IAAI,EAAE,kBAC3B,6LAAC;4DACG,WAAU;4DACV,aAAa,CAAC,IAAM,oBAAoB,GAAG,oBAAoB,IAAI,EAAE;;;;;;uDA5BxE,IAAI,EAAE;;;;;gDAiClB,iBAAiB,MAAM,CAAC,CAAA,MAAO,IAAI,SAAS,KAAK,OAAO,GAAG,CAAC,CAAA,oBACzD,6LAAC;wDAEG,aAAa,CAAC;4DACV,EAAE,eAAe;4DACjB,mBAAmB,IAAI,EAAE;4DACzB,wBAAwB;4DACxB,uBAAuB;4DACvB,uBAAuB;4DACvB,oBAAoB,GAAG,SAAS,IAAI,EAAE;wDAC1C;wDACA,SAAS,CAAC,IAAM,EAAE,eAAe;wDACjC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACR,wBACA,oBAAoB,IAAI,EAAE,IAAI;wDAElC,OAAO;4DACH,MAAM,GAAG,IAAI,SAAS,GAAG,IAAI,CAAC,CAAC;4DAC/B,KAAK,GAAG,IAAI,QAAQ,GAAG,IAAI,CAAC,CAAC;4DAC7B,OAAO,GAAG,IAAI,UAAU,GAAG,IAAI,CAAC,CAAC;4DACjC,QAAQ,GAAG,IAAI,WAAW,GAAG,IAAI,CAAC,CAAC;4DACnC,QAAQ;wDACZ;;0EAEA,6LAAC;gEAAI,KAAK,IAAI,OAAO;gEAAE,WAAU;gEAAmD,KAAI;;;;;;4DACvF,oBAAoB,IAAI,EAAE,kBACzB;;kFACE,6LAAC;wEACG,WAAU;wEACV,aAAa,CAAC,IAAM,oBAAoB,GAAG,gBAAgB,IAAI,EAAE;;;;;;oEAEpE,IAAI,IAAI,kBAAI,6LAAC,qMAAA,CAAA,OAAQ;wEAAC,WAAU;;;;;;;;;uDA7BhC,IAAI,EAAE;;;;;gDAkClB,gBAAgB,MAAM,CAAC,CAAA,MAAO,IAAI,SAAS,KAAK,OAAO,GAAG,CAAC,CAAA,oBACxD,6LAAC;wDAEG,YAAY;wDACZ,gBAAgB;wDAChB,YAAY,yBAAyB,IAAI,EAAE;wDAC3C,WAAW,wBAAwB,IAAI,EAAE;wDACzC,oBAAoB;wDACpB,UAAU;wDACV,eAAe;wDACf,UAAU;wDACV,aAAa,CAAC,GAAG;4DACb,IAAI,wBAAwB,IAAI;gEAC5B,oBAAoB,GAAG,cAAc;4DACzC;wDACJ;wDACA,eAAe,CAAC,GAAG;4DACf,oBAAoB,GAAG,qBAAqB;wDAChD;uDAhBK,IAAI,EAAE;;;;;;2CAjJd,KAAK,EAAE;;;;;oCAsKxB;kDACA,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,MAAK;gDAAO,SAAS,IAAM,WAAW;gDAAQ,OAAO,MAAM,OAAO;0DAAE,cAAA,6LAAC,+MAAA,CAAA,UAAO;oDAAC,WAAU;;;;;;;;;;;0DAC/G,6LAAC;gDAAI,WAAU;gDAAoE,OAAM;0DAAgB,GAAG,KAAK,KAAK,CAAC,iBAAiB,KAAK,CAAC,CAAC;;;;;;0DAC/I,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,MAAK;gDAAO,SAAS,IAAM,WAAW;gDAAO,OAAO,MAAM,MAAM;0DAAE,cAAA,6LAAC,6MAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;;;;;;0DAC5G,6LAAC,wIAAA,CAAA,YAAS;gDAAC,aAAY;gDAAW,WAAU;;;;;;0DAC5C,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,MAAK;gDAAO,SAAS;gDAAe,OAAO,MAAM,SAAS;0DAAE,cAAA,6LAAC,yMAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;;;;;;0DACtG,6LAAC,qIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAQ,MAAK;gDAAO,SAAS;gDAAkB,OAAO,MAAM,UAAU;0DAAE,cAAA,6LAAC,gNAAA,CAAA,UAAO;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0CAInH,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAc,MAAM,iNAAA,CAAA,WAAQ;gDAAE,OAAO,MAAM,UAAU;gDAAE,SAAS,IAAM,iBAAiB;gDAAO,UAAU,oBAAoB;;;;;;0DAC7H,6LAAC;gDAAc,MAAM,6MAAA,CAAA,SAAM;gDAAE,OAAO,MAAM,UAAU;gDAAE,SAAS;oDAAQ,IAAG,oBAAoB,MAAM;wDAAE,gBAAgB;wDAAkB,uBAAuB;oDAAO;gDAAE;gDAAG,UAAU,oBAAoB;;;;;;0DACzM,6LAAC;gDAAc,MAAM,uNAAA,CAAA,YAAS;gDAAE,OAAO,MAAM,YAAY;gDAAE,SAAS;;;;;;0DACpE,6LAAC;gDAAc,MAAM,2MAAA,CAAA,UAAO;gDAAE,OAAO,MAAM,SAAS;gDAAE,SAAS,IAAM,aAAa,OAAO,EAAE;;;;;;0DAC3F,6LAAC;gDAAc,MAAM,6MAAA,CAAA,WAAQ;gDAAE,OAAO,MAAM,SAAS;gDAAE,SAAS;gDAAgB,UAAU,gBAAgB,IAAI,KAAK;;;;;;0DACnH,6LAAC;gDAAc,MAAM,2MAAA,CAAA,UAAO;gDAAE,OAAO,MAAM,aAAa;gDAAE,SAAS;gDAA2B,UAAU,YAAY,MAAM,KAAK;;;;;;0DAC/H,6LAAC;gDAAc,MAAM,qMAAA,CAAA,OAAI;gDAAE,OAAO,MAAM,cAAc;gDAAE,SAAS;gDAAyB,UAAU,oBAAoB;;;;;;0DACxH,6LAAC;gDAAc,MAAM,mNAAA,CAAA,YAAS;gDAAE,OAAO,MAAM,eAAe;gDAAE,SAAS,IAAM,eAAe,OAAO,EAAE;gDAAS,UAAU,oBAAoB;;;;;;0DAC5I,6LAAC;gDAAc,MAAM,mNAAA,CAAA,cAAW;gDAAE,OAAO,MAAM,aAAa;gDAAE,SAAS;gDAA8B,UAAU,oBAAoB;;;;;;0DACnI,6LAAC,sIAAA,CAAA,UAAO;gDAAC,MAAM;gDAAmB,cAAc;;kEAC9C,6LAAC,sIAAA,CAAA,iBAAc;wDAAC,OAAO;kEACrB,cAAA,6LAAC,qIAAA,CAAA,SAAM;4DACH,SAAQ;4DACR,WAAU;4DACV,UAAU,CAAC,wBAAwB,CAAC;4DACpC,SAAS;;8EAET,6LAAC,qMAAA,CAAA,OAAQ;oEAAC,WAAU;;;;;;8EACpB,6LAAC;oEAAK,WAAU;8EAAyB,MAAM,cAAc;;;;;;;;;;;;;;;;;kEAGlE,6LAAC,sIAAA,CAAA,iBAAc;wDAAC,WAAU;wDAAO,MAAK;wDAAO,OAAM;kEACjD;;;;;;;;;;;;;;;;;;kDAIR,6LAAC,oIAAA,CAAA,QAAK;wCACH,MAAK;wCACL,IAAG;wCACH,QAAO;wCACP,UAAU;wCACV,KAAK;wCACL,WAAU;;;;;;kDAEZ,6LAAC,oIAAA,CAAA,QAAK;wCACJ,MAAK;wCACL,IAAG;wCACH,QAAO;wCACP,UAAU;wCACV,KAAK;wCACL,WAAU;;;;;;kDAGZ,6LAAC,wIAAA,CAAA,YAAS;;;;;kDAEV,6LAAC,wIAAA,CAAA,YAAS;wCAAC,MAAK;wCAAS,WAAW;wCAAC,WAAU;;0DAC3C,6LAAC,wIAAA,CAAA,gBAAa;gDAAC,OAAM;;kEACjB,6LAAC,wIAAA,CAAA,mBAAgB;kEAAE,MAAM,yBAAyB;;;;;;kEAClD,6LAAC,wIAAA,CAAA,mBAAgB;wDAAC,WAAU;;0EACxB,6LAAC;gEAAI,WAAU;;kFACX,6LAAC,qIAAA,CAAA,SAAM;wEAAC,IAAG;wEAAsB,SAAS,oBAAoB,OAAO;wEAAE,iBAAiB,CAAC,UAAY,uBAAuB,CAAA,IAAK,CAAC;oFAAE,GAAG,CAAC;oFAAE,SAAS;gFAAQ,CAAC;;;;;;kFAC5J,6LAAC,oIAAA,CAAA,QAAK;wEAAC,SAAQ;kFAAuB,MAAM,mBAAmB;;;;;;;;;;;;4DAElE,oBAAoB,OAAO,kBACxB;;kFACI,6LAAC;;0FACG,6LAAC,oIAAA,CAAA,QAAK;gFAAC,SAAQ;0FAAe,MAAM,kBAAkB;;;;;;0FACtD,6LAAC,qIAAA,CAAA,SAAM;gFAAC,OAAO,oBAAoB,QAAQ;gFAAE,eAAe,CAAC,QAA8B,uBAAuB,CAAA,IAAK,CAAC;4FAAE,GAAG,CAAC;4FAAE,UAAU;wFAAM,CAAC;;kGAC7I,6LAAC,qIAAA,CAAA,gBAAa;wFAAC,IAAG;kGAAc,cAAA,6LAAC,qIAAA,CAAA,cAAW;;;;;;;;;;kGAC5C,6LAAC,qIAAA,CAAA,gBAAa;kGACT,oBAAoB,GAAG,CAAC,CAAA,oBAAO,6LAAC,qIAAA,CAAA,aAAU;gGAAiB,OAAO,IAAI,KAAK;0GAAG,KAAK,CAAC,IAAI,QAAQ,CAAC;+FAAjD,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;;kFAItE,6LAAC;;0FACG,6LAAC,oIAAA,CAAA,QAAK;gFAAC,SAAQ;0FAAY,MAAM,eAAe;;;;;;0FAChD,6LAAC,oIAAA,CAAA,QAAK;gFAAC,IAAG;gFAAW,MAAK;gFAAS,OAAO,oBAAoB,KAAK;gFAAE,UAAU,CAAA,IAAK,uBAAuB,CAAA,IAAK,CAAC;4FAAE,GAAG,CAAC;4FAAE,OAAO,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO;wFAAE,CAAC;;;;;;;;;;;;kFAEvK,6LAAC;;0FACG,6LAAC,oIAAA,CAAA,QAAK;gFAAC,SAAQ;0FAAa,MAAM,gBAAgB;;;;;;0FAClD,6LAAC,oIAAA,CAAA,QAAK;gFAAC,IAAG;gFAAY,OAAO,oBAAoB,MAAM;gFAAE,UAAU,CAAA,IAAK,uBAAuB,CAAA,IAAK,CAAC;4FAAE,GAAG,CAAC;4FAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wFAAC,CAAC;gFAAI,aAAa,MAAM,2BAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;0DAM3M,6LAAC,wIAAA,CAAA,gBAAa;gDAAC,OAAM;;kEACjB,6LAAC,wIAAA,CAAA,mBAAgB;kEAAE,MAAM,sBAAsB;;;;;;kEAC/C,6LAAC,wIAAA,CAAA,mBAAgB;wDAAC,WAAU;;0EACxB,6LAAC;gEAAI,WAAU;;kFACX,6LAAC,qIAAA,CAAA,SAAM;wEAAC,IAAG;wEAAoB,SAAS,oBAAoB,OAAO;wEAAE,iBAAiB,CAAC,UAAY,uBAAuB,CAAA,IAAK,CAAC;oFAAC,GAAG,CAAC;oFAAE,SAAS;gFAAO,CAAC;;;;;;kFACxJ,6LAAC,oIAAA,CAAA,QAAK;wEAAC,SAAQ;kFAAqB,MAAM,mBAAmB;;;;;;;;;;;;4DAEhE,oBAAoB,OAAO,kBACxB,6LAAC;;kFACG,6LAAC,oIAAA,CAAA,QAAK;wEAAC,SAAQ;kFAAgB,MAAM,WAAW;;;;;;kFAChD,6LAAC,oIAAA,CAAA,QAAK;wEAAC,IAAG;wEAAe,MAAK;wEAAW,OAAO,oBAAoB,QAAQ;wEAAE,UAAU,CAAA,IAAK,uBAAuB,CAAA,IAAK,CAAC;oFAAC,GAAG,CAAC;oFAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gFAAA,CAAC;wEAAI,aAAa,MAAM,sBAAsB;;;;;;;;;;;;;;;;;;;;;;;;0DAKvN,6LAAC,wIAAA,CAAA,gBAAa;gDAAC,OAAM;;kEACjB,6LAAC,wIAAA,CAAA,mBAAgB;kEAAE,MAAM,aAAa;;;;;;kEACtC,6LAAC,wIAAA,CAAA,mBAAgB;wDAAC,WAAU;;0EACzB,6LAAC,qIAAA,CAAA,SAAM;gEAAC,SAAS;gEAAqB,UAAU,CAAC,mBAAmB,sBAAsB,CAAC;gEAAuB,WAAU;;oEACxH,mCAAqB,6LAAC,oNAAA,CAAA,UAAO;wEAAC,WAAU;;;;;6FAAiC,6LAAC,iNAAA,CAAA,WAAQ;wEAAC,WAAU;;;;;;oEAC7F,MAAM,aAAa;;;;;;;4DAEtB,6BACG,6LAAC;gEAAE,MAAM;gEAAa,QAAO;gEAAS,KAAI;0EACtC,cAAA,6LAAC,qIAAA,CAAA,SAAM;oEAAC,SAAQ;oEAAU,WAAU;8EAAU,MAAM,gBAAgB;;;;;;;;;;;4DAG3E,qCAAuB,6LAAC;gEAAE,WAAU;0EAA4B;;;;;;4DAChE,CAAC,uCAAyB,6LAAC;gEAAE,WAAU;0EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrG;IAn1EwB;;QACP,qIAAA,CAAA,YAAS;QACN,+HAAA,CAAA,WAAQ;;;MAFJ","debugId":null}}]
}