"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/edit-pdf/page",{

/***/ "(app-pages-browser)/./src/app/edit-pdf/components/PdfCanvas.tsx":
/*!***************************************************!*\
  !*** ./src/app/edit-pdf/components/PdfCanvas.tsx ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist/build/pdf */ \"(app-pages-browser)/./node_modules/pdfjs-dist/build/pdf.js\");\n/* harmony import */ var pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fabric */ \"(app-pages-browser)/./node_modules/fabric/dist/index.min.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\npdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.version, \"/pdf.worker.min.js\");\nconst PdfCanvas = (param)=>{\n    let { pdfFile, onTotalPages, onCurrentPageChange, zoom, rotations, scrollToPage, onScrollComplete, toolMode, color, setActiveObject, setIsTextEditing } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fabricCanvasRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const pageRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const [pdfDoc, setPdfDoc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isPanning = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const panStart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        y: 0,\n        scrollLeft: 0,\n        scrollTop: 0\n    });\n    const textDrawing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        isDrawing: false,\n        startX: 0,\n        startY: 0,\n        rect: null\n    });\n    // Load PDF document\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (!pdfFile) {\n                fabricCanvasRefs.current.forEach({\n                    \"PdfCanvas.useEffect\": (canvas)=>canvas.dispose()\n                }[\"PdfCanvas.useEffect\"]);\n                fabricCanvasRefs.current = [];\n                pageRefs.current = [];\n                if (containerRef.current) containerRef.current.innerHTML = \"\";\n                setPdfDoc(null);\n                return;\n            }\n            const reader = new FileReader();\n            reader.onload = ({\n                \"PdfCanvas.useEffect\": async ()=>{\n                    const data = new Uint8Array(reader.result);\n                    try {\n                        const doc = await pdfjs_dist_build_pdf__WEBPACK_IMPORTED_MODULE_2__.getDocument({\n                            data\n                        }).promise;\n                        setPdfDoc(doc);\n                        onTotalPages(doc.numPages);\n                    } catch (error) {\n                        console.error(\"Error loading PDF document:\", error);\n                    }\n                }\n            })[\"PdfCanvas.useEffect\"];\n            reader.readAsArrayBuffer(pdfFile);\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        pdfFile,\n        onTotalPages\n    ]);\n    const addFabricEventListeners = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PdfCanvas.useCallback[addFabricEventListeners]\": (canvas)=>{\n            canvas.on('mouse:down', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (o)=>{\n                    if (toolMode !== 'text' || !o.pointer) return;\n                    textDrawing.current.isDrawing = true;\n                    textDrawing.current.startX = o.pointer.x;\n                    textDrawing.current.startY = o.pointer.y;\n                    textDrawing.current.rect = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.Rect({\n                        left: o.pointer.x,\n                        top: o.pointer.y,\n                        width: 0,\n                        height: 0,\n                        stroke: 'rgba(100, 200, 200, 0.5)',\n                        strokeWidth: 1,\n                        fill: 'rgba(100, 200, 200, 0.1)',\n                        selectable: false\n                    });\n                    canvas.add(textDrawing.current.rect);\n                }\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('mouse:move', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (o)=>{\n                    if (!textDrawing.current.isDrawing || !o.pointer || !textDrawing.current.rect) return;\n                    const { startX, startY } = textDrawing.current;\n                    let left = startX;\n                    let top = startY;\n                    let width = o.pointer.x - startX;\n                    let height = o.pointer.y - startY;\n                    if (width < 0) {\n                        left = o.pointer.x;\n                        width = -width;\n                    }\n                    if (height < 0) {\n                        top = o.pointer.y;\n                        height = -height;\n                    }\n                    textDrawing.current.rect.set({\n                        left,\n                        top,\n                        width,\n                        height\n                    });\n                    canvas.requestRenderAll();\n                }\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('mouse:up', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (o)=>{\n                    if (!textDrawing.current.isDrawing || !o.pointer || !textDrawing.current.rect) return;\n                    const { left, top, width, height } = textDrawing.current.rect;\n                    canvas.remove(textDrawing.current.rect);\n                    textDrawing.current.isDrawing = false;\n                    textDrawing.current.rect = null;\n                    if (width > 5 && height > 5) {\n                        const newText = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.IText('點擊編輯', {\n                            left: left,\n                            top: top,\n                            width: width,\n                            height: height,\n                            fill: color,\n                            fontSize: 20,\n                            fontFamily: 'Arial',\n                            name: \"text_\".concat((0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])())\n                        });\n                        canvas.add(newText);\n                        canvas.setActiveObject(newText);\n                    }\n                    canvas.requestRenderAll();\n                }\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('selection:created', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (e)=>setActiveObject(e.selected ? e.selected[0] : null)\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('selection:updated', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (e)=>setActiveObject(e.selected ? e.selected[0] : null)\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('selection:cleared', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": ()=>setActiveObject(null)\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            canvas.on('mouse:dblclick', {\n                \"PdfCanvas.useCallback[addFabricEventListeners]\": (o)=>{\n                    if (o.target && o.target.type === 'i-text') {\n                        setIsTextEditing(o.target);\n                        o.target.enterEditing();\n                    }\n                }\n            }[\"PdfCanvas.useCallback[addFabricEventListeners]\"]);\n            // This bypasses fabric's event system for the wheel event and attaches a native listener.\n            // This prevents fabric from blocking the scroll event that the parent container needs.\n            const wheelHandler = {\n                \"PdfCanvas.useCallback[addFabricEventListeners].wheelHandler\": (e)=>{\n                    if (containerRef.current) {\n                        containerRef.current.scrollTop += e.deltaY;\n                        // Prevent the default browser action (like page zoom or navigating back/forward)\n                        e.preventDefault();\n                    }\n                }\n            }[\"PdfCanvas.useCallback[addFabricEventListeners].wheelHandler\"];\n            if (canvas.upperCanvasEl) {\n                // We use { passive: false } to signal that we might call preventDefault().\n                canvas.upperCanvasEl.addEventListener('wheel', wheelHandler, {\n                    passive: false\n                });\n            }\n        }\n    }[\"PdfCanvas.useCallback[addFabricEventListeners]\"], [\n        toolMode,\n        color,\n        setActiveObject,\n        setIsTextEditing\n    ]);\n    // Render all pages and set up observers\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (!pdfDoc || !containerRef.current) return;\n            const intersectionObserver = new IntersectionObserver({\n                \"PdfCanvas.useEffect\": (entries)=>{\n                    const visibleEntries = entries.filter({\n                        \"PdfCanvas.useEffect.visibleEntries\": (e)=>e.isIntersecting\n                    }[\"PdfCanvas.useEffect.visibleEntries\"]);\n                    if (visibleEntries.length > 0) {\n                        visibleEntries.sort({\n                            \"PdfCanvas.useEffect\": (a, b)=>a.boundingClientRect.top - b.boundingClientRect.top\n                        }[\"PdfCanvas.useEffect\"]);\n                        const topVisiblePage = visibleEntries[0];\n                        const pageNum = Number(topVisiblePage.target.dataset.pageNumber);\n                        if (pageNum) onCurrentPageChange(pageNum);\n                    }\n                }\n            }[\"PdfCanvas.useEffect\"], {\n                root: containerRef.current,\n                rootMargin: \"-50% 0px -50% 0px\",\n                threshold: 0\n            });\n            // Cleanup old canvases\n            fabricCanvasRefs.current.forEach({\n                \"PdfCanvas.useEffect\": (canvas)=>canvas.dispose()\n            }[\"PdfCanvas.useEffect\"]);\n            fabricCanvasRefs.current = [];\n            pageRefs.current = [];\n            if (containerRef.current) containerRef.current.innerHTML = \"\";\n            const renderAllPages = {\n                \"PdfCanvas.useEffect.renderAllPages\": async ()=>{\n                    if (!containerRef.current) return;\n                    const availableWidth = containerRef.current.clientWidth - 32;\n                    for(let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++){\n                        const page = await pdfDoc.getPage(pageNum);\n                        const rotation = rotations[pageNum] || 0;\n                        const unrotatedViewport = page.getViewport({\n                            scale: 1\n                        });\n                        const scaleToFit = availableWidth / unrotatedViewport.width;\n                        const viewport = page.getViewport({\n                            scale: scaleToFit * zoom,\n                            rotation\n                        });\n                        const pageContainer = document.createElement(\"div\");\n                        pageContainer.className = \"relative mb-4 bg-background shadow-md\";\n                        pageContainer.dataset.pageNumber = String(pageNum);\n                        const pdfCanvasEl = document.createElement(\"canvas\");\n                        const fabricCanvasEl = document.createElement(\"canvas\");\n                        fabricCanvasEl.className = \"absolute top-0 left-0\";\n                        pageContainer.append(pdfCanvasEl, fabricCanvasEl);\n                        containerRef.current.appendChild(pageContainer);\n                        pdfCanvasEl.width = viewport.width;\n                        pdfCanvasEl.height = viewport.height;\n                        fabricCanvasEl.width = viewport.width;\n                        fabricCanvasEl.height = viewport.height;\n                        const pdfCtx = pdfCanvasEl.getContext(\"2d\");\n                        if (pdfCtx) {\n                            await page.render({\n                                canvasContext: pdfCtx,\n                                viewport\n                            }).promise;\n                        }\n                        const fabricCanvas = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.Canvas(fabricCanvasEl);\n                        fabricCanvasRefs.current[pageNum - 1] = fabricCanvas;\n                        pageRefs.current[pageNum - 1] = pageContainer;\n                        addFabricEventListeners(fabricCanvas);\n                        intersectionObserver.observe(pageContainer);\n                    }\n                }\n            }[\"PdfCanvas.useEffect.renderAllPages\"];\n            renderAllPages();\n            return ({\n                \"PdfCanvas.useEffect\": ()=>{\n                    intersectionObserver.disconnect();\n                }\n            })[\"PdfCanvas.useEffect\"];\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        pdfDoc,\n        zoom,\n        rotations,\n        onCurrentPageChange,\n        addFabricEventListeners\n    ]);\n    // Update canvas properties when tool mode or color changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            fabricCanvasRefs.current.forEach({\n                \"PdfCanvas.useEffect\": (canvas)=>{\n                    if (!canvas) return;\n                    canvas.selection = toolMode === 'select';\n                    canvas.isDrawingMode = toolMode === 'draw';\n                    if (canvas.freeDrawingBrush) {\n                        canvas.freeDrawingBrush.color = color;\n                        canvas.freeDrawingBrush.width = 5;\n                    }\n                    canvas.setCursor(toolMode === 'text' ? 'crosshair' : 'default');\n                    const upperCanvas = canvas.upperCanvasEl;\n                    if (upperCanvas) {\n                        upperCanvas.style.cursor = \"\"; // Reset fabric's inline cursor style\n                    }\n                }\n            }[\"PdfCanvas.useEffect\"]);\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        toolMode,\n        color\n    ]);\n    // Scroll to a specific page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (scrollToPage && pageRefs.current[scrollToPage - 1]) {\n                var _pageRefs_current_;\n                (_pageRefs_current_ = pageRefs.current[scrollToPage - 1]) === null || _pageRefs_current_ === void 0 ? void 0 : _pageRefs_current_.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n                onScrollComplete();\n            }\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        scrollToPage,\n        onScrollComplete\n    ]);\n    // Panning logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            const container = containerRef.current;\n            if (!container) return;\n            if (toolMode === 'move') {\n                container.style.cursor = 'grab';\n            } else {\n                container.style.cursor = 'default';\n            }\n            const handleMouseDown = {\n                \"PdfCanvas.useEffect.handleMouseDown\": (e)=>{\n                    if (toolMode !== 'move' || !containerRef.current) return;\n                    // Pan only when clicking on the container background, not the canvas\n                    if (e.target.closest('.relative.mb-4')) return;\n                    isPanning.current = true;\n                    containerRef.current.style.cursor = 'grabbing';\n                    panStart.current = {\n                        x: e.clientX,\n                        y: e.clientY,\n                        scrollLeft: containerRef.current.scrollLeft,\n                        scrollTop: containerRef.current.scrollTop\n                    };\n                    e.preventDefault();\n                }\n            }[\"PdfCanvas.useEffect.handleMouseDown\"];\n            const handleMouseMove = {\n                \"PdfCanvas.useEffect.handleMouseMove\": (e)=>{\n                    if (!isPanning.current || !containerRef.current) return;\n                    e.preventDefault();\n                    const dx = e.clientX - panStart.current.x;\n                    const dy = e.clientY - panStart.current.y;\n                    containerRef.current.scrollTop = panStart.current.scrollTop - dy;\n                    containerRef.current.scrollLeft = panStart.current.scrollLeft - dx;\n                }\n            }[\"PdfCanvas.useEffect.handleMouseMove\"];\n            const handleMouseUp = {\n                \"PdfCanvas.useEffect.handleMouseUp\": ()=>{\n                    if (!isPanning.current || !containerRef.current) return;\n                    isPanning.current = false;\n                    if (toolMode === 'move') containerRef.current.style.cursor = 'grab';\n                }\n            }[\"PdfCanvas.useEffect.handleMouseUp\"];\n            container.addEventListener('mousedown', handleMouseDown);\n            container.addEventListener('mousemove', handleMouseMove);\n            window.addEventListener('mouseup', handleMouseUp);\n            container.addEventListener('mouseleave', handleMouseUp);\n            return ({\n                \"PdfCanvas.useEffect\": ()=>{\n                    if (container) {\n                        container.removeEventListener('mousedown', handleMouseDown);\n                        container.removeEventListener('mousemove', handleMouseMove);\n                    }\n                    window.removeEventListener('mouseup', handleMouseUp);\n                }\n            })[\"PdfCanvas.useEffect\"];\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        toolMode\n    ]);\n    // Center canvas on zoom\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PdfCanvas.useEffect\": ()=>{\n            if (!containerRef.current) return;\n            const containerWidth = containerRef.current.clientWidth;\n            const contentWidth = containerRef.current.scrollWidth;\n            if (contentWidth > containerWidth) {\n                containerRef.current.scrollLeft = (contentWidth - containerWidth) / 2;\n            } else {\n                containerRef.current.scrollLeft = 0;\n            }\n        }\n    }[\"PdfCanvas.useEffect\"], [\n        zoom\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"w-full h-full flex flex-col items-center overflow-auto bg-muted p-4\"\n    }, void 0, false, {\n        fileName: \"/home/user/studio/src/app/edit-pdf/components/PdfCanvas.tsx\",\n        lineNumber: 335,\n        columnNumber: 5\n    }, undefined);\n};\n_s(PdfCanvas, \"NpY0yMQGmQab2yhUeXmsfsOcvSw=\");\n_c = PdfCanvas;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PdfCanvas);\nvar _c;\n$RefreshReg$(_c, \"PdfCanvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdC1wZGYvY29tcG9uZW50cy9QZGZDYW52YXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFHd0U7QUFDdkI7QUFDakI7QUFDSTtBQUdwQ0sscUVBQTRCLENBQUNLLFNBQVMsR0FBRywyQ0FBNEQsT0FBakJMLHlEQUFnQixFQUFDO0FBa0JyRyxNQUFNTyxZQUFzQztRQUFDLEVBQzNDQyxPQUFPLEVBQ1BDLFlBQVksRUFDWkMsbUJBQW1CLEVBQ25CQyxJQUFJLEVBQ0pDLFNBQVMsRUFDVEMsWUFBWSxFQUNaQyxnQkFBZ0IsRUFDaEJDLFFBQVEsRUFDUkMsS0FBSyxFQUNMQyxlQUFlLEVBQ2ZDLGdCQUFnQixFQUNqQjs7SUFDQyxNQUFNQyxlQUFldEIsNkNBQU1BLENBQXdCO0lBQ25ELE1BQU11QixtQkFBbUJ2Qiw2Q0FBTUEsQ0FBa0IsRUFBRTtJQUNuRCxNQUFNd0IsV0FBV3hCLDZDQUFNQSxDQUE0QixFQUFFO0lBQ3JELE1BQU0sQ0FBQ3lCLFFBQVFDLFVBQVUsR0FBR3pCLCtDQUFRQSxDQUFtQztJQUV2RSxNQUFNMEIsWUFBWTNCLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU00QixXQUFXNUIsNkNBQU1BLENBQUM7UUFBRTZCLEdBQUc7UUFBR0MsR0FBRztRQUFHQyxZQUFZO1FBQUdDLFdBQVc7SUFBRTtJQUNsRSxNQUFNQyxjQUFjakMsNkNBQU1BLENBS3ZCO1FBQUVrQyxXQUFXO1FBQU9DLFFBQVE7UUFBR0MsUUFBUTtRQUFHQyxNQUFNO0lBQUs7SUFFeEQsb0JBQW9CO0lBQ3BCdEMsZ0RBQVNBOytCQUFDO1lBQ1IsSUFBSSxDQUFDWSxTQUFTO2dCQUNaWSxpQkFBaUJlLE9BQU8sQ0FBQ0MsT0FBTzsyQ0FBQ0MsQ0FBQUEsU0FBVUEsT0FBT0MsT0FBTzs7Z0JBQ3pEbEIsaUJBQWlCZSxPQUFPLEdBQUcsRUFBRTtnQkFDN0JkLFNBQVNjLE9BQU8sR0FBRyxFQUFFO2dCQUNyQixJQUFJaEIsYUFB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dkQsTUFBTWdELGVBQWV4SSxhQUFhZ0IsT0FBTyxDQUFDeUgsV0FBVztZQUNyRCxJQUFJRCxlQUFlRCxnQkFBZ0I7Z0JBQy9CdkksYUFBYWdCLE9BQU8sQ0FBQ1AsVUFBVSxHQUFHLENBQUMrSCxlQUFlRCxjQUFhLElBQUs7WUFDeEUsT0FBTztnQkFDSHZJLGFBQWFnQixPQUFPLENBQUNQLFVBQVUsR0FBRztZQUN0QztRQUNKOzhCQUFHO1FBQUNqQjtLQUFLO0lBR1QscUJBQ0UsOERBQUNrSjtRQUNDQyxLQUFLM0k7UUFDTG9HLFdBQVU7Ozs7OztBQUdoQjtHQXhUTWhIO0tBQUFBO0FBMFROLGlFQUFlQSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9zcmMvYXBwL2VkaXQtcGRmL2NvbXBvbmVudHMvUGRmQ2FudmFzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcblwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgcGRmanNMaWIgZnJvbSBcInBkZmpzLWRpc3QvYnVpbGQvcGRmXCI7XG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tIFwiZmFicmljXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB0eXBlIHsgVG9vbCB9IGZyb20gXCIuL1Rvb2xiYXJcIjtcblxucGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmMgPSBgLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcGRmLmpzLyR7cGRmanNMaWIudmVyc2lvbn0vcGRmLndvcmtlci5taW4uanNgO1xuXG5pbnRlcmZhY2UgUGRmQ2FudmFzUHJvcHMge1xuICBwZGZGaWxlOiBGaWxlIHwgbnVsbDtcbiAgb25Ub3RhbFBhZ2VzOiAodG90YWw6IG51bWJlcikgPT4gdm9pZDtcbiAgb25DdXJyZW50UGFnZUNoYW5nZTogKHBhZ2U6IG51bWJlcikgPT4gdm9pZDtcbiAgem9vbTogbnVtYmVyO1xuICByb3RhdGlvbnM6IHsgW2tleTogbnVtYmVyXTogbnVtYmVyIH07XG4gIHNjcm9sbFRvUGFnZTogbnVtYmVyIHwgbnVsbDtcbiAgb25TY3JvbGxDb21wbGV0ZTogKCkgPT4gdm9pZDtcbiAgdG9vbE1vZGU6IFRvb2w7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIGFjdGl2ZU9iamVjdDogZmFicmljLk9iamVjdCB8IG51bGw7XG4gIHNldEFjdGl2ZU9iamVjdDogKG9iajogZmFicmljLk9iamVjdCB8IG51bGwpID0+IHZvaWQ7XG4gIGlzVGV4dEVkaXRpbmc6IGJvb2xlYW47XG4gIHNldElzVGV4dEVkaXRpbmc6IChvYmo6IGZhYnJpYy5PYmplY3QpID0+IHZvaWQ7XG59XG5cbmNvbnN0IFBkZkNhbnZhczogUmVhY3QuRkM8UGRmQ2FudmFzUHJvcHM+ID0gKHtcbiAgcGRmRmlsZSxcbiAgb25Ub3RhbFBhZ2VzLFxuICBvbkN1cnJlbnRQYWdlQ2hhbmdlLFxuICB6b29tLFxuICByb3RhdGlvbnMsXG4gIHNjcm9sbFRvUGFnZSxcbiAgb25TY3JvbGxDb21wbGV0ZSxcbiAgdG9vbE1vZGUsXG4gIGNvbG9yLFxuICBzZXRBY3RpdmVPYmplY3QsXG4gIHNldElzVGV4dEVkaXRpbmcsXG59KSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBmYWJyaWNDYW52YXNSZWZzID0gdXNlUmVmPGZhYnJpYy5DYW52YXNbXT4oW10pO1xuICBjb25zdCBwYWdlUmVmcyA9IHVzZVJlZjwoSFRNTERpdkVsZW1lbnQgfCBudWxsKVtdPihbXSk7XG4gIGNvbnN0IFtwZGZEb2MsIHNldFBkZkRvY10gPSB1c2VTdGF0ZTxwZGZqc0xpYi5QREZEb2N1bWVudFByb3h5IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaXNQYW5uaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgcGFuU3RhcnQgPSB1c2VSZWYoeyB4OiAwLCB5OiAwLCBzY3JvbGxMZWZ0OiAwLCBzY3JvbGxUb3A6IDAgfSk7XG4gIGNvbnN0IHRleHREcmF3aW5nID0gdXNlUmVmPHtcbiAgICBpc0RyYXdpbmc6IGJvb2xlYW47XG4gICAgc3RhcnRYOiBudW1iZXI7XG4gICAgc3RhcnRZOiBudW1iZXI7XG4gICAgcmVjdDogZmFicmljLlJlY3QgfCBudWxsO1xuICB9Pih7IGlzRHJhd2luZzogZmFsc2UsIHN0YXJ0WDogMCwgc3RhcnRZOiAwLCByZWN0OiBudWxsIH0pO1xuXG4gIC8vIExvYWQgUERGIGRvY3VtZW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwZGZGaWxlKSB7XG4gICAgICBmYWJyaWNDYW52YXNSZWZzLmN1cnJlbnQuZm9yRWFjaChjYW52YXMgPT4gY2FudmFzLmRpc3Bvc2UoKSk7XG4gICAgICBmYWJyaWNDYW52YXNSZWZzLmN1cnJlbnQgPSBbXTtcbiAgICAgIHBhZ2VSZWZzLmN1cnJlbnQgPSBbXTtcbiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkgY29udGFpbmVyUmVmLmN1cnJlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHNldFBkZkRvYyhudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZG9jID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhIH0pLnByb21pc2U7XG4gICAgICAgIHNldFBkZkRvYyhkb2MpO1xuICAgICAgICBvblRvdGFsUGFnZXMoZG9jLm51bVBhZ2VzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIFBERiBkb2N1bWVudDpcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHBkZkZpbGUpO1xuICB9LCBbcGRmRmlsZSwgb25Ub3RhbFBhZ2VzXSk7XG4gIFxuICBjb25zdCBhZGRGYWJyaWNFdmVudExpc3RlbmVycyA9IHVzZUNhbGxiYWNrKChjYW52YXM6IGZhYnJpYy5DYW52YXMpID0+IHtcbiAgICBjYW52YXMub24oJ21vdXNlOmRvd24nLCAobykgPT4ge1xuICAgICAgICBpZiAodG9vbE1vZGUgIT09ICd0ZXh0JyB8fCAhby5wb2ludGVyKSByZXR1cm47XG4gICAgICAgIHRleHREcmF3aW5nLmN1cnJlbnQuaXNEcmF3aW5nID0gdHJ1ZTtcbiAgICAgICAgdGV4dERyYXdpbmcuY3VycmVudC5zdGFydFggPSBvLnBvaW50ZXIueDtcbiAgICAgICAgdGV4dERyYXdpbmcuY3VycmVudC5zdGFydFkgPSBvLnBvaW50ZXIueTtcblxuICAgICAgICB0ZXh0RHJhd2luZy5jdXJyZW50LnJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xuICAgICAgICAgICAgbGVmdDogby5wb2ludGVyLngsXG4gICAgICAgICAgICB0b3A6IG8ucG9pbnRlci55LFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBzdHJva2U6ICdyZ2JhKDEwMCwgMjAwLCAyMDAsIDAuNSknLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICBmaWxsOiAncmdiYSgxMDAsIDIwMCwgMjAwLCAwLjEpJyxcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLmFkZCh0ZXh0RHJhd2luZy5jdXJyZW50LnJlY3QpO1xuICAgIH0pO1xuXG4gICAgY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG8pID0+IHtcbiAgICAgICAgaWYgKCF0ZXh0RHJhd2luZy5jdXJyZW50LmlzRHJhd2luZyB8fCAhby5wb2ludGVyIHx8ICF0ZXh0RHJhd2luZy5jdXJyZW50LnJlY3QpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBzdGFydFgsIHN0YXJ0WSB9ID0gdGV4dERyYXdpbmcuY3VycmVudDtcbiAgICAgICAgbGV0IGxlZnQgPSBzdGFydFg7XG4gICAgICAgIGxldCB0b3AgPSBzdGFydFk7XG4gICAgICAgIGxldCB3aWR0aCA9IG8ucG9pbnRlci54IC0gc3RhcnRYO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gby5wb2ludGVyLnkgLSBzdGFydFk7XG5cbiAgICAgICAgaWYgKHdpZHRoIDwgMCkgeyBsZWZ0ID0gby5wb2ludGVyLng7IHdpZHRoID0gLXdpZHRoOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPCAwKSB7IHRvcCA9IG8ucG9pbnRlci55OyBoZWlnaHQgPSAtaGVpZ2h0OyB9XG4gICAgICAgIFxuICAgICAgICB0ZXh0RHJhd2luZy5jdXJyZW50LnJlY3Quc2V0KHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICBjYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIH0pO1xuXG4gICAgY2FudmFzLm9uKCdtb3VzZTp1cCcsIChvKSA9PiB7XG4gICAgICAgIGlmICghdGV4dERyYXdpbmcuY3VycmVudC5pc0RyYXdpbmcgfHwgIW8ucG9pbnRlciB8fCAhdGV4dERyYXdpbmcuY3VycmVudC5yZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSB0ZXh0RHJhd2luZy5jdXJyZW50LnJlY3Q7XG4gICAgICAgIFxuICAgICAgICBjYW52YXMucmVtb3ZlKHRleHREcmF3aW5nLmN1cnJlbnQucmVjdCk7XG4gICAgICAgIHRleHREcmF3aW5nLmN1cnJlbnQuaXNEcmF3aW5nID0gZmFsc2U7XG4gICAgICAgIHRleHREcmF3aW5nLmN1cnJlbnQucmVjdCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHdpZHRoID4gNSAmJiBoZWlnaHQgPiA1KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdUZXh0ID0gbmV3IGZhYnJpYy5JVGV4dCgn6bue5pOK57eo6LyvJywge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9yLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAyMCxcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgICAgIG5hbWU6IGB0ZXh0XyR7dXVpZHY0KCl9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYW52YXMuYWRkKG5ld1RleHQpO1xuICAgICAgICAgICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdChuZXdUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIH0pO1xuXG4gICAgY2FudmFzLm9uKCdzZWxlY3Rpb246Y3JlYXRlZCcsIChlKSA9PiBzZXRBY3RpdmVPYmplY3QoZS5zZWxlY3RlZCA/IGUuc2VsZWN0ZWRbMF0gOiBudWxsKSk7XG4gICAgY2FudmFzLm9uKCdzZWxlY3Rpb246dXBkYXRlZCcsIChlKSA9PiBzZXRBY3RpdmVPYmplY3QoZS5zZWxlY3RlZCA/IGUuc2VsZWN0ZWRbMF0gOiBudWxsKSk7XG4gICAgY2FudmFzLm9uKCdzZWxlY3Rpb246Y2xlYXJlZCcsICgpID0+IHNldEFjdGl2ZU9iamVjdChudWxsKSk7XG4gICAgXG4gICAgY2FudmFzLm9uKCdtb3VzZTpkYmxjbGljaycsIChvKSA9PiB7XG4gICAgICAgIGlmIChvLnRhcmdldCAmJiBvLnRhcmdldC50eXBlID09PSAnaS10ZXh0Jykge1xuICAgICAgICAgICAgc2V0SXNUZXh0RWRpdGluZyhvLnRhcmdldCk7XG4gICAgICAgICAgICBvLnRhcmdldC5lbnRlckVkaXRpbmcoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVGhpcyBieXBhc3NlcyBmYWJyaWMncyBldmVudCBzeXN0ZW0gZm9yIHRoZSB3aGVlbCBldmVudCBhbmQgYXR0YWNoZXMgYSBuYXRpdmUgbGlzdGVuZXIuXG4gICAgLy8gVGhpcyBwcmV2ZW50cyBmYWJyaWMgZnJvbSBibG9ja2luZyB0aGUgc2Nyb2xsIGV2ZW50IHRoYXQgdGhlIHBhcmVudCBjb250YWluZXIgbmVlZHMuXG4gICAgY29uc3Qgd2hlZWxIYW5kbGVyID0gKGU6IFdoZWVsRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgKz0gZS5kZWx0YVk7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uIChsaWtlIHBhZ2Ugem9vbSBvciBuYXZpZ2F0aW5nIGJhY2svZm9yd2FyZClcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgaWYgKGNhbnZhcy51cHBlckNhbnZhc0VsKSB7XG4gICAgICAgIC8vIFdlIHVzZSB7IHBhc3NpdmU6IGZhbHNlIH0gdG8gc2lnbmFsIHRoYXQgd2UgbWlnaHQgY2FsbCBwcmV2ZW50RGVmYXVsdCgpLlxuICAgICAgICBjYW52YXMudXBwZXJDYW52YXNFbC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHdoZWVsSGFuZGxlciwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgfSwgW3Rvb2xNb2RlLCBjb2xvciwgc2V0QWN0aXZlT2JqZWN0LCBzZXRJc1RleHRFZGl0aW5nXSk7XG5cbiAgLy8gUmVuZGVyIGFsbCBwYWdlcyBhbmQgc2V0IHVwIG9ic2VydmVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGRmRG9jIHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBjb25zdCB2aXNpYmxlRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKChlKSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgaWYgKHZpc2libGVFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2aXNpYmxlRW50cmllcy5zb3J0KChhLCBiKSA9PiBhLmJvdW5kaW5nQ2xpZW50UmVjdC50b3AgLSBiLmJvdW5kaW5nQ2xpZW50UmVjdC50b3ApO1xuICAgICAgICAgIGNvbnN0IHRvcFZpc2libGVQYWdlID0gdmlzaWJsZUVudHJpZXNbMF07XG4gICAgICAgICAgY29uc3QgcGFnZU51bSA9IE51bWJlcigodG9wVmlzaWJsZVBhZ2UudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LnBhZ2VOdW1iZXIpO1xuICAgICAgICAgIGlmIChwYWdlTnVtKSBvbkN1cnJlbnRQYWdlQ2hhbmdlKHBhZ2VOdW0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyByb290OiBjb250YWluZXJSZWYuY3VycmVudCwgcm9vdE1hcmdpbjogXCItNTAlIDBweCAtNTAlIDBweFwiLCB0aHJlc2hvbGQ6IDAgfVxuICAgICk7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBvbGQgY2FudmFzZXNcbiAgICBmYWJyaWNDYW52YXNSZWZzLmN1cnJlbnQuZm9yRWFjaChjYW52YXMgPT4gY2FudmFzLmRpc3Bvc2UoKSk7XG4gICAgZmFicmljQ2FudmFzUmVmcy5jdXJyZW50ID0gW107XG4gICAgcGFnZVJlZnMuY3VycmVudCA9IFtdO1xuICAgIGlmKGNvbnRhaW5lclJlZi5jdXJyZW50KSBjb250YWluZXJSZWYuY3VycmVudC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgY29uc3QgcmVuZGVyQWxsUGFnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmNsaWVudFdpZHRoIC0gMzI7XG5cbiAgICAgIGZvciAobGV0IHBhZ2VOdW0gPSAxOyBwYWdlTnVtIDw9IHBkZkRvYy5udW1QYWdlczsgcGFnZU51bSsrKSB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGZEb2MuZ2V0UGFnZShwYWdlTnVtKTtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSByb3RhdGlvbnNbcGFnZU51bV0gfHwgMDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVucm90YXRlZFZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICBjb25zdCBzY2FsZVRvRml0ID0gYXZhaWxhYmxlV2lkdGggLyB1bnJvdGF0ZWRWaWV3cG9ydC53aWR0aDtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IHNjYWxlVG9GaXQgKiB6b29tLCByb3RhdGlvbiB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhZ2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwYWdlQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwicmVsYXRpdmUgbWItNCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1tZFwiO1xuICAgICAgICBwYWdlQ29udGFpbmVyLmRhdGFzZXQucGFnZU51bWJlciA9IFN0cmluZyhwYWdlTnVtKTtcblxuICAgICAgICBjb25zdCBwZGZDYW52YXNFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGNvbnN0IGZhYnJpY0NhbnZhc0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgZmFicmljQ2FudmFzRWwuY2xhc3NOYW1lID0gXCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTBcIjtcbiAgICAgICAgXG4gICAgICAgIHBhZ2VDb250YWluZXIuYXBwZW5kKHBkZkNhbnZhc0VsLCBmYWJyaWNDYW52YXNFbCk7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LmFwcGVuZENoaWxkKHBhZ2VDb250YWluZXIpO1xuICAgICAgICBcbiAgICAgICAgcGRmQ2FudmFzRWwud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgICAgcGRmQ2FudmFzRWwuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICBmYWJyaWNDYW52YXNFbC53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgICBmYWJyaWNDYW52YXNFbC5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwZGZDdHggPSBwZGZDYW52YXNFbC5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGlmIChwZGZDdHgpIHtcbiAgICAgICAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogcGRmQ3R4LCB2aWV3cG9ydCB9KS5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmFicmljQ2FudmFzID0gbmV3IGZhYnJpYy5DYW52YXMoZmFicmljQ2FudmFzRWwpO1xuICAgICAgICBcbiAgICAgICAgZmFicmljQ2FudmFzUmVmcy5jdXJyZW50W3BhZ2VOdW0tMV0gPSBmYWJyaWNDYW52YXM7XG4gICAgICAgIHBhZ2VSZWZzLmN1cnJlbnRbcGFnZU51bS0xXSA9IHBhZ2VDb250YWluZXI7XG5cbiAgICAgICAgYWRkRmFicmljRXZlbnRMaXN0ZW5lcnMoZmFicmljQ2FudmFzKTtcbiAgICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShwYWdlQ29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlbmRlckFsbFBhZ2VzKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtwZGZEb2MsIHpvb20sIHJvdGF0aW9ucywgb25DdXJyZW50UGFnZUNoYW5nZSwgYWRkRmFicmljRXZlbnRMaXN0ZW5lcnNdKTtcblxuICAvLyBVcGRhdGUgY2FudmFzIHByb3BlcnRpZXMgd2hlbiB0b29sIG1vZGUgb3IgY29sb3IgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZhYnJpY0NhbnZhc1JlZnMuY3VycmVudC5mb3JFYWNoKGNhbnZhcyA9PiB7XG4gICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRvb2xNb2RlID09PSAnc2VsZWN0JztcbiAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdG9vbE1vZGUgPT09ICdkcmF3JztcbiAgICAgIFxuICAgICAgaWYgKGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoKSB7XG4gICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gY29sb3I7XG4gICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLndpZHRoID0gNTtcbiAgICAgIH1cbiAgICAgIGNhbnZhcy5zZXRDdXJzb3IodG9vbE1vZGUgPT09ICd0ZXh0JyA/ICdjcm9zc2hhaXInIDogJ2RlZmF1bHQnKTtcbiAgICAgIGNvbnN0IHVwcGVyQ2FudmFzID0gY2FudmFzLnVwcGVyQ2FudmFzRWw7XG4gICAgICBpZiAodXBwZXJDYW52YXMpIHtcbiAgICAgICAgdXBwZXJDYW52YXMuc3R5bGUuY3Vyc29yID0gXCJcIjsgLy8gUmVzZXQgZmFicmljJ3MgaW5saW5lIGN1cnNvciBzdHlsZVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbdG9vbE1vZGUsIGNvbG9yXSk7XG5cbiAgLy8gU2Nyb2xsIHRvIGEgc3BlY2lmaWMgcGFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JvbGxUb1BhZ2UgJiYgcGFnZVJlZnMuY3VycmVudFtzY3JvbGxUb1BhZ2UgLSAxXSkge1xuICAgICAgcGFnZVJlZnMuY3VycmVudFtzY3JvbGxUb1BhZ2UgLSAxXT8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwic3RhcnRcIiB9KTtcbiAgICAgIG9uU2Nyb2xsQ29tcGxldGUoKTtcbiAgICB9XG4gIH0sIFtzY3JvbGxUb1BhZ2UsIG9uU2Nyb2xsQ29tcGxldGVdKTtcblxuICAvLyBQYW5uaW5nIGxvZ2ljXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjb250YWluZXIpIHJldHVybjtcblxuICAgIGlmICh0b29sTW9kZSA9PT0gJ21vdmUnKSB7XG4gICAgICBjb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAodG9vbE1vZGUgIT09ICdtb3ZlJyB8fCAhY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIC8vIFBhbiBvbmx5IHdoZW4gY2xpY2tpbmcgb24gdGhlIGNvbnRhaW5lciBiYWNrZ3JvdW5kLCBub3QgdGhlIGNhbnZhc1xuICAgICAgaWYgKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnLnJlbGF0aXZlLm1iLTQnKSkgcmV0dXJuO1xuICAgICAgaXNQYW5uaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJztcbiAgICAgIHBhblN0YXJ0LmN1cnJlbnQgPSB7XG4gICAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgICAgeTogZS5jbGllbnRZLFxuICAgICAgICBzY3JvbGxMZWZ0OiBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCxcbiAgICAgIH07XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzUGFubmluZy5jdXJyZW50IHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgZHggPSBlLmNsaWVudFggLSBwYW5TdGFydC5jdXJyZW50Lng7XG4gICAgICBjb25zdCBkeSA9IGUuY2xpZW50WSAtIHBhblN0YXJ0LmN1cnJlbnQueTtcbiAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHBhblN0YXJ0LmN1cnJlbnQuc2Nyb2xsVG9wIC0gZHk7XG4gICAgICBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxMZWZ0ID0gcGFuU3RhcnQuY3VycmVudC5zY3JvbGxMZWZ0IC0gZHg7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBpZiAoIWlzUGFubmluZy5jdXJyZW50IHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaXNQYW5uaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmICh0b29sTW9kZSA9PT0gJ21vdmUnKSBjb250YWluZXJSZWYuY3VycmVudC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgfTtcbiAgICBcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlTW91c2VEb3duKTtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VVcCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24pO1xuICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgfVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICB9O1xuICB9LCBbdG9vbE1vZGVdKTtcblxuICAvLyBDZW50ZXIgY2FudmFzIG9uIHpvb21cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyUmVmLmN1cnJlbnQuY2xpZW50V2lkdGg7XG4gICAgICBjb25zdCBjb250ZW50V2lkdGggPSBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxXaWR0aDtcbiAgICAgIGlmIChjb250ZW50V2lkdGggPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSAoY29udGVudFdpZHRoIC0gY29udGFpbmVyV2lkdGgpIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICB9XG4gIH0sIFt6b29tXSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxuICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBvdmVyZmxvdy1hdXRvIGJnLW11dGVkIHAtNFwiXG4gICAgLz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBkZkNhbnZhcztcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJwZGZqc0xpYiIsImZhYnJpYyIsInY0IiwidXVpZHY0IiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsIndvcmtlclNyYyIsInZlcnNpb24iLCJQZGZDYW52YXMiLCJwZGZGaWxlIiwib25Ub3RhbFBhZ2VzIiwib25DdXJyZW50UGFnZUNoYW5nZSIsInpvb20iLCJyb3RhdGlvbnMiLCJzY3JvbGxUb1BhZ2UiLCJvblNjcm9sbENvbXBsZXRlIiwidG9vbE1vZGUiLCJjb2xvciIsInNldEFjdGl2ZU9iamVjdCIsInNldElzVGV4dEVkaXRpbmciLCJjb250YWluZXJSZWYiLCJmYWJyaWNDYW52YXNSZWZzIiwicGFnZVJlZnMiLCJwZGZEb2MiLCJzZXRQZGZEb2MiLCJpc1Bhbm5pbmciLCJwYW5TdGFydCIsIngiLCJ5Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsInRleHREcmF3aW5nIiwiaXNEcmF3aW5nIiwic3RhcnRYIiwic3RhcnRZIiwicmVjdCIsImN1cnJlbnQiLCJmb3JFYWNoIiwiY2FudmFzIiwiZGlzcG9zZSIsImlubmVySFRNTCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJkYXRhIiwiVWludDhBcnJheSIsInJlc3VsdCIsImRvYyIsImdldERvY3VtZW50IiwicHJvbWlzZSIsIm51bVBhZ2VzIiwiZXJyb3IiLCJjb25zb2xlIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJhZGRGYWJyaWNFdmVudExpc3RlbmVycyIsIm9uIiwibyIsInBvaW50ZXIiLCJSZWN0IiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0Iiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJmaWxsIiwic2VsZWN0YWJsZSIsImFkZCIsInNldCIsInJlcXVlc3RSZW5kZXJBbGwiLCJyZW1vdmUiLCJuZXdUZXh0IiwiSVRleHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJuYW1lIiwiZSIsInNlbGVjdGVkIiwidGFyZ2V0IiwidHlwZSIsImVudGVyRWRpdGluZyIsIndoZWVsSGFuZGxlciIsImRlbHRhWSIsInByZXZlbnREZWZhdWx0IiwidXBwZXJDYW52YXNFbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwiaW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJ2aXNpYmxlRW50cmllcyIsImZpbHRlciIsImlzSW50ZXJzZWN0aW5nIiwibGVuZ3RoIiwic29ydCIsImEiLCJiIiwiYm91bmRpbmdDbGllbnRSZWN0IiwidG9wVmlzaWJsZVBhZ2UiLCJwYWdlTnVtIiwiTnVtYmVyIiwiZGF0YXNldCIsInBhZ2VOdW1iZXIiLCJyb290Iiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsInJlbmRlckFsbFBhZ2VzIiwiYXZhaWxhYmxlV2lkdGgiLCJjbGllbnRXaWR0aCIsInBhZ2UiLCJnZXRQYWdlIiwicm90YXRpb24iLCJ1bnJvdGF0ZWRWaWV3cG9ydCIsImdldFZpZXdwb3J0Iiwic2NhbGUiLCJzY2FsZVRvRml0Iiwidmlld3BvcnQiLCJwYWdlQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiU3RyaW5nIiwicGRmQ2FudmFzRWwiLCJmYWJyaWNDYW52YXNFbCIsImFwcGVuZCIsImFwcGVuZENoaWxkIiwicGRmQ3R4IiwiZ2V0Q29udGV4dCIsInJlbmRlciIsImNhbnZhc0NvbnRleHQiLCJmYWJyaWNDYW52YXMiLCJDYW52YXMiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsInNlbGVjdGlvbiIsImlzRHJhd2luZ01vZGUiLCJmcmVlRHJhd2luZ0JydXNoIiwic2V0Q3Vyc29yIiwidXBwZXJDYW52YXMiLCJzdHlsZSIsImN1cnNvciIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsImNvbnRhaW5lciIsImhhbmRsZU1vdXNlRG93biIsImNsb3Nlc3QiLCJjbGllbnRYIiwiY2xpZW50WSIsImhhbmRsZU1vdXNlTW92ZSIsImR4IiwiZHkiLCJoYW5kbGVNb3VzZVVwIiwid2luZG93IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lcldpZHRoIiwiY29udGVudFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJkaXYiLCJyZWYiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/edit-pdf/components/PdfCanvas.tsx\n"));

/***/ })

});